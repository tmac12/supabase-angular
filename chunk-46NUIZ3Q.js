import{b as Kn,c as qa}from"./chunk-JENGY3ED.js";import{a as ae,b as ce,d as p}from"./chunk-PYQTE2ZK.js";function _(t){return typeof t=="function"}function ss(t){return _(t?.lift)}function M(t){return e=>{if(ss(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Et(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Zn=Et(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function on(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var q=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(_(r))try{r()}catch(s){e=s instanceof Zn?s.errors:[s]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let s of o)try{Wa(s)}catch(i){e=e??[],i instanceof Zn?e=[...e,...i.errors]:e.push(i)}}if(e)throw new Zn(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Wa(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&on(n,e)}remove(e){let{_finalizers:n}=this;n&&on(n,e),e instanceof t&&e._removeParent(this)}};q.EMPTY=(()=>{let t=new q;return t.closed=!0,t})();var is=q.EMPTY;function Xn(t){return t instanceof q||t&&"closed"in t&&_(t.remove)&&_(t.add)&&_(t.unsubscribe)}function Wa(t){_(t)?t():t.unsubscribe()}var me={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var xt={setTimeout(t,e,...n){let{delegate:r}=xt;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=xt;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function er(t){xt.setTimeout(()=>{let{onUnhandledError:e}=me;if(e)e(t);else throw t})}function sn(){}var Ga=as("C",void 0,void 0);function za(t){return as("E",void 0,t)}function Qa(t){return as("N",t,void 0)}function as(t,e,n){return{kind:t,value:e,error:n}}var Je=null;function Dt(t){if(me.useDeprecatedSynchronousErrorHandling){let e=!Je;if(e&&(Je={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Je;if(Je=null,n)throw r}}else t()}function Ja(t){me.useDeprecatedSynchronousErrorHandling&&Je&&(Je.errorThrown=!0,Je.error=t)}var Ye=class extends q{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Xn(e)&&e.add(this)):this.destination=Nf}static create(e,n,r){return new Ct(e,n,r)}next(e){this.isStopped?ls(Qa(e),this):this._next(e)}error(e){this.isStopped?ls(za(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ls(Ga,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Mf=Function.prototype.bind;function cs(t,e){return Mf.call(t,e)}var us=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){tr(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){tr(r)}else tr(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){tr(n)}}},Ct=class extends Ye{constructor(e,n,r){super();let o;if(_(e)||!e)o={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&me.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&cs(e.next,s),error:e.error&&cs(e.error,s),complete:e.complete&&cs(e.complete,s)}):o=e}this.destination=new us(o)}};function tr(t){me.useDeprecatedSynchronousErrorHandling?Ja(t):er(t)}function Sf(t){throw t}function ls(t,e){let{onStoppedNotification:n}=me;n&&xt.setTimeout(()=>n(t,e))}var Nf={closed:!0,next:sn,error:Sf,complete:sn};function x(t,e,n,r,o){return new ds(t,e,n,r,o)}var ds=class extends Ye{constructor(e,n,r,o,s,i){super(e),this.onFinalize=s,this.shouldUnsubscribe=i,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function le(t,e){return M((n,r)=>{let o=0;n.subscribe(x(r,s=>{r.next(t.call(e,s,o++))}))})}var Ke=Et(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function an(t,e){return M((n,r)=>{let o=0;n.subscribe(x(r,s=>t.call(e,s,o++)&&r.next(s)))})}var Tt=typeof Symbol=="function"&&Symbol.observable||"@@observable";function W(t){return t}function Of(...t){return fs(t)}function fs(t){return t.length===0?W:t.length===1?t[0]:function(n){return t.reduce((r,o)=>o(r),n)}}var O=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,o){let s=kf(n)?n:new Ct(n,r,o);return Dt(()=>{let{operator:i,source:a}=this;s.add(i?i.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Ya(r),new r((o,s)=>{let i=new Ct({next:a=>{try{n(a)}catch(c){s(c),i.unsubscribe()}},error:s,complete:o});this.subscribe(i)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Tt](){return this}pipe(...n){return fs(n)(this)}toPromise(n){return n=Ya(n),new n((r,o)=>{let s;this.subscribe(i=>s=i,i=>o(i),()=>r(s))})}}return t.create=e=>new t(e),t})();function Ya(t){var e;return(e=t??me.Promise)!==null&&e!==void 0?e:Promise}function Af(t){return t&&_(t.next)&&_(t.error)&&_(t.complete)}function kf(t){return t&&t instanceof Ye||Af(t)&&Xn(t)}var cn=new O(t=>t.complete());function hs(t){return t<=0?()=>cn:M((e,n)=>{let r=0;e.subscribe(x(n,o=>{++r<=t&&(n.next(o),t<=r&&n.complete())}))})}function ln(t){return M((e,n)=>{let r=!1;e.subscribe(x(n,o=>{r=!0,n.next(o)},()=>{r||n.next(t),n.complete()}))})}function nr(t=Rf){return M((e,n)=>{let r=!1;e.subscribe(x(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(t())))})}function Rf(){return new Ke}function ps(t,e){let n=arguments.length>=2;return r=>r.pipe(t?an((o,s)=>t(o,s,r)):W,hs(1),n?ln(e):nr(()=>new Ke))}function ms(){return M((t,e)=>{let n=null;t._refCount++;let r=x(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let o=t._connection,s=n;n=null,o&&(!s||o===s)&&o.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var gs=class extends O{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ss(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new q;let n=this.getSubject();e.add(this.source.subscribe(x(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=q.EMPTY)}return e}refCount(){return ms()(this)}};var Ka=Et(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Re=(()=>{class t extends O{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new rr(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ka}next(n){Dt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Dt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Dt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:s}=this;return r||o?is:(this.currentObservers=null,s.push(n),new q(()=>{this.currentObservers=null,on(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:s}=this;r?n.error(o):s&&n.complete()}asObservable(){let n=new O;return n.source=this,n}}return t.create=(e,n)=>new rr(e,n),t})(),rr=class extends Re{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:is}};var Ze=class extends Re{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};function Za(t){return t&&_(t.schedule)}function Xa(t){return t[t.length-1]}function or(t){return _(Xa(t))?t.pop():void 0}function Pe(t){return Za(Xa(t))?t.pop():void 0}function tc(t,e,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(u){try{l(r.next(u))}catch(d){i(d)}}function c(u){try{l(r.throw(u))}catch(d){i(d)}}function l(u){u.done?s(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function ec(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xe(t){return this instanceof Xe?(this.v=t,this):new Xe(t)}function nc(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,s=[];return o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o;function i(h){r[h]&&(o[h]=function(f){return new Promise(function(m,g){s.push([h,f,m,g])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(m){d(s[0][3],m)}}function c(h){h.value instanceof Xe?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function rc(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ec=="function"?ec(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(i){return new Promise(function(a,c){i=t[s](i),o(a,c,i.done,i.value)})}}function o(s,i,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},i)}}var sr=t=>t&&typeof t.length=="number"&&typeof t!="function";function ir(t){return _(t?.then)}function ar(t){return _(t[Tt])}function cr(t){return Symbol.asyncIterator&&_(t?.[Symbol.asyncIterator])}function lr(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Pf(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ur=Pf();function dr(t){return _(t?.[ur])}function fr(t){return nc(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:o}=yield Xe(n.read());if(o)return yield Xe(void 0);yield yield Xe(r)}}finally{n.releaseLock()}})}function hr(t){return _(t?.getReader)}function L(t){if(t instanceof O)return t;if(t!=null){if(ar(t))return Lf(t);if(sr(t))return jf(t);if(ir(t))return Ff(t);if(cr(t))return oc(t);if(dr(t))return Vf(t);if(hr(t))return $f(t)}throw lr(t)}function Lf(t){return new O(e=>{let n=t[Tt]();if(_(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function jf(t){return new O(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Ff(t){return new O(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,er)})}function Vf(t){return new O(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function oc(t){return new O(e=>{Hf(t,e).catch(n=>e.error(n))})}function $f(t){return oc(fr(t))}function Hf(t,e){var n,r,o,s;return tc(this,void 0,void 0,function*(){try{for(n=rc(t);r=yield n.next(),!r.done;){let i=r.value;if(e.next(i),e.closed)return}}catch(i){o={error:i}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(o)throw o.error}}e.complete()})}function ee(t,e,n,r=0,o=!1){let s=e.schedule(function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!o)return s}function pr(t,e=0){return M((n,r)=>{n.subscribe(x(r,o=>ee(r,t,()=>r.next(o),e),()=>ee(r,t,()=>r.complete(),e),o=>ee(r,t,()=>r.error(o),e)))})}function mr(t,e=0){return M((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function sc(t,e){return L(t).pipe(mr(e),pr(e))}function ic(t,e){return L(t).pipe(mr(e),pr(e))}function ac(t,e){return new O(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function cc(t,e){return new O(n=>{let r;return ee(n,e,()=>{r=t[ur](),ee(n,e,()=>{let o,s;try{({value:o,done:s}=r.next())}catch(i){n.error(i);return}s?n.complete():n.next(o)},0,!0)}),()=>_(r?.return)&&r.return()})}function gr(t,e){if(!t)throw new Error("Iterable cannot be null");return new O(n=>{ee(n,e,()=>{let r=t[Symbol.asyncIterator]();ee(n,e,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function lc(t,e){return gr(fr(t),e)}function uc(t,e){if(t!=null){if(ar(t))return sc(t,e);if(sr(t))return ac(t,e);if(ir(t))return ic(t,e);if(cr(t))return gr(t,e);if(dr(t))return cc(t,e);if(hr(t))return lc(t,e)}throw lr(t)}function Le(t,e){return e?uc(t,e):L(t)}function Uf(...t){let e=Pe(t);return Le(t,e)}function Bf(t,e){let n=_(t)?t:()=>t,r=o=>o.error(n());return new O(e?o=>e.schedule(r,0,o):r)}function qf(t){return!!t&&(t instanceof O||_(t.lift)&&_(t.subscribe))}var{isArray:Wf}=Array;function Gf(t,e){return Wf(e)?t(...e):t(e)}function vr(t){return le(e=>Gf(t,e))}var{isArray:zf}=Array,{getPrototypeOf:Qf,prototype:Jf,keys:Yf}=Object;function yr(t){if(t.length===1){let e=t[0];if(zf(e))return{args:e,keys:null};if(Kf(e)){let n=Yf(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Kf(t){return t&&typeof t=="object"&&Qf(t)===Jf}function wr(t,e){return t.reduce((n,r,o)=>(n[r]=e[o],n),{})}function Zf(...t){let e=Pe(t),n=or(t),{args:r,keys:o}=yr(t);if(r.length===0)return Le([],e);let s=new O(Xf(r,e,o?i=>wr(o,i):W));return n?s.pipe(vr(n)):s}function Xf(t,e,n=W){return r=>{dc(e,()=>{let{length:o}=t,s=new Array(o),i=o,a=o;for(let c=0;c<o;c++)dc(e,()=>{let l=Le(t[c],e),u=!1;l.subscribe(x(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--i||r.complete()}))},r)},r)}}function dc(t,e,n){t?ee(n,t,e):e()}function fc(t,e,n,r,o,s,i,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&e.complete()},f=g=>l<r?m(g):c.push(g),m=g=>{s&&e.next(g),l++;let v=!1;L(n(g,u++)).subscribe(x(e,b=>{o?.(b),s?f(b):e.next(b)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<r;){let b=c.shift();i?ee(e,i,()=>m(b)):m(b)}h()}catch(b){e.error(b)}}))};return t.subscribe(x(e,f,()=>{d=!0,h()})),()=>{a?.()}}function et(t,e,n=1/0){return _(e)?et((r,o)=>le((s,i)=>e(r,s,o,i))(L(t(r,o))),n):(typeof e=="number"&&(n=e),M((r,o)=>fc(r,o,t,n)))}function vs(t=1/0){return et(W,t)}function ys(){return vs(1)}function _r(...t){return ys()(Le(t,Pe(t)))}function eh(t){return new O(e=>{L(t()).subscribe(e)})}function th(...t){let e=or(t),{args:n,keys:r}=yr(t),o=new O(s=>{let{length:i}=n;if(!i){s.complete();return}let a=new Array(i),c=i,l=i;for(let u=0;u<i;u++){let d=!1;L(n[u]).subscribe(x(s,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(r?wr(r,a):a),s.complete())}))}});return e?o.pipe(vr(e)):o}function hc(t){return M((e,n)=>{let r=null,o=!1,s;r=e.subscribe(x(n,void 0,void 0,i=>{s=L(t(i,hc(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,s.subscribe(n))})}function pc(t,e,n,r,o){return(s,i)=>{let a=n,c=e,l=0;s.subscribe(x(i,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&i.next(c)},o&&(()=>{a&&i.next(c),i.complete()})))}}function nh(t,e){return _(e)?et(t,e,1):et(t,1)}function rh(t){return le(()=>t)}function ws(t,e){return e?n=>n.pipe(ws((r,o)=>L(t(r,o)).pipe(le((s,i)=>e(r,s,o,i))))):M((n,r)=>{let o=0,s=null,i=!1;n.subscribe(x(r,a=>{s||(s=x(r,void 0,()=>{s=null,i&&r.complete()}),L(t(a,o++)).subscribe(s))},()=>{i=!0,!s&&r.complete()}))})}function oh(){return ws(W)}function sh(t){return M((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function _s(t){return t<=0?()=>cn:M((e,n)=>{let r=[];e.subscribe(x(n,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function ih(t,e){let n=arguments.length>=2;return r=>r.pipe(t?an((o,s)=>t(o,s,r)):W,_s(1),n?ln(e):nr(()=>new Ke))}function ah(t,e){return M(pc(t,e,arguments.length>=2,!0))}function ch(...t){let e=Pe(t);return M((n,r)=>{(e?_r(t,n,e):_r(t,n)).subscribe(r)})}function br(t,e){return M((n,r)=>{let o=null,s=0,i=!1,a=()=>i&&!o&&r.complete();n.subscribe(x(r,c=>{o?.unsubscribe();let l=0,u=s++;L(t(c,u)).subscribe(o=x(r,d=>r.next(e?e(c,d,u,l++):d),()=>{o=null,a()}))},()=>{i=!0,a()}))})}function lh(){return br(W)}function uh(t){return M((e,n)=>{L(t).subscribe(x(n,()=>n.complete(),sn)),!n.closed&&e.subscribe(n)})}function dh(t,e,n){let r=_(t)||e||n?{next:t,error:e,complete:n}:t;return r?M((o,s)=>{var i;(i=r.subscribe)===null||i===void 0||i.call(r);let a=!0;o.subscribe(x(s,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),s.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):W}function mc(t,e){return Object.is(t,e)}var H=null,un=!1,Ir=1,te=Symbol("SIGNAL");function D(t){let e=H;return H=t,e}function fh(){return un}var fn={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function hn(t){if(un)throw new Error("");if(H===null)return;H.consumerOnSignalRead(t);let e=H.nextProducerIndex++;if(Mt(H),e<H.producerNode.length&&H.producerNode[e]!==t&&dn(H)){let n=H.producerNode[e];Tr(n,H.producerIndexOfThis[e])}H.producerNode[e]!==t&&(H.producerNode[e]=t,H.producerIndexOfThis[e]=dn(H)?_c(t,H,e):0),H.producerLastReadVersion[e]=t.version}function hh(){Ir++}function gc(t){if(!(dn(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ir)){if(!t.producerMustRecompute(t)&&!Cr(t)){t.dirty=!1,t.lastCleanEpoch=Ir;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ir}}function vc(t){if(t.liveConsumerNode===void 0)return;let e=un;un=!0;try{for(let n of t.liveConsumerNode)n.dirty||wc(n)}finally{un=e}}function yc(){return H?.consumerAllowSignalWrites!==!1}function wc(t){t.dirty=!0,vc(t),t.consumerMarkedDirty?.(t)}function xr(t){return t&&(t.nextProducerIndex=0),D(t)}function Dr(t,e){if(D(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(dn(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Tr(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Cr(t){Mt(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(gc(n),r!==n.version))return!0}return!1}function xs(t){if(Mt(t),dn(t))for(let e=0;e<t.producerNode.length;e++)Tr(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function _c(t,e,n){if(bc(t),Mt(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=_c(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Tr(t,e){if(bc(t),Mt(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Tr(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],o=t.liveConsumerNode[e];Mt(o),o.producerIndexOfThis[r]=e}}function dn(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Mt(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function bc(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Ds(t){let e=Object.create(ph);e.computation=t;let n=()=>{if(gc(e),hn(e),e.value===Er)throw e.error;return e.value};return n[te]=e,n}var bs=Symbol("UNSET"),Is=Symbol("COMPUTING"),Er=Symbol("ERRORED"),ph=ce(ae({},fn),{value:bs,dirty:!0,error:null,equal:mc,producerMustRecompute(t){return t.value===bs||t.value===Is},producerRecomputeValue(t){if(t.value===Is)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Is;let n=xr(t),r;try{r=t.computation()}catch(o){r=Er,t.error=o}finally{Dr(t,n)}if(e!==bs&&e!==Er&&r!==Er&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function mh(){throw new Error}var Ic=mh;function Ec(){Ic()}function xc(t){Ic=t}var gh=null;function Dc(t){let e=Object.create(Cs);e.value=t;let n=()=>(hn(e),e.value);return n[te]=e,n}function pn(t,e){yc()||Ec(),t.equal(t.value,e)||(t.value=e,vh(t))}function Cc(t,e){yc()||Ec(),pn(t,e(t.value))}var Cs=ce(ae({},fn),{equal:mc,value:void 0});function vh(t){t.version++,hh(),vc(t),gh?.()}function Tc(t,e,n){let r=Object.create(yh);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let o=c=>{r.cleanupFn=c};function s(c){return c.fn===null&&c.schedule===null}function i(c){s(c)||(xs(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=Es)}let a=()=>{if(r.fn===null)return;if(fh())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!Cr(r))return;r.hasRun=!0;let c=xr(r);try{r.cleanupFn(),r.cleanupFn=Es,r.fn(o)}finally{Dr(r,c)}};return r.ref={notify:()=>wc(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>i(r),[te]:r},r.ref}var Es=()=>{},yh=ce(ae({},fn),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:Es});var vl="https://g.co/ng/security#xss",C=class extends Error{constructor(e,n){super(wh(e,n)),this.code=e}};function wh(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var co=Symbol("InputSignalNode#UNSET"),yl=ce(ae({},Cs),{transformFn:void 0,applyValueToInputSignal(t,e){pn(t,e)}});function wl(t,e){let n=Object.create(yl);n.value=t,n.transformFn=e?.transform;function r(){if(hn(n),n.value===co)throw new C(-950,!1);return n.value}return r[te]=n,r}function Nn(t){return{toString:t}.toString()}var Mr="__parameters__";function _h(t){return function(...n){if(t){let r=t(...n);for(let o in r)this[o]=r[o]}}}function _l(t,e,n){return Nn(()=>{let r=_h(e);function o(...s){if(this instanceof o)return r.apply(this,s),this;let i=new o(...s);return a.annotation=i,a;function a(c,l,u){let d=c.hasOwnProperty(Mr)?c[Mr]:Object.defineProperty(c,Mr,{value:[]})[Mr];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(i),c}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}var Ie=globalThis;function A(t){for(let e in t)if(t[e]===A)return e;throw Error("Could not find renamed property on target object.")}function bh(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function oe(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(oe).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Mc(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var Ih=A({__forward_ref__:A});function bl(t){return t.__forward_ref__=bl,t.toString=function(){return oe(this())},t}function K(t){return Il(t)?t():t}function Il(t){return typeof t=="function"&&t.hasOwnProperty(Ih)&&t.__forward_ref__===bl}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function sC(t){return{providers:t.providers||[],imports:t.imports||[]}}function lo(t){return Sc(t,El)||Sc(t,xl)}function iC(t){return lo(t)!==null}function Sc(t,e){return t.hasOwnProperty(e)?t[e]:null}function Eh(t){let e=t&&(t[El]||t[xl]);return e||null}function Nc(t){return t&&(t.hasOwnProperty(Oc)||t.hasOwnProperty(xh))?t[Oc]:null}var El=A({\u0275prov:A}),Oc=A({\u0275inj:A}),xl=A({ngInjectableDef:A}),xh=A({ngInjectorDef:A}),V=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Dl(t){return t&&!!t.\u0275providers}var Dh=A({\u0275cmp:A}),Ch=A({\u0275dir:A}),Th=A({\u0275pipe:A}),Mh=A({\u0275mod:A}),Vr=A({\u0275fac:A}),gn=A({__NG_ELEMENT_ID__:A}),Ac=A({__NG_ENV_ID__:A});function uo(t){return typeof t=="string"?t:t==null?"":String(t)}function Sh(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():uo(t)}function Nh(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new C(-200,t)}function Yi(t,e){throw new C(-201,!1)}var N=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(N||{}),Bs;function Cl(){return Bs}function ne(t){let e=Bs;return Bs=t,e}function Tl(t,e,n){let r=lo(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&N.Optional)return null;if(e!==void 0)return e;Yi(t,"Injector")}var Oh={},vn=Oh,qs="__NG_DI_FLAG__",$r="ngTempTokenPath",Ah="ngTokenPath",kh=/\n/gm,Rh="\u0275",kc="__source",At;function Ph(){return At}function je(t){let e=At;return At=t,e}function Lh(t,e=N.Default){if(At===void 0)throw new C(-203,!1);return At===null?Tl(t,void 0,e):At.get(t,e&N.Optional?null:void 0,e)}function Ve(t,e=N.Default){return(Cl()||Lh)(K(t),e)}function j(t,e=N.Default){return Ve(t,fo(e))}function fo(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ws(t){let e=[];for(let n=0;n<t.length;n++){let r=K(t[n]);if(Array.isArray(r)){if(r.length===0)throw new C(900,!1);let o,s=N.Default;for(let i=0;i<r.length;i++){let a=r[i],c=jh(a);typeof c=="number"?c===-1?o=a.token:s|=c:o=a}e.push(Ve(o,s))}else e.push(Ve(r))}return e}function Ml(t,e){return t[qs]=e,t.prototype[qs]=e,t}function jh(t){return t[qs]}function Fh(t,e,n,r){let o=t[$r];throw e[kc]&&o.unshift(e[kc]),t.message=Vh(`
`+t.message,o,n,r),t[Ah]=o,t[$r]=null,t}function Vh(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Rh?t.slice(2):t;let o=oe(e);if(Array.isArray(e))o=e.map(oe).join(" -> ");else if(typeof e=="object"){let s=[];for(let i in e)if(e.hasOwnProperty(i)){let a=e[i];s.push(i+":"+(typeof a=="string"?JSON.stringify(a):oe(a)))}o=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${t.replace(kh,`
  `)}`}var Sl=Ml(_l("Optional"),8);var Nl=Ml(_l("SkipSelf"),4);function ot(t,e){let n=t.hasOwnProperty(Vr);return n?t[Vr]:null}function $h(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let o=t[r],s=e[r];if(n&&(o=n(o),s=n(s)),s!==o)return!1}return!0}function Hh(t){return t.flat(Number.POSITIVE_INFINITY)}function Ki(t,e){t.forEach(n=>Array.isArray(n)?Ki(n,e):e(n))}function Ol(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Hr(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Uh(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function Bh(t,e,n,r){let o=t.length;if(o==e)t.push(n,r);else if(o===1)t.push(r,t[0]),t[0]=n;else{for(o--,t.push(t[o-1],t[o]);o>e;){let s=o-2;t[o]=t[s],o--}t[e]=n,t[e+1]=r}}function qh(t,e,n){let r=On(t,e);return r>=0?t[r|1]=n:(r=~r,Bh(t,r,e,n)),r}function Ts(t,e){let n=On(t,e);if(n>=0)return t[n|1]}function On(t,e){return Wh(t,e,1)}function Wh(t,e,n){let r=0,o=t.length>>n;for(;o!==r;){let s=r+(o-r>>1),i=t[s<<n];if(e===i)return s<<n;i>e?o=s:r=s+1}return~(o<<n)}var Rt={},re=[],Ur=new V(""),Al=new V("",-1),kl=new V(""),Br=class{get(e,n=vn){if(n===vn){let r=new Error(`NullInjectorError: No provider for ${oe(e)}!`);throw r.name="NullInjectorError",r}return n}},Rl=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Rl||{}),yn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(yn||{}),Pt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Pt||{});function Gh(t,e,n){let r=t.length;for(;;){let o=t.indexOf(e,n);if(o===-1)return o;if(o===0||t.charCodeAt(o-1)<=32){let s=e.length;if(o+s===r||t.charCodeAt(o+s)<=32)return o}n=o+1}}function Gs(t,e,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let s=n[r++],i=n[r++],a=n[r++];t.setAttribute(e,i,a,s)}else{let s=o,i=n[++r];zh(s)?t.setProperty(e,s,i):t.setAttribute(e,s,i),r++}}return r}function Pl(t){return t===3||t===4||t===6}function zh(t){return t.charCodeAt(0)===64}function wn(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let o=e[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?Rc(t,n,o,null,e[++r]):Rc(t,n,o,null,null))}}return t}function Rc(t,e,n,r,o){let s=0,i=t.length;if(e===-1)i=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){i=-1;break}else if(a>e){i=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){o!==null&&(t[s+1]=o);return}else if(r===t[s+1]){t[s+2]=o;return}}s++,r!==null&&s++,o!==null&&s++}i!==-1&&(t.splice(i,0,e),s=i+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),o!==null&&t.splice(s++,0,o)}var Ll="ng-template";function Qh(t,e,n,r){let o=0;if(r){for(;o<e.length&&typeof e[o]=="string";o+=2)if(e[o]==="class"&&Gh(e[o+1].toLowerCase(),n,0)!==-1)return!0}else if(Zi(t))return!1;if(o=e.indexOf(1,o),o>-1){let s;for(;++o<e.length&&typeof(s=e[o])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Zi(t){return t.type===4&&t.value!==Ll}function Jh(t,e,n){let r=t.type===4&&!n?Ll:t.value;return e===r}function Yh(t,e,n){let r=4,o=t.attrs,s=o!==null?Xh(o):0,i=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!i&&!ge(r)&&!ge(c))return!1;if(i&&ge(c))continue;i=!1,r=c|r&1;continue}if(!i)if(r&4){if(r=2|r&1,c!==""&&!Jh(t,c,n)||c===""&&e.length===1){if(ge(r))return!1;i=!0}}else if(r&8){if(o===null||!Qh(t,o,c,n)){if(ge(r))return!1;i=!0}}else{let l=e[++a],u=Kh(c,o,Zi(t),n);if(u===-1){if(ge(r))return!1;i=!0;continue}if(l!==""){let d;if(u>s?d="":d=o[u+1].toLowerCase(),r&2&&l!==d){if(ge(r))return!1;i=!0}}}}return ge(r)||i}function ge(t){return(t&1)===0}function Kh(t,e,n,r){if(e===null)return-1;let o=0;if(r||!n){let s=!1;for(;o<e.length;){let i=e[o];if(i===t)return o;if(i===3||i===6)s=!0;else if(i===1||i===2){let a=e[++o];for(;typeof a=="string";)a=e[++o];continue}else{if(i===4)break;if(i===0){o+=4;continue}}o+=s?1:2}return-1}else return ep(e,t)}function jl(t,e,n=!1){for(let r=0;r<e.length;r++)if(Yh(t,e[r],n))return!0;return!1}function Zh(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function Xh(t){for(let e=0;e<t.length;e++){let n=t[e];if(Pl(n))return e}return t.length}function ep(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function tp(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let o=0;o<t.length;o++)if(t[o]!==r[o])continue e;return!0}}return!1}function Pc(t,e){return t?":not("+e.trim()+")":e}function np(t){let e=t[0],n=1,r=2,o="",s=!1;for(;n<t.length;){let i=t[n];if(typeof i=="string")if(r&2){let a=t[++n];o+="["+i+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+i:r&4&&(o+=" "+i);else o!==""&&!ge(i)&&(e+=Pc(s,o),o=""),r=i,s=s||!ge(r);n++}return o!==""&&(e+=Pc(s,o)),e}function rp(t){return t.map(np).join(",")}function op(t){let e=[],n=[],r=1,o=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")o===2?s!==""&&e.push(s,t[++r]):o===8&&n.push(s);else{if(!ge(o))break;o=s}r++}return{attrs:e,classes:n}}function aC(t){return Nn(()=>{let e=Hl(t),n=ce(ae({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Rl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||yn.Emulated,styles:t.styles||re,_:null,schemas:t.schemas||null,tView:null,id:""});Ul(n);let r=t.dependencies;return n.directiveDefs=jc(r,!1),n.pipeDefs=jc(r,!0),n.id=cp(n),n})}function sp(t){return st(t)||Fl(t)}function ip(t){return t!==null}function cC(t){return Nn(()=>({type:t.type,bootstrap:t.bootstrap||re,declarations:t.declarations||re,imports:t.imports||re,exports:t.exports||re,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Lc(t,e){if(t==null)return Rt;let n={};for(let r in t)if(t.hasOwnProperty(r)){let o=t[r],s,i,a=Pt.None;Array.isArray(o)?(a=o[0],s=o[1],i=o[2]??s):(s=o,i=o),e?(n[s]=a!==Pt.None?[r,a]:r,e[s]=i):n[s]=r}return n}function lC(t){return Nn(()=>{let e=Hl(t);return Ul(e),e})}function uC(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function st(t){return t[Dh]||null}function Fl(t){return t[Ch]||null}function Vl(t){return t[Th]||null}function ap(t){let e=st(t)||Fl(t)||Vl(t);return e!==null?e.standalone:!1}function $l(t,e){let n=t[Mh]||null;if(!n&&e===!0)throw new Error(`Type ${oe(t)} does not have '\u0275mod' property.`);return n}function Hl(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Rt,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||re,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Lc(t.inputs,e),outputs:Lc(t.outputs),debugInfo:null}}function Ul(t){t.features?.forEach(e=>e(t))}function jc(t,e){if(!t)return null;let n=e?Vl:sp;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(ip)}function cp(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let o of n)e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function lp(t){return{\u0275providers:t}}function up(...t){return{\u0275providers:Bl(!0,t),\u0275fromNgModule:!0}}function Bl(t,...e){let n=[],r=new Set,o,s=i=>{n.push(i)};return Ki(e,i=>{let a=i;zs(a,s,[],r)&&(o||=[],o.push(a))}),o!==void 0&&ql(o,s),n}function ql(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:o}=t[n];Xi(o,s=>{e(s,r)})}}function zs(t,e,n,r){if(t=K(t),!t)return!1;let o=null,s=Nc(t),i=!s&&st(t);if(!s&&!i){let c=t.ngModule;if(s=Nc(c),s)o=c;else return!1}else{if(i&&!i.standalone)return!1;o=t}let a=r.has(o);if(i){if(a)return!1;if(r.add(o),i.dependencies){let c=typeof i.dependencies=="function"?i.dependencies():i.dependencies;for(let l of c)zs(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(o);let l;try{Ki(s.imports,u=>{zs(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&ql(l,e)}if(!a){let l=ot(o)||(()=>new o);e({provide:o,useFactory:l,deps:re},o),e({provide:kl,useValue:o,multi:!0},o),e({provide:Ur,useValue:()=>Ve(o),multi:!0},o)}let c=s.providers;if(c!=null&&!a){let l=t;Xi(c,u=>{e(u,l)})}}else return!1;return o!==t&&t.providers!==void 0}function Xi(t,e){for(let n of t)Dl(n)&&(n=n.\u0275providers),Array.isArray(n)?Xi(n,e):e(n)}var dp=A({provide:String,useValue:A});function Wl(t){return t!==null&&typeof t=="object"&&dp in t}function fp(t){return!!(t&&t.useExisting)}function hp(t){return!!(t&&t.useFactory)}function Lt(t){return typeof t=="function"}function pp(t){return!!t.useClass}var Gl=new V(""),Ar={},mp={},Ms;function ea(){return Ms===void 0&&(Ms=new Br),Ms}var $e=class{},_n=class extends $e{get destroyed(){return this._destroyed}constructor(e,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Js(e,i=>this.processProvider(i)),this.records.set(Al,St(void 0,this)),o.has("environment")&&this.records.set($e,St(void 0,this));let s=this.records.get(Gl);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(kl,re,N.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=D(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),D(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=je(this),r=ne(void 0),o;try{return e()}finally{je(n),ne(r)}}get(e,n=vn,r=N.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Ac))return e[Ac](this);r=fo(r);let o,s=je(this),i=ne(void 0);try{if(!(r&N.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=_p(e)&&lo(e);l&&this.injectableDefInScope(l)?c=St(Qs(e),Ar):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&N.Self?ea():this.parent;return n=r&N.Optional&&n===vn?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[$r]=a[$r]||[]).unshift(oe(e)),s)throw a;return Fh(a,e,"R3InjectorError",this.source)}else throw a}finally{ne(i),je(s)}}resolveInjectorInitializers(){let e=D(null),n=je(this),r=ne(void 0),o;try{let s=this.get(Ur,re,N.Self);for(let i of s)i()}finally{je(n),ne(r),D(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(oe(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new C(205,!1)}processProvider(e){e=K(e);let n=Lt(e)?e:K(e&&e.provide),r=vp(e);if(!Lt(e)&&e.multi===!0){let o=this.records.get(n);o||(o=St(void 0,Ar,!0),o.factory=()=>Ws(o.multi),this.records.set(n,o)),n=e,o.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=D(null);try{return n.value===Ar&&(n.value=mp,n.value=n.factory()),typeof n.value=="object"&&n.value&&wp(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{D(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=K(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Qs(t){let e=lo(t),n=e!==null?e.factory:ot(t);if(n!==null)return n;if(t instanceof V)throw new C(204,!1);if(t instanceof Function)return gp(t);throw new C(204,!1)}function gp(t){if(t.length>0)throw new C(204,!1);let n=Eh(t);return n!==null?()=>n.factory(t):()=>new t}function vp(t){if(Wl(t))return St(void 0,t.useValue);{let e=zl(t);return St(e,Ar)}}function zl(t,e,n){let r;if(Lt(t)){let o=K(t);return ot(o)||Qs(o)}else if(Wl(t))r=()=>K(t.useValue);else if(hp(t))r=()=>t.useFactory(...Ws(t.deps||[]));else if(fp(t))r=()=>Ve(K(t.useExisting));else{let o=K(t&&(t.useClass||t.provide));if(yp(t))r=()=>new o(...Ws(t.deps));else return ot(o)||Qs(o)}return r}function St(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function yp(t){return!!t.deps}function wp(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function _p(t){return typeof t=="function"||typeof t=="object"&&t instanceof V}function Js(t,e){for(let n of t)Array.isArray(n)?Js(n,e):n&&Dl(n)?Js(n.\u0275providers,e):e(n)}function dC(t,e){t instanceof _n&&t.assertNotDestroyed();let n,r=je(t),o=ne(void 0);try{return e()}finally{je(r),ne(o)}}function Ql(){return Cl()!==void 0||Ph()!=null}function bp(t){if(!Ql())throw new C(-203,!1)}function Ip(t){return typeof t=="function"}var Ne=0,w=1,y=2,G=3,ve=4,se=5,jt=6,bn=7,Q=8,Ft=9,ye=10,F=11,In=12,Fc=13,Ut=14,ue=15,An=16,Nt=17,Se=18,ho=19,Jl=20,Fe=21,kr=22,it=23,Z=25,Yl=1;var at=7,qr=8,Vt=9,J=10,ta=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(ta||{});function nt(t){return Array.isArray(t)&&typeof t[Yl]=="object"}function Oe(t){return Array.isArray(t)&&t[Yl]===!0}function na(t){return(t.flags&4)!==0}function po(t){return t.componentOffset>-1}function mo(t){return(t.flags&1)===1}function He(t){return!!t.template}function Ep(t){return(t[y]&512)!==0}var Ys=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Kl(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function xp(){return Zl}function Zl(t){return t.type.prototype.ngOnChanges&&(t.setInput=Cp),Dp}xp.ngInherit=!0;function Dp(){let t=eu(this),e=t?.current;if(e){let n=t.previous;if(n===Rt)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Cp(t,e,n,r,o){let s=this.declaredInputs[r],i=eu(t)||Tp(t,{previous:Rt,current:null}),a=i.current||(i.current={}),c=i.previous,l=c[s];a[s]=new Ys(l&&l.currentValue,n,c===Rt),Kl(t,e,o,n)}var Xl="__ngSimpleChanges__";function eu(t){return t[Xl]||null}function Tp(t,e){return t[Xl]=e}var Vc=null;var Ee=function(t,e,n){Vc?.(t,e,n)},tu="svg",Mp="math",Sp=!1;function Np(){return Sp}function Ce(t){for(;Array.isArray(t);)t=t[Ne];return t}function nu(t,e){return Ce(e[t])}function de(t,e){return Ce(e[t.index])}function ra(t,e){return t.data[e]}function Op(t,e){return t[e]}function qe(t,e){let n=e[t];return nt(n)?n:n[Ne]}function Ap(t){return(t[y]&4)===4}function oa(t){return(t[y]&128)===128}function kp(t){return Oe(t[G])}function $t(t,e){return e==null?null:t[e]}function ru(t){t[Nt]=0}function Rp(t){t[y]&1024||(t[y]|=1024,oa(t)&&En(t))}function Pp(t,e){for(;t>0;)e=e[Ut],t--;return e}function sa(t){return!!(t[y]&9216||t[it]?.dirty)}function Ks(t){t[ye].changeDetectionScheduler?.notify(1),sa(t)?En(t):t[y]&64&&(Np()?(t[y]|=1024,En(t)):t[ye].changeDetectionScheduler?.notify())}function En(t){t[ye].changeDetectionScheduler?.notify();let e=xn(t);for(;e!==null&&!(e[y]&8192||(e[y]|=8192,!oa(e)));)e=xn(e)}function ou(t,e){if((t[y]&256)===256)throw new C(911,!1);t[Fe]===null&&(t[Fe]=[]),t[Fe].push(e)}function Lp(t,e){if(t[Fe]===null)return;let n=t[Fe].indexOf(e);n!==-1&&t[Fe].splice(n,1)}function xn(t){let e=t[G];return Oe(e)?e[G]:e}var E={lFrame:uu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function jp(){return E.lFrame.elementDepthCount}function Fp(){E.lFrame.elementDepthCount++}function Vp(){E.lFrame.elementDepthCount--}function su(){return E.bindingsEnabled}function iu(){return E.skipHydrationRootTNode!==null}function $p(t){return E.skipHydrationRootTNode===t}function Hp(){E.skipHydrationRootTNode=null}function I(){return E.lFrame.lView}function $(){return E.lFrame.tView}function fC(t){return E.lFrame.contextLView=t,t[Q]}function hC(t){return E.lFrame.contextLView=null,t}function Y(){let t=au();for(;t!==null&&t.type===64;)t=t.parent;return t}function au(){return E.lFrame.currentTNode}function Up(){let t=E.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function pt(t,e){let n=E.lFrame;n.currentTNode=t,n.isParent=e}function ia(){return E.lFrame.isParent}function aa(){E.lFrame.isParent=!1}function go(){let t=E.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Bp(t){return E.lFrame.bindingIndex=t}function Bt(){return E.lFrame.bindingIndex++}function qp(t){let e=E.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Wp(){return E.lFrame.inI18n}function Gp(t,e){let n=E.lFrame;n.bindingIndex=n.bindingRootIndex=t,Zs(e)}function zp(){return E.lFrame.currentDirectiveIndex}function Zs(t){E.lFrame.currentDirectiveIndex=t}function Qp(t){let e=E.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function ca(){return E.lFrame.currentQueryIndex}function vo(t){E.lFrame.currentQueryIndex=t}function Jp(t){let e=t[w];return e.type===2?e.declTNode:e.type===1?t[se]:null}function cu(t,e,n){if(n&N.SkipSelf){let o=e,s=t;for(;o=o.parent,o===null&&!(n&N.Host);)if(o=Jp(s),o===null||(s=s[Ut],o.type&10))break;if(o===null)return!1;e=o,t=s}let r=E.lFrame=lu();return r.currentTNode=e,r.lView=t,!0}function la(t){let e=lu(),n=t[w];E.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function lu(){let t=E.lFrame,e=t===null?null:t.child;return e===null?uu(t):e}function uu(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function du(){let t=E.lFrame;return E.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var fu=du;function ua(){let t=du();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Yp(t){return(E.lFrame.contextLView=Pp(t,E.lFrame.contextLView))[Q]}function mt(){return E.lFrame.selectedIndex}function ct(t){E.lFrame.selectedIndex=t}function da(){let t=E.lFrame;return ra(t.tView,t.selectedIndex)}function pC(){E.lFrame.currentNamespace=tu}function mC(){Kp()}function Kp(){E.lFrame.currentNamespace=null}function Zp(){return E.lFrame.currentNamespace}var hu=!0;function yo(){return hu}function wo(t){hu=t}function Xp(t,e,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:s}=e.type.prototype;if(r){let i=Zl(e);(n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i)}o&&(n.preOrderHooks??=[]).push(0-t,o),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function _o(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;i&&(t.contentHooks??=[]).push(-n,i),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Rr(t,e,n){pu(t,e,3,n)}function Pr(t,e,n,r){(t[y]&3)===n&&pu(t,e,n,r)}function Ss(t,e){let n=t[y];(n&3)===e&&(n&=16383,n+=1,t[y]=n)}function pu(t,e,n,r){let o=r!==void 0?t[Nt]&65535:0,s=r??-1,i=e.length-1,a=0;for(let c=o;c<i;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Nt]+=65536),(a<s||s==-1)&&(em(t,n,e,c),t[Nt]=(t[Nt]&4294901760)+c+2),c++}function $c(t,e){Ee(4,t,e);let n=D(null);try{e.call(t)}finally{D(n),Ee(5,t,e)}}function em(t,e,n,r){let o=n[r]<0,s=n[r+1],i=o?-n[r]:n[r],a=t[i];o?t[y]>>14<t[Nt]>>16&&(t[y]&3)===e&&(t[y]+=16384,$c(a,s)):$c(a,s)}var kt=-1,lt=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function tm(t){return t instanceof lt}function nm(t){return(t.flags&8)!==0}function rm(t){return(t.flags&16)!==0}function mu(t){return t!==kt}function Wr(t){return t&32767}function om(t){return t>>16}function Gr(t,e){let n=om(t),r=e;for(;n>0;)r=r[Ut],n--;return r}var Xs=!0;function zr(t){let e=Xs;return Xs=t,e}var sm=256,gu=sm-1,vu=5,im=0,xe={};function am(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(gn)&&(r=n[gn]),r==null&&(r=n[gn]=im++);let o=r&gu,s=1<<o;e.data[t+(o>>vu)]|=s}function Qr(t,e){let n=yu(t,e);if(n!==-1)return n;let r=e[w];r.firstCreatePass&&(t.injectorIndex=e.length,Ns(r.data,t),Ns(e,null),Ns(r.blueprint,null));let o=fa(t,e),s=t.injectorIndex;if(mu(o)){let i=Wr(o),a=Gr(o,e),c=a[w].data;for(let l=0;l<8;l++)e[s+l]=a[i+l]|c[i+l]}return e[s+8]=o,s}function Ns(t,e){t.push(0,0,0,0,0,0,0,0,e)}function yu(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function fa(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,o=e;for(;o!==null;){if(r=Eu(o),r===null)return kt;if(n++,o=o[Ut],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return kt}function ei(t,e,n){am(t,e,n)}function cm(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,o=0;for(;o<r;){let s=n[o];if(Pl(s))break;if(s===0)o=o+2;else if(typeof s=="number")for(o++;o<r&&typeof n[o]=="string";)o++;else{if(s===e)return n[o+1];o=o+2}}}return null}function wu(t,e,n){if(n&N.Optional||t!==void 0)return t;Yi(e,"NodeInjector")}function _u(t,e,n,r){if(n&N.Optional&&r===void 0&&(r=null),!(n&(N.Self|N.Host))){let o=t[Ft],s=ne(void 0);try{return o?o.get(e,r,n&N.Optional):Tl(e,r,n&N.Optional)}finally{ne(s)}}return wu(r,e,n)}function bu(t,e,n,r=N.Default,o){if(t!==null){if(e[y]&2048&&!(r&N.Self)){let i=fm(t,e,n,r,xe);if(i!==xe)return i}let s=Iu(t,e,n,r,xe);if(s!==xe)return s}return _u(e,n,r,o)}function Iu(t,e,n,r,o){let s=um(n);if(typeof s=="function"){if(!cu(e,t,r))return r&N.Host?wu(o,n,r):_u(e,n,r,o);try{let i;if(i=s(r),i==null&&!(r&N.Optional))Yi(n);else return i}finally{fu()}}else if(typeof s=="number"){let i=null,a=yu(t,e),c=kt,l=r&N.Host?e[ue][se]:null;for((a===-1||r&N.SkipSelf)&&(c=a===-1?fa(t,e):e[a+8],c===kt||!Uc(r,!1)?a=-1:(i=e[w],a=Wr(c),e=Gr(c,e)));a!==-1;){let u=e[w];if(Hc(s,a,u.data)){let d=lm(a,e,n,i,r,l);if(d!==xe)return d}c=e[a+8],c!==kt&&Uc(r,e[w].data[a+8]===l)&&Hc(s,a,e)?(i=u,a=Wr(c),e=Gr(c,e)):a=-1}}return o}function lm(t,e,n,r,o,s){let i=e[w],a=i.data[t+8],c=r==null?po(a)&&Xs:r!=i&&(a.type&3)!==0,l=o&N.Host&&s===a,u=Lr(a,i,n,c,l);return u!==null?ut(e,i,u,a):xe}function Lr(t,e,n,r,o){let s=t.providerIndexes,i=e.data,a=s&1048575,c=t.directiveStart,l=t.directiveEnd,u=s>>20,d=r?a:a+u,h=o?a+u:l;for(let f=d;f<h;f++){let m=i[f];if(f<c&&n===m||f>=c&&m.type===n)return f}if(o){let f=i[c];if(f&&He(f)&&f.type===n)return c}return null}function ut(t,e,n,r){let o=t[n],s=e.data;if(tm(o)){let i=o;i.resolving&&Nh(Sh(s[n]));let a=zr(i.canSeeViewProviders);i.resolving=!0;let c,l=i.injectImpl?ne(i.injectImpl):null,u=cu(t,r,N.Default);try{o=t[n]=i.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&Xp(n,s[n],e)}finally{l!==null&&ne(l),zr(a),i.resolving=!1,fu()}}return o}function um(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(gn)?t[gn]:void 0;return typeof e=="number"?e>=0?e&gu:dm:e}function Hc(t,e,n){let r=1<<t;return!!(n[e+(t>>vu)]&r)}function Uc(t,e){return!(t&N.Self)&&!(t&N.Host&&e)}var rt=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return bu(this._tNode,this._lView,e,fo(r),n)}};function dm(){return new rt(Y(),I())}function gC(t){return Nn(()=>{let e=t.prototype.constructor,n=e[Vr]||ti(e),r=Object.prototype,o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){let s=o[Vr]||ti(o);if(s&&s!==n)return s;o=Object.getPrototypeOf(o)}return s=>new s})}function ti(t){return Il(t)?()=>{let e=ti(K(t));return e&&e()}:ot(t)}function fm(t,e,n,r,o){let s=t,i=e;for(;s!==null&&i!==null&&i[y]&2048&&!(i[y]&512);){let a=Iu(s,i,n,r|N.Self,xe);if(a!==xe)return a;let c=s.parent;if(!c){let l=i[Jl];if(l){let u=l.get(n,xe,r);if(u!==xe)return u}c=Eu(i),i=i[Ut]}s=c}return o}function Eu(t){let e=t[w],n=e.type;return n===2?e.declTNode:n===1?t[se]:null}function vC(t){return cm(Y(),t)}function Bc(t,e=null,n=null,r){let o=xu(t,e,n,r);return o.resolveInjectorInitializers(),o}function xu(t,e=null,n=null,r,o=new Set){let s=[n||re,up(t)];return r=r||(typeof t=="object"?void 0:oe(t)),new _n(s,e||ea(),r||null,o)}var ha=(()=>{let e=class e{static create(r,o){if(Array.isArray(r))return Bc({name:""},o,r,"");{let s=r.name??"";return Bc({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=vn,e.NULL=new Br,e.\u0275prov=z({token:e,providedIn:"any",factory:()=>Ve(Al)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var hm="ngOriginalError";function Os(t){return t[hm]}var Ue=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Os(e);for(;n&&Os(n);)n=Os(n);return n||null}},Du=new V("",{providedIn:"root",factory:()=>j(Ue).handleError.bind(void 0)}),bo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=pm,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),ni=class extends bo{constructor(e){super(),this._lView=e}onDestroy(e){return ou(this._lView,e),()=>Lp(this._lView,e)}};function pm(){return new ni(I())}var ri=class{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=j(Ue,{optional:!0}),this.destroyRef=j(bo),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new C(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed)throw new C(953,!1);if(this.listeners===null)return;let n=D(null);try{for(let r of this.listeners)try{r(e)}catch(o){this.errorHandler?.handleError(o)}}finally{D(n)}}};function qc(t,e){return wl(t,e)}function mm(t){return wl(co,t)}var yC=(qc.required=mm,qc);function gm(){return qt(Y(),I())}function qt(t,e){return new Io(de(t,e))}var Io=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=gm;let t=e;return t})();function Cu(t){return t instanceof Io?t.nativeElement:t}var oi=class extends Re{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Ql()&&(this.destroyRef=j(bo,{optional:!0})??void 0)}emit(e){let n=D(null);try{super.next(e)}finally{D(n)}}subscribe(e,n,r){let o=e,s=n||(()=>null),i=r;if(e&&typeof e=="object"){let c=e;o=c.next?.bind(c),s=c.error?.bind(c),i=c.complete?.bind(c)}this.__isAsync&&(s=As(s),o&&(o=As(o)),i&&(i=As(i)));let a=super.subscribe({next:o,error:s,complete:i});return e instanceof q&&e.add(a),a}};function As(t){return e=>{setTimeout(t,void 0,e)}}var mn=oi;function vm(){return this._results[Symbol.iterator]()}var si=class t{get changes(){return this._changes??=new mn}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=vm)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=Hh(e);(this._changesDetected=!$h(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function Tu(t){return(t.flags&128)===128}var Mu=new Map,ym=0;function wm(){return ym++}function _m(t){Mu.set(t[ho],t)}function bm(t){Mu.delete(t[ho])}var Wc="__ngContext__";function Be(t,e){nt(e)?(t[Wc]=e[ho],_m(e)):t[Wc]=e}function Su(t){return Ou(t[In])}function Nu(t){return Ou(t[ve])}function Ou(t){for(;t!==null&&!Oe(t);)t=t[ve];return t}var ii;function wC(t){ii=t}function Im(){if(ii!==void 0)return ii;if(typeof document<"u")return document;throw new C(210,!1)}var _C=new V("",{providedIn:"root",factory:()=>Em}),Em="ng",xm=new V(""),bC=new V("",{providedIn:"platform",factory:()=>"unknown"});var IC=new V("",{providedIn:"root",factory:()=>Im().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Dm="h",Cm="b";var Tm=()=>null;function pa(t,e,n=!1){return Tm(t,e,n)}var Au=!1,Mm=new V("",{providedIn:"root",factory:()=>Au});var Sr;function Sm(){if(Sr===void 0&&(Sr=null,Ie.trustedTypes))try{Sr=Ie.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Sr}function Gc(t){return Sm()?.createScriptURL(t)||t}var Jr=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vl})`}};function ma(t){return t instanceof Jr?t.changingThisBreaksApplicationSecurity:t}function ku(t,e){let n=Nm(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${vl})`)}return n===e}function Nm(t){return t instanceof Jr&&t.getTypeName()||null}var Om=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Am(t){return t=String(t),t.match(Om)?t:"unsafe:"+t}var ga=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ga||{});function km(t){let e=Ru();return e?e.sanitize(ga.URL,t)||"":ku(t,"URL")?ma(t):Am(uo(t))}function Rm(t){let e=Ru();if(e)return Gc(e.sanitize(ga.RESOURCE_URL,t)||"");if(ku(t,"ResourceURL"))return Gc(ma(t));throw new C(904,!1)}function Pm(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?Rm:km}function EC(t,e,n){return Pm(e,n)(t)}function Ru(){let t=I();return t&&t[ye].sanitizer}var Lm=/^>|^->|<!--|-->|--!>|<!-$/g,jm=/(<|>)/g,Fm="\u200B$1\u200B";function Vm(t){return t.replace(Lm,e=>e.replace(jm,Fm))}function Pu(t){return t instanceof Function?t():t}var ai=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ai||{}),$m;function va(t,e){return $m(t,e)}function Ot(t,e,n,r,o){if(r!=null){let s,i=!1;Oe(r)?s=r:nt(r)&&(i=!0,r=r[Ne]);let a=Ce(r);t===0&&n!==null?o==null?$u(e,n,a):Yr(e,n,a,o||null,!0):t===1&&n!==null?Yr(e,n,a,o||null,!0):t===2?ng(e,a,i):t===3&&e.destroyNode(a),s!=null&&og(e,t,s,n,o)}}function Hm(t,e){return t.createText(e)}function Um(t,e,n){t.setValue(e,n)}function Bm(t,e){return t.createComment(Vm(e))}function Lu(t,e,n){return t.createElement(e,n)}function qm(t,e){ju(t,e),e[Ne]=null,e[se]=null}function Wm(t,e,n,r,o,s){r[Ne]=o,r[se]=e,Do(t,r,n,1,o,s)}function ju(t,e){e[ye].changeDetectionScheduler?.notify(1),Do(t,e,e[F],2,null,null)}function Gm(t){let e=t[In];if(!e)return ks(t[w],t);for(;e;){let n=null;if(nt(e))n=e[In];else{let r=e[J];r&&(n=r)}if(!n){for(;e&&!e[ve]&&e!==t;)nt(e)&&ks(e[w],e),e=e[G];e===null&&(e=t),nt(e)&&ks(e[w],e),n=e&&e[ve]}e=n}}function zm(t,e,n,r){let o=J+r,s=n.length;r>0&&(n[o-1][ve]=e),r<s-J?(e[ve]=n[o],Ol(n,J+r,e)):(n.push(e),e[ve]=null),e[G]=n;let i=e[An];i!==null&&n!==i&&Qm(i,e);let a=e[Se];a!==null&&a.insertView(t),Ks(e),e[y]|=128}function Qm(t,e){let n=t[Vt],o=e[G][G][ue];e[ue]!==o&&(t[y]|=ta.HasTransplantedViews),n===null?t[Vt]=[e]:n.push(e)}function Fu(t,e){let n=t[Vt],r=n.indexOf(e);n.splice(r,1)}function Dn(t,e){if(t.length<=J)return;let n=J+e,r=t[n];if(r){let o=r[An];o!==null&&o!==t&&Fu(o,r),e>0&&(t[n-1][ve]=r[ve]);let s=Hr(t,J+e);qm(r[w],r);let i=s[Se];i!==null&&i.detachView(s[w]),r[G]=null,r[ve]=null,r[y]&=-129}return r}function Eo(t,e){if(!(e[y]&256)){let n=e[F];n.destroyNode&&Do(t,e,n,3,null,null),Gm(e)}}function ks(t,e){if(e[y]&256)return;let n=D(null);try{e[y]&=-129,e[y]|=256,e[it]&&xs(e[it]),Ym(t,e),Jm(t,e),e[w].type===1&&e[F].destroy();let r=e[An];if(r!==null&&Oe(e[G])){r!==e[G]&&Fu(r,e);let o=e[Se];o!==null&&o.detachView(t)}bm(e)}finally{D(n)}}function Jm(t,e){let n=t.cleanup,r=e[bn];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let i=n[s+3];i>=0?r[i]():r[-i].unsubscribe(),s+=2}else{let i=r[n[s+1]];n[s].call(i)}r!==null&&(e[bn]=null);let o=e[Fe];if(o!==null){e[Fe]=null;for(let s=0;s<o.length;s++){let i=o[s];i()}}}function Ym(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=e[n[r]];if(!(o instanceof lt)){let s=n[r+1];if(Array.isArray(s))for(let i=0;i<s.length;i+=2){let a=o[s[i]],c=s[i+1];Ee(4,a,c);try{c.call(a)}finally{Ee(5,a,c)}}else{Ee(4,o,s);try{s.call(o)}finally{Ee(5,o,s)}}}}}function Vu(t,e,n){return Km(t,e.parent,n)}function Km(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Ne];{let{componentOffset:o}=r;if(o>-1){let{encapsulation:s}=t.data[r.directiveStart+o];if(s===yn.None||s===yn.Emulated)return null}return de(r,n)}}function Yr(t,e,n,r,o){t.insertBefore(e,n,r,o)}function $u(t,e,n){t.appendChild(e,n)}function zc(t,e,n,r,o){r!==null?Yr(t,e,n,r,o):$u(t,e,n)}function Zm(t,e,n,r){t.removeChild(e,n,r)}function ya(t,e){return t.parentNode(e)}function Xm(t,e){return t.nextSibling(e)}function Hu(t,e,n){return tg(t,e,n)}function eg(t,e,n){return t.type&40?de(t,n):null}var tg=eg,Qc;function xo(t,e,n,r){let o=Vu(t,r,e),s=e[F],i=r.parent||e[se],a=Hu(i,r,e);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)zc(s,o,n[c],a,!1);else zc(s,o,n,a,!1);Qc!==void 0&&Qc(s,r,e,n,o)}function jr(t,e){if(e!==null){let n=e.type;if(n&3)return de(e,t);if(n&4)return ci(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return jr(t,r);{let o=t[e.index];return Oe(o)?ci(-1,o):Ce(o)}}else{if(n&32)return va(e,t)()||Ce(t[e.index]);{let r=Uu(t,e);if(r!==null){if(Array.isArray(r))return r[0];let o=xn(t[ue]);return jr(o,r)}else return jr(t,e.next)}}}return null}function Uu(t,e){if(e!==null){let r=t[ue][se],o=e.projection;return r.projection[o]}return null}function ci(t,e){let n=J+t+1;if(n<e.length){let r=e[n],o=r[w].firstChild;if(o!==null)return jr(r,o)}return e[at]}function ng(t,e,n){let r=ya(t,e);r&&Zm(t,r,e,n)}function wa(t,e,n,r,o,s,i){for(;n!=null;){let a=r[n.index],c=n.type;if(i&&e===0&&(a&&Be(Ce(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)wa(t,e,n.child,r,o,s,!1),Ot(e,t,o,a,s);else if(c&32){let l=va(n,r),u;for(;u=l();)Ot(e,t,o,u,s);Ot(e,t,o,a,s)}else c&16?Bu(t,e,r,n,o,s):Ot(e,t,o,a,s);n=i?n.projectionNext:n.next}}function Do(t,e,n,r,o,s){wa(n,r,t.firstChild,e,o,s,!1)}function rg(t,e,n){let r=e[F],o=Vu(t,n,e),s=n.parent||e[se],i=Hu(s,n,e);Bu(r,0,e,n,o,i)}function Bu(t,e,n,r,o,s){let i=n[ue],c=i[se].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Ot(e,t,o,u,s)}else{let l=c,u=i[G];Tu(r)&&(l.flags|=128),wa(t,e,l,u,o,s,!0)}}function og(t,e,n,r,o){let s=n[at],i=Ce(n);s!==i&&Ot(e,t,r,s,o);for(let a=J;a<n.length;a++){let c=n[a];Do(c[w],c,t,e,r,s)}}function sg(t,e,n,r,o){if(e)o?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:ai.DashCase;o==null?t.removeStyle(n,r,s):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),s|=ai.Important),t.setStyle(n,r,o,s))}}function ig(t,e,n){t.setAttribute(e,"style",n)}function qu(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Wu(t,e,n){let{mergedAttrs:r,classes:o,styles:s}=n;r!==null&&Gs(t,e,r),o!==null&&qu(t,e,o),s!==null&&ig(t,e,s)}var We={};function xC(t=1){Gu($(),I(),mt()+t,!1)}function Gu(t,e,n,r){if(!r)if((e[y]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Rr(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Pr(e,s,0,n)}ct(n)}function Co(t,e=N.Default){let n=I();if(n===null)return Ve(t,e);let r=Y();return bu(r,n,K(t),e)}function zu(t,e,n,r,o,s){let i=D(null);try{let a=null;o&Pt.SignalBased&&(a=e[r][te]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),o&Pt.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):Kl(e,a,r,s)}finally{D(i)}}function ag(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)ct(~o);else{let s=o,i=n[++r],a=n[++r];Gp(i,s);let c=e[s];a(2,c)}}}finally{ct(-1)}}function To(t,e,n,r,o,s,i,a,c,l,u){let d=e.blueprint.slice();return d[Ne]=o,d[y]=r|4|128|8|64,(l!==null||t&&t[y]&2048)&&(d[y]|=2048),ru(d),d[G]=d[Ut]=t,d[Q]=n,d[ye]=i||t&&t[ye],d[F]=a||t&&t[F],d[Ft]=c||t&&t[Ft]||null,d[se]=s,d[ho]=wm(),d[jt]=u,d[Jl]=l,d[ue]=e.type==2?t[ue]:d,d}function Wt(t,e,n,r,o){let s=t.data[e];if(s===null)s=cg(t,e,n,r,o),Wp()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=o;let i=Up();s.injectorIndex=i===null?-1:i.injectorIndex}return pt(s,!0),s}function cg(t,e,n,r,o){let s=au(),i=ia(),a=i?s:s&&s.parent,c=t.data[e]=pg(t,a,n,e,r,o);return t.firstChild===null&&(t.firstChild=c),s!==null&&(i?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function Qu(t,e,n,r){if(n===0)return-1;let o=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return o}function Ju(t,e,n,r,o){let s=mt(),i=r&2;try{ct(-1),i&&e.length>Z&&Gu(t,e,Z,!1),Ee(i?2:0,o),n(r,o)}finally{ct(s),Ee(i?3:1,o)}}function _a(t,e,n){if(na(e)){let r=D(null);try{let o=e.directiveStart,s=e.directiveEnd;for(let i=o;i<s;i++){let a=t.data[i];if(a.contentQueries){let c=n[i];a.contentQueries(1,c,i)}}}finally{D(r)}}}function ba(t,e,n){su()&&(_g(t,e,n,de(n,e)),(n.flags&64)===64&&Xu(t,e,n))}function Ia(t,e,n=de){let r=e.localNames;if(r!==null){let o=e.index+1;for(let s=0;s<r.length;s+=2){let i=r[s+1],a=i===-1?n(e,t):t[i];t[o++]=a}}}function Yu(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Ea(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ea(t,e,n,r,o,s,i,a,c,l,u){let d=Z+r,h=d+o,f=lg(d,h),m=typeof l=="function"?l():l;return f[w]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof i=="function"?i():i,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:u}}function lg(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:We);return n}function ug(t,e,n,r){let s=r.get(Mm,Au)||n===yn.ShadowDom,i=t.selectRootElement(e,s);return dg(i),i}function dg(t){fg(t)}var fg=()=>null;function hg(t,e,n,r){let o=nd(e);o.push(n),t.firstCreatePass&&rd(t).push(r,o.length-1)}function pg(t,e,n,r,o,s){let i=e?e.injectorIndex:-1,a=0;return iu()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:i,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Jc(t,e,n,r,o){for(let s in e){if(!e.hasOwnProperty(s))continue;let i=e[s];if(i===void 0)continue;r??={};let a,c=Pt.None;Array.isArray(i)?(a=i[0],c=i[1]):a=i;let l=s;if(o!==null){if(!o.hasOwnProperty(s))continue;l=o[s]}t===0?Yc(r,n,l,a,c):Yc(r,n,l,a)}return r}function Yc(t,e,n,r,o){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],o!==void 0&&s.push(o)}function mg(t,e,n){let r=e.directiveStart,o=e.directiveEnd,s=t.data,i=e.attrs,a=[],c=null,l=null;for(let u=r;u<o;u++){let d=s[u],h=n?n.get(d):null,f=h?h.inputs:null,m=h?h.outputs:null;c=Jc(0,d.inputs,u,c,f),l=Jc(1,d.outputs,u,l,m);let g=c!==null&&i!==null&&!Zi(e)?Og(c,u,i):null;a.push(g)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function gg(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Ku(t,e,n,r,o,s,i,a){let c=de(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Da(t,n,u,r,o),po(e)&&vg(n,e.index)):e.type&3?(r=gg(r),o=i!=null?i(o,e.value||"",r):o,s.setProperty(c,r,o)):e.type&12}function vg(t,e){let n=qe(e,t);n[y]&16||(n[y]|=64)}function xa(t,e,n,r){if(su()){let o=r===null?null:{"":-1},s=Ig(t,n),i,a;s===null?i=a=null:[i,a]=s,i!==null&&Zu(t,e,n,i,o,a),o&&Eg(n,r,o)}n.mergedAttrs=wn(n.mergedAttrs,n.attrs)}function Zu(t,e,n,r,o,s){for(let l=0;l<r.length;l++)ei(Qr(n,e),t,r[l].type);Dg(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let i=!1,a=!1,c=Qu(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=wn(n.mergedAttrs,u.hostAttrs),Cg(t,n,e,c,u),xg(c,u,o),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!i&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),i=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}mg(t,n,s)}function yg(t,e,n,r,o){let s=o.hostBindings;if(s){let i=t.hostBindingOpCodes;i===null&&(i=t.hostBindingOpCodes=[]);let a=~e.index;wg(i)!=a&&i.push(a),i.push(n,r,s)}}function wg(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function _g(t,e,n,r){let o=n.directiveStart,s=n.directiveEnd;po(n)&&Tg(e,n,t.data[o+n.componentOffset]),t.firstCreatePass||Qr(n,e),Be(r,e);let i=n.initialInputs;for(let a=o;a<s;a++){let c=t.data[a],l=ut(e,t,a,n);if(Be(l,e),i!==null&&Ng(e,a-o,l,c,n,i),He(c)){let u=qe(n.index,e);u[Q]=ut(e,t,a,n)}}}function Xu(t,e,n){let r=n.directiveStart,o=n.directiveEnd,s=n.index,i=zp();try{ct(s);for(let a=r;a<o;a++){let c=t.data[a],l=e[a];Zs(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&bg(c,l)}}finally{ct(-1),Zs(i)}}function bg(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Ig(t,e){let n=t.directiveRegistry,r=null,o=null;if(n)for(let s=0;s<n.length;s++){let i=n[s];if(jl(e,i.selectors,!1))if(r||(r=[]),He(i))if(i.findHostDirectiveDefs!==null){let a=[];o=o||new Map,i.findHostDirectiveDefs(i,a,o),r.unshift(...a,i);let c=a.length;li(t,e,c)}else r.unshift(i),li(t,e,0);else o=o||new Map,i.findHostDirectiveDefs?.(i,r,o),r.push(i)}return r===null?null:[r,o]}function li(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Eg(t,e,n){if(e){let r=t.localNames=[];for(let o=0;o<e.length;o+=2){let s=n[e[o+1]];if(s==null)throw new C(-301,!1);r.push(e[o],s)}}}function xg(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;He(e)&&(n[""]=t)}}function Dg(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Cg(t,e,n,r,o){t.data[r]=o;let s=o.factory||(o.factory=ot(o.type,!0)),i=new lt(s,He(o),Co);t.blueprint[r]=i,n[r]=i,yg(t,e,r,Qu(t,n,o.hostVars,We),o)}function Tg(t,e,n){let r=de(e,t),o=Yu(n),s=t[ye].rendererFactory,i=16;n.signals?i=4096:n.onPush&&(i=64);let a=Mo(t,To(t,o,null,i,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function Mg(t,e,n,r,o,s){let i=de(t,e);Sg(e[F],i,s,t.value,n,r,o)}function Sg(t,e,n,r,o,s,i){if(s==null)t.removeAttribute(e,o,n);else{let a=i==null?uo(s):i(s,r||"",o);t.setAttribute(e,o,a,n)}}function Ng(t,e,n,r,o,s){let i=s[e];if(i!==null)for(let a=0;a<i.length;){let c=i[a++],l=i[a++],u=i[a++],d=i[a++];zu(r,n,c,l,u,d)}}function Og(t,e,n){let r=null,o=0;for(;o<n.length;){let s=n[o];if(s===0){o+=4;continue}else if(s===5){o+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let i=t[s];for(let a=0;a<i.length;a+=3)if(i[a]===e){r.push(s,i[a+1],i[a+2],n[o+1]);break}}o+=2}return r}function ed(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function td(t,e){let n=t.contentQueries;if(n!==null){let r=D(null);try{for(let o=0;o<n.length;o+=2){let s=n[o],i=n[o+1];if(i!==-1){let a=t.data[i];vo(s),a.contentQueries(2,e[i],i)}}}finally{D(r)}}}function Mo(t,e){return t[In]?t[Fc][ve]=e:t[In]=e,t[Fc]=e,e}function ui(t,e,n){vo(0);let r=D(null);try{e(t,n)}finally{D(r)}}function nd(t){return t[bn]||(t[bn]=[])}function rd(t){return t.cleanup||(t.cleanup=[])}function od(t,e){let n=t[Ft],r=n?n.get(Ue,null):null;r&&r.handleError(e)}function Da(t,e,n,r,o){for(let s=0;s<n.length;){let i=n[s++],a=n[s++],c=n[s++],l=e[i],u=t.data[i];zu(u,l,r,a,c,o)}}function Ag(t,e,n){let r=nu(e,t);Um(t[F],r,n)}function kg(t,e){let n=qe(e,t),r=n[w];Rg(r,n);let o=n[Ne];o!==null&&n[jt]===null&&(n[jt]=pa(o,n[Ft])),Ca(r,n,n[Q])}function Rg(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Ca(t,e,n){la(e);try{let r=t.viewQuery;r!==null&&ui(1,r,n);let o=t.template;o!==null&&Ju(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Se]?.finishViewCreation(t),t.staticContentQueries&&td(t,e),t.staticViewQueries&&ui(2,t.viewQuery,n);let s=t.components;s!==null&&Pg(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[y]&=-5,ua()}}function Pg(t,e){for(let n=0;n<e.length;n++)kg(t,e[n])}function So(t,e,n,r){let o=D(null);try{let s=e.tView,a=t[y]&4096?4096:16,c=To(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[An]=l;let u=t[Se];return u!==null&&(c[Se]=u.createEmbeddedView(s)),Ca(s,c,n),c}finally{D(o)}}function sd(t,e){let n=J+e;if(n<t.length)return t[n]}function Cn(t,e){return!e||e.firstChild===null||Tu(t)}function No(t,e,n,r=!0){let o=e[w];if(zm(o,e,t,n),r){let i=ci(n,t),a=e[F],c=ya(a,t[at]);c!==null&&Wm(o,t[se],a,e,c,i)}let s=e[jt];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function id(t,e){let n=Dn(t,e);return n!==void 0&&Eo(n[w],n),n}function Kr(t,e,n,r,o=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Ce(s)),Oe(s)&&Lg(s,r);let i=n.type;if(i&8)Kr(t,e,n.child,r);else if(i&32){let a=va(n,e),c;for(;c=a();)r.push(c)}else if(i&16){let a=Uu(e,n);if(Array.isArray(a))r.push(...a);else{let c=xn(e[ue]);Kr(c[w],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function Lg(t,e){for(let n=J;n<t.length;n++){let r=t[n],o=r[w].firstChild;o!==null&&Kr(r[w],r,o,e)}t[at]!==t[Ne]&&e.push(t[at])}var ad=[];function jg(t){return t[it]??Fg(t)}function Fg(t){let e=ad.pop()??Object.create($g);return e.lView=t,e}function Vg(t){t.lView[it]!==t&&(t.lView=null,ad.push(t))}var $g=ce(ae({},fn),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{En(t.lView)},consumerOnSignalRead(){this.lView[it]=this}}),cd=100;function ld(t,e=!0,n=0){let r=t[ye],o=r.rendererFactory,s=!1;s||o.begin?.();try{Hg(t,n)}catch(i){throw e&&od(t,i),i}finally{s||(o.end?.(),r.inlineEffectRunner?.flush())}}function Hg(t,e){di(t,e);let n=0;for(;sa(t);){if(n===cd)throw new C(103,!1);n++,di(t,1)}}function Ug(t,e,n,r){let o=e[y];if((o&256)===256)return;let s=!1;!s&&e[ye].inlineEffectRunner?.flush(),la(e);let i=null,a=null;!s&&Bg(t)&&(a=jg(e),i=xr(a));try{ru(e),Bp(t.bindingStartIndex),n!==null&&Ju(t,e,n,2,r);let c=(o&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&Rr(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Pr(e,d,0,null),Ss(e,0)}if(qg(e),ud(e,0),t.contentQueries!==null&&td(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&Rr(e,d)}else{let d=t.contentHooks;d!==null&&Pr(e,d,1),Ss(e,1)}ag(t,e);let l=t.components;l!==null&&fd(e,l,0);let u=t.viewQuery;if(u!==null&&ui(2,u,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&Rr(e,d)}else{let d=t.viewHooks;d!==null&&Pr(e,d,2),Ss(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[kr]){for(let d of e[kr])d();e[kr]=null}s||(e[y]&=-73)}catch(c){throw En(e),c}finally{a!==null&&(Dr(a,i),Vg(a)),ua()}}function Bg(t){return t.type!==2}function ud(t,e){for(let n=Su(t);n!==null;n=Nu(n))for(let r=J;r<n.length;r++){let o=n[r];dd(o,e)}}function qg(t){for(let e=Su(t);e!==null;e=Nu(e)){if(!(e[y]&ta.HasTransplantedViews))continue;let n=e[Vt];for(let r=0;r<n.length;r++){let o=n[r],s=o[G];Rp(o)}}}function Wg(t,e,n){let r=qe(e,t);dd(r,n)}function dd(t,e){oa(t)&&di(t,e)}function di(t,e){let r=t[w],o=t[y],s=t[it],i=!!(e===0&&o&16);if(i||=!!(o&64&&e===0),i||=!!(o&1024),i||=!!(s?.dirty&&Cr(s)),s&&(s.dirty=!1),t[y]&=-9217,i)Ug(r,t,r.template,t[Q]);else if(o&8192){ud(t,1);let a=r.components;a!==null&&fd(t,a,1)}}function fd(t,e,n){for(let r=0;r<e.length;r++)Wg(t,e[r],n)}function Ta(t){for(t[ye].changeDetectionScheduler?.notify();t;){t[y]|=64;let e=xn(t);if(Ep(t)&&!e)return t;t=e}return null}var dt=class{get rootNodes(){let e=this._lView,n=e[w];return Kr(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Q]}set context(e){this._lView[Q]=e}get destroyed(){return(this._lView[y]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[G];if(Oe(e)){let n=e[qr],r=n?n.indexOf(this):-1;r>-1&&(Dn(e,r),Hr(n,r))}this._attachedToViewContainer=!1}Eo(this._lView[w],this._lView)}onDestroy(e){ou(this._lView,e)}markForCheck(){Ta(this._cdRefInjectingView||this._lView)}detach(){this._lView[y]&=-129}reattach(){Ks(this._lView),this._lView[y]|=128}detectChanges(){this._lView[y]|=1024,ld(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,ju(this._lView[w],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=e,Ks(this._lView)}},Zr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Qg;let t=e;return t})(),Gg=Zr,zg=class extends Gg{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let o=So(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new dt(o)}};function Qg(){return Oo(Y(),I())}function Oo(t,e){return t.type&4?new zg(e,t,qt(t,e)):null}var CC=new RegExp(`^(\\d+)*(${Cm}|${Dm})*(.*)`);var Jg=()=>null;function Tn(t,e){return Jg(t,e)}var fi=class{},hi=class{},Xr=class{};function Yg(t){let e=Error(`No component factory found for ${oe(t)}.`);return e[Kg]=t,e}var Kg="ngComponent";var pi=class{resolveComponentFactory(e){throw Yg(e)}},Ao=(()=>{let e=class e{};e.NULL=new pi;let t=e;return t})(),mi=class{},TC=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Zg();let t=e;return t})();function Zg(){let t=I(),e=Y(),n=qe(e.index,t);return(nt(n)?n:t)[F]}var Xg=(()=>{let e=class e{};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Rs={};var Kc=new Set;function Gt(t){Kc.has(t)||(Kc.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Zc(...t){}function ev(){let t=typeof Ie.requestAnimationFrame=="function",e=Ie[t?"requestAnimationFrame":"setTimeout"],n=Ie[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var De=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new mn(!1),this.onMicrotaskEmpty=new mn(!1),this.onStable=new mn(!1),this.onError=new mn(!1),typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=ev().nativeRequestAnimationFrame,rv(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new C(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,o){let s=this._inner,i=s.scheduleEventTask("NgZoneEvent: "+o,e,tv,Zc,Zc);try{return s.runTask(i,n,r)}finally{s.cancelTask(i)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},tv={};function Ma(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function nv(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ie,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,gi(t),t.isCheckStableRunning=!0,Ma(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),gi(t))}function rv(t){let e=()=>{nv(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,s,i,a)=>{if(ov(a))return n.invokeTask(o,s,i,a);try{return Xc(t),n.invokeTask(o,s,i,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),el(t)}},onInvoke:(n,r,o,s,i,a,c)=>{try{return Xc(t),n.invoke(o,s,i,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),el(t)}},onHasTask:(n,r,o,s)=>{n.hasTask(o,s),r===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,gi(t),Ma(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,o,s)=>(n.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function gi(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Xc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function el(t){t._nesting--,Ma(t)}function ov(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var hd=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let o of r)o()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function eo(t,e,n){let r=n?t.styles:null,o=n?t.classes:null,s=0;if(e!==null)for(let i=0;i<e.length;i++){let a=e[i];if(typeof a=="number")s=a;else if(s==1)o=Mc(o,a);else if(s==2){let c=a,l=e[++i];r=Mc(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=o:t.classesWithoutHost=o}var to=class extends Ao{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=st(e);return new Mn(n,this.ngModule)}};function tl(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function sv(t){let e=t.toLowerCase();return e==="svg"?tu:e==="math"?Mp:null}var vi=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=fo(r);let o=this.injector.get(e,Rs,r);return o!==Rs||n===Rs?o:this.parentInjector.get(e,n,r)}},Mn=class extends Xr{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=tl(e.inputs);if(n!==null)for(let o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return tl(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=rp(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,o){let s=D(null);try{o=o||this.ngModule;let i=o instanceof $e?o:o?.injector;i&&this.componentDef.getStandaloneInjector!==null&&(i=this.componentDef.getStandaloneInjector(i)||i);let a=i?new vi(e,i):e,c=a.get(mi,null);if(c===null)throw new C(407,!1);let l=a.get(Xg,null),u=a.get(hd,null),d=a.get(fi,null),h={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},f=c.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",g=r?ug(f,r,this.componentDef.encapsulation,a):Lu(f,m,sv(m)),v=512;this.componentDef.signals?v|=4096:this.componentDef.onPush||(v|=16);let b=null;g!==null&&(b=pa(g,a,!0));let B=Ea(0,null,null,1,0,null,null,null,null,null,null),P=To(null,B,null,v,null,null,h,f,a,null,b);la(P);let k,X;try{let pe=this.componentDef,It,os=null;pe.findHostDirectiveDefs?(It=[],os=new Map,pe.findHostDirectiveDefs(pe,It,os),It.push(pe)):It=[pe];let Cf=iv(P,g),Tf=av(Cf,g,pe,It,P,h,f);X=ra(B,Z),g&&uv(f,pe,g,r),n!==void 0&&dv(X,this.ngContentSelectors,n),k=lv(Tf,pe,It,os,P,[fv]),Ca(B,P,null)}finally{ua()}return new yi(this.componentType,k,qt(X,P),P,X)}finally{D(s)}}},yi=class extends hi{constructor(e,n,r,o,s){super(),this.location=r,this._rootLView=o,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new dt(o,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,o;if(r!==null&&(o=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Da(s[w],s,o,e,n),this.previousInputValues.set(e,n);let i=qe(this._tNode.index,s);Ta(i)}}get injector(){return new rt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function iv(t,e){let n=t[w],r=Z;return t[r]=e,Wt(n,r,2,"#host",null)}function av(t,e,n,r,o,s,i){let a=o[w];cv(r,t,e,i);let c=null;e!==null&&(c=pa(e,o[Ft]));let l=s.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=To(o,Yu(n),null,u,o[t.index],t,s,l,null,null,c);return a.firstCreatePass&&li(a,t,r.length-1),Mo(o,d),o[t.index]=d}function cv(t,e,n,r){for(let o of t)e.mergedAttrs=wn(e.mergedAttrs,o.hostAttrs);e.mergedAttrs!==null&&(eo(e,e.mergedAttrs,!0),n!==null&&Wu(r,n,e))}function lv(t,e,n,r,o,s){let i=Y(),a=o[w],c=de(i,o);Zu(a,o,i,n,null,r);for(let u=0;u<n.length;u++){let d=i.directiveStart+u,h=ut(o,a,d,i);Be(h,o)}Xu(a,o,i),c&&Be(c,o);let l=ut(o,a,i.directiveStart+i.componentOffset,i);if(t[Q]=o[Q]=l,s!==null)for(let u of s)u(l,e);return _a(a,i,o),l}function uv(t,e,n,r){if(r)Gs(t,n,["ng-version","17.3.1"]);else{let{attrs:o,classes:s}=op(e.selectors[0]);o&&Gs(t,n,o),s&&s.length>0&&qu(t,n,s.join(" "))}}function dv(t,e,n){let r=t.projection=[];for(let o=0;o<e.length;o++){let s=n[o];r.push(s!=null?Array.from(s):null)}}function fv(){let t=Y();_o(I()[w],t)}var Sa=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=hv;let t=e;return t})();function hv(){let t=Y();return md(t,I())}var pv=Sa,pd=class extends pv{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return qt(this._hostTNode,this._hostLView)}get injector(){return new rt(this._hostTNode,this._hostLView)}get parentInjector(){let e=fa(this._hostTNode,this._hostLView);if(mu(e)){let n=Gr(e,this._hostLView),r=Wr(e),o=n[w].data[r+8];return new rt(o,n)}else return new rt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=nl(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-J}createEmbeddedView(e,n,r){let o,s;typeof r=="number"?o=r:r!=null&&(o=r.index,s=r.injector);let i=Tn(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,i);return this.insertImpl(a,o,Cn(this._hostTNode,i)),a}createComponent(e,n,r,o,s){let i=e&&!Ip(e),a;if(i)a=n;else{let m=n||{};a=m.index,r=m.injector,o=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}let c=i?e:new Mn(st(e)),l=r||this.parentInjector;if(!s&&c.ngModule==null){let g=(i?l:this.parentInjector).get($e,null);g&&(s=g)}let u=st(c.componentType??{}),d=Tn(this._lContainer,u?.id??null),h=d?.firstChild??null,f=c.create(l,o,h,s);return this.insertImpl(f.hostView,a,Cn(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let o=e._lView;if(kp(o)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=o[G],l=new pd(c,c[se],c[G]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),i=this._lContainer;return No(i,o,s,r),e.attachToViewContainerRef(),Ol(Ps(i),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=nl(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Dn(this._lContainer,n);r&&(Hr(Ps(this._lContainer),n),Eo(r[w],r))}detach(e){let n=this._adjustIndex(e,-1),r=Dn(this._lContainer,n);return r&&Hr(Ps(this._lContainer),n)!=null?new dt(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function nl(t){return t[qr]}function Ps(t){return t[qr]||(t[qr]=[])}function md(t,e){let n,r=e[t.index];return Oe(r)?n=r:(n=ed(r,e,null,t),e[t.index]=n,Mo(e,n)),gv(n,e,t,r),new pd(n,t,e)}function mv(t,e){let n=t[F],r=n.createComment(""),o=de(e,t),s=ya(n,o);return Yr(n,s,r,Xm(n,o),!1),r}var gv=wv,vv=()=>!1;function yv(t,e,n){return vv(t,e,n)}function wv(t,e,n,r){if(t[at])return;let o;n.type&8?o=Ce(r):o=mv(e,n),t[at]=o}var wi=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},_i=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,o=[];for(let s=0;s<r;s++){let i=n.getByIndex(s),a=this.queries[i.indexInDeclarationView];o.push(a.clone())}return new t(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Oa(e,n).matches!==null&&this.queries[n].setDirty()}},no=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=Dv(e):this.predicate=e}},bi=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let o=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,o);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Ii=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let s=r[o];this.matchTNodeWithReadOption(e,n,_v(n,s)),this.matchTNodeWithReadOption(e,n,Lr(n,e,s,!1,!1))}else r===Zr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Lr(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===Io||o===Sa||o===Zr&&n.type&4)this.addMatch(n.index,-2);else{let s=Lr(n,e,o,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function _v(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function bv(t,e){return t.type&11?qt(t,e):t.type&4?Oo(t,e):null}function Iv(t,e,n,r){return n===-1?bv(e,t):n===-2?Ev(t,e,r):ut(t,t[w],n,e)}function Ev(t,e,n){if(n===Io)return qt(e,t);if(n===Zr)return Oo(e,t);if(n===Sa)return md(e,t)}function gd(t,e,n,r){let o=e[Se].queries[r];if(o.matches===null){let s=t.data,i=n.matches,a=[];for(let c=0;i!==null&&c<i.length;c+=2){let l=i[c];if(l<0)a.push(null);else{let u=s[l];a.push(Iv(e,u,i[c+1],n.metadata.read))}}o.matches=a}return o.matches}function Ei(t,e,n,r){let o=t.queries.getByIndex(n),s=o.matches;if(s!==null){let i=gd(t,e,o,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(i[a/2]);else{let l=s[a+1],u=e[-c];for(let d=J;d<u.length;d++){let h=u[d];h[An]===h[G]&&Ei(h[w],h,l,r)}if(u[Vt]!==null){let d=u[Vt];for(let h=0;h<d.length;h++){let f=d[h];Ei(f[w],f,l,r)}}}}}return r}function Na(t,e){return t[Se].queries[e].queryList}function vd(t,e,n){let r=new si((n&4)===4);return hg(t,e,r,r.destroy),(e[Se]??=new _i).queries.push(new wi(r))-1}function yd(t,e,n){let r=$();return r.firstCreatePass&&(wd(r,new no(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),vd(r,I(),e)}function xv(t,e,n,r){let o=$();if(o.firstCreatePass){let s=Y();wd(o,new no(e,n,r),s.index),Cv(o,t),(n&2)===2&&(o.staticContentQueries=!0)}return vd(o,I(),n)}function Dv(t){return t.split(",").map(e=>e.trim())}function wd(t,e,n){t.queries===null&&(t.queries=new bi),t.queries.track(new Ii(e,n))}function Cv(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Oa(t,e){return t.queries.getByIndex(e)}function _d(t,e){let n=t[w],r=Oa(n,e);return r.crossesNgTemplate?Ei(n,t,e,[]):gd(n,t,r,e)}function Tv(t){return typeof t=="function"&&t[te]!==void 0}function ko(t,e){Gt("NgSignals");let n=Dc(t),r=n[te];return e?.equal&&(r.equal=e.equal),n.set=o=>pn(r,o),n.update=o=>Cc(r,o),n.asReadonly=bd.bind(n),n}function bd(){let t=this[te];if(t.readonlyFn===void 0){let e=()=>this();e[te]=t,t.readonlyFn=e}return t.readonlyFn}function Id(t){return Tv(t)&&typeof t.set=="function"}function Ed(t,e){let n,r=Ds(()=>{n._dirtyCounter();let o=Ov(n,t);if(e&&o===void 0)throw new C(-951,!1);return o});return n=r[te],n._dirtyCounter=ko(0),n._flatValue=void 0,r}function Mv(){return Ed(!0,!1)}function Sv(){return Ed(!0,!0)}function Nv(t,e){let n=t[te];n._lView=I(),n._queryIndex=e,n._queryList=Na(n._lView,e),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function Ov(t,e){let n=t._lView,r=t._queryIndex;if(n===void 0||r===void 0||n[y]&4)return e?void 0:re;let o=Na(n,r),s=_d(n,r);return o.reset(s,Cu),e?o.first:o._changesDetected||t._flatValue===void 0?t._flatValue=o.toArray():t._flatValue}function rl(t,e){return Mv()}function Av(t,e){return Sv()}var SC=(rl.required=Av,rl);function xd(t){let e=Object.create(yl),n=new ri;e.value=t;function r(){return hn(e),ol(e.value),e.value}return r[te]=e,r.asReadonly=bd.bind(r),r.set=o=>{e.equal(e.value,o)||(pn(e,o),n.emit(o))},r.update=o=>{ol(e.value),r.set(o(e.value))},r.subscribe=n.subscribe.bind(n),r.destroyRef=n.destroyRef,r}function ol(t){if(t===co)throw new C(-952,!1)}function sl(t){return xd(t)}function kv(){return xd(co)}var NC=(sl.required=kv,sl);function Rv(t){return Object.getPrototypeOf(t.prototype).constructor}function Pv(t){let e=Rv(t.type),n=!0,r=[t];for(;e;){let o;if(He(t))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new C(903,!1);o=e.\u0275dir}if(o){if(n){r.push(o);let i=t;i.inputs=Nr(t.inputs),i.inputTransforms=Nr(t.inputTransforms),i.declaredInputs=Nr(t.declaredInputs),i.outputs=Nr(t.outputs);let a=o.hostBindings;a&&$v(t,a);let c=o.viewQuery,l=o.contentQueries;if(c&&Fv(t,c),l&&Vv(t,l),Lv(t,o),bh(t.outputs,o.outputs),He(o)&&o.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(o.data.animation)}}let s=o.features;if(s)for(let i=0;i<s.length;i++){let a=s[i];a&&a.ngInherit&&a(t),a===Pv&&(n=!1)}}e=Object.getPrototypeOf(e)}jv(r)}function Lv(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let o=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(o))continue;t.inputTransforms??={},t.inputTransforms[o]=e.inputTransforms[o]}}}function jv(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let o=t[r];o.hostVars=e+=o.hostVars,o.hostAttrs=wn(o.hostAttrs,n=wn(n,o.hostAttrs))}}function Nr(t){return t===Rt?{}:t===re?[]:t}function Fv(t,e){let n=t.viewQuery;n?t.viewQuery=(r,o)=>{e(r,o),n(r,o)}:t.viewQuery=e}function Vv(t,e){let n=t.contentQueries;n?t.contentQueries=(r,o,s)=>{e(r,o,s),n(r,o,s)}:t.contentQueries=e}function $v(t,e){let n=t.hostBindings;n?t.hostBindings=(r,o)=>{e(r,o),n(r,o)}:t.hostBindings=e}function OC(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)&&o[3]&&(n[r]=o[3])}t.inputTransforms=n}var ft=class{},xi=class{};var Di=class extends ft{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new to(this);let o=$l(e);this._bootstrapComponents=Pu(o.bootstrap),this._r3Injector=xu(e,n,[{provide:ft,useValue:this},{provide:Ao,useValue:this.componentFactoryResolver},...r],oe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ci=class extends xi{constructor(e){super(),this.moduleType=e}create(e){return new Di(this.moduleType,e,[])}};var ro=class extends ft{constructor(e){super(),this.componentFactoryResolver=new to(this),this.instance=null;let n=new _n([...e.providers,{provide:ft,useValue:this},{provide:Ao,useValue:this.componentFactoryResolver}],e.parent||ea(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Hv(t,e,n=null){return new ro({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Aa=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ze(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Dd(t){return ka(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Uv(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function ka(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Ra(t,e,n){return t[e]=n}function Bv(t,e){return t[e]}function we(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function qv(t,e,n,r){let o=we(t,e,n);return we(t,e+1,r)||o}function Wv(t,e,n,r,o){let s=qv(t,e,n,r);return we(t,e+2,o)||s}function Gv(t){return(t.flags&32)===32}function zv(t,e,n,r,o,s,i,a,c){let l=e.consts,u=Wt(e,t,4,i||null,$t(l,a));xa(e,n,u,$t(l,c)),_o(e,u);let d=u.tView=Ea(2,u,r,o,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function Ti(t,e,n,r,o,s,i,a){let c=I(),l=$(),u=t+Z,d=l.firstCreatePass?zv(u,l,c,e,n,r,o,s,i):l.data[u];pt(d,!1);let h=Qv(l,c,d,t);yo()&&xo(l,c,h,d),Be(h,c);let f=ed(h,c,h,d);return c[u]=f,Mo(c,f),yv(f,d,c),mo(d)&&ba(l,c,d),i!=null&&Ia(c,d,a),Ti}var Qv=Jv;function Jv(t,e,n,r){return wo(!0),e[F].createComment("")}function Yv(t,e,n,r){let o=I(),s=Bt();if(we(o,s,e)){let i=$(),a=da();Mg(a,o,t,e,n,r)}return Yv}function Kv(t,e,n,r){return we(t,Bt(),n)?e+uo(n)+r:We}function Or(t,e){return t<<17|e<<2}function ht(t){return t>>17&32767}function Zv(t){return(t&2)==2}function Xv(t,e){return t&131071|e<<17}function Mi(t){return t|2}function Ht(t){return(t&131068)>>2}function Ls(t,e){return t&-131069|e<<2}function ey(t){return(t&1)===1}function Si(t){return t|1}function ty(t,e,n,r,o,s){let i=s?e.classBindings:e.styleBindings,a=ht(i),c=Ht(i);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||On(d,u)>0)&&(l=!0)}else u=n;if(o)if(c!==0){let h=ht(t[a+1]);t[r+1]=Or(h,a),h!==0&&(t[h+1]=Ls(t[h+1],r)),t[a+1]=Xv(t[a+1],r)}else t[r+1]=Or(a,0),a!==0&&(t[a+1]=Ls(t[a+1],r)),a=r;else t[r+1]=Or(c,0),a===0?a=r:t[c+1]=Ls(t[c+1],r),c=r;l&&(t[r+1]=Mi(t[r+1])),il(t,u,r,!0),il(t,u,r,!1),ny(e,u,t,r,s),i=Or(a,c),s?e.classBindings=i:e.styleBindings=i}function ny(t,e,n,r,o){let s=o?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&On(s,e)>=0&&(n[r+1]=Si(n[r+1]))}function il(t,e,n,r){let o=t[n+1],s=e===null,i=r?ht(o):Ht(o),a=!1;for(;i!==0&&(a===!1||s);){let c=t[i],l=t[i+1];ry(c,e)&&(a=!0,t[i+1]=r?Si(l):Mi(l)),i=r?ht(l):Ht(l)}a&&(t[n+1]=r?Mi(o):Si(o))}function ry(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?On(t,e)>=0:!1}function oy(t,e,n){let r=I(),o=Bt();if(we(r,o,e)){let s=$(),i=da();Ku(s,i,r,t,e,r[F],n,!1)}return oy}function al(t,e,n,r,o){let s=e.inputs,i=o?"class":"style";Da(t,n,s[i],i,r)}function sy(t,e,n){return Cd(t,e,n,!1),sy}function iy(t,e){return Cd(t,e,null,!0),iy}function Cd(t,e,n,r){let o=I(),s=$(),i=qp(2);if(s.firstUpdatePass&&cy(s,t,i,r),e!==We&&we(o,i,e)){let a=s.data[mt()];hy(s,a,o,o[F],t,o[i+1]=py(e,n),r,i)}}function ay(t,e){return e>=t.expandoStartIndex}function cy(t,e,n,r){let o=t.data;if(o[n+1]===null){let s=o[mt()],i=ay(t,n);my(s,r)&&e===null&&!i&&(e=!1),e=ly(o,s,e,r),ty(o,s,e,n,i,r)}}function ly(t,e,n,r){let o=Qp(t),s=r?e.residualClasses:e.residualStyles;if(o===null)(r?e.classBindings:e.styleBindings)===0&&(n=js(null,t,e,n,r),n=Sn(n,e.attrs,r),s=null);else{let i=e.directiveStylingLast;if(i===-1||t[i]!==o)if(n=js(o,t,e,n,r),s===null){let c=uy(t,e,r);c!==void 0&&Array.isArray(c)&&(c=js(null,t,e,c[1],r),c=Sn(c,e.attrs,r),dy(t,e,r,c))}else s=fy(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function uy(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ht(r)!==0)return t[ht(r)]}function dy(t,e,n,r){let o=n?e.classBindings:e.styleBindings;t[ht(o)]=r}function fy(t,e,n){let r,o=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<o;s++){let i=t[s].hostAttrs;r=Sn(r,i,n)}return Sn(r,e.attrs,n)}function js(t,e,n,r,o){let s=null,i=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<i&&(s=e[a],r=Sn(r,s.hostAttrs,o),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Sn(t,e,n){let r=n?1:2,o=-1;if(e!==null)for(let s=0;s<e.length;s++){let i=e[s];typeof i=="number"?o=i:o===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),qh(t,i,n?!0:e[++s]))}return t===void 0?null:t}function hy(t,e,n,r,o,s,i,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=ey(l)?cl(c,e,n,o,Ht(l),i):void 0;if(!oo(u)){oo(s)||Zv(l)&&(s=cl(c,null,n,o,a,i));let d=nu(mt(),n);sg(r,i,d,o,s)}}function cl(t,e,n,r,o,s){let i=e===null,a;for(;o>0;){let c=t[o],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[o+1];h===We&&(h=d?re:void 0);let f=d?Ts(h,r):u===r?h:void 0;if(l&&!oo(f)&&(f=Ts(c,r)),oo(f)&&(a=f,i))return a;let m=t[o+1];o=i?ht(m):Ht(m)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Ts(c,r))}return a}function oo(t){return t!==void 0}function py(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=oe(ma(t)))),t}function my(t,e){return(t.flags&(e?8:16))!==0}var Ni=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),o=Math.max(e,n),s=this.detach(o);if(o-r>1){let i=this.detach(r);this.attach(r,s),this.attach(o,i)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function Fs(t,e,n,r,o){return t===n&&Object.is(e,r)?1:Object.is(o(t,e),o(n,r))?-1:0}function gy(t,e,n){let r,o,s=0,i=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=i&&s<=a;){let c=t.at(s),l=e[s],u=Fs(s,c,s,l,n);if(u!==0){u<0&&t.updateValue(s,l),s++;continue}let d=t.at(i),h=e[a],f=Fs(i,d,a,h,n);if(f!==0){f<0&&t.updateValue(i,h),i--,a--;continue}let m=n(s,c),g=n(i,d),v=n(s,l);if(Object.is(v,g)){let b=n(a,h);Object.is(b,m)?(t.swap(s,i),t.updateValue(i,h),a--,i--):t.move(i,s),t.updateValue(s,l),s++;continue}if(r??=new so,o??=ul(t,s,i,n),Oi(t,r,s,v))t.updateValue(s,l),s++,i++;else if(o.has(v))r.set(m,t.detach(s)),i--;else{let b=t.create(s,e[s]);t.attach(s,b),s++,i++}}for(;s<=a;)ll(t,r,n,s,e[s]),s++}else if(e!=null){let a=e[Symbol.iterator](),c=a.next();for(;!c.done&&s<=i;){let l=t.at(s),u=c.value,d=Fs(s,l,s,u,n);if(d!==0)d<0&&t.updateValue(s,u),s++,c=a.next();else{r??=new so,o??=ul(t,s,i,n);let h=n(s,u);if(Oi(t,r,s,h))t.updateValue(s,u),s++,i++,c=a.next();else if(!o.has(h))t.attach(s,t.create(s,u)),s++,i++,c=a.next();else{let f=n(s,l);r.set(f,t.detach(s)),i--}}}for(;!c.done;)ll(t,r,n,t.length,c.value),c=a.next()}for(;s<=i;)t.destroy(t.detach(i--));r?.forEach(a=>{t.destroy(a)})}function Oi(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function ll(t,e,n,r,o){if(Oi(t,e,r,n(r,o)))t.updateValue(r,o);else{let s=t.create(r,o);t.attach(r,s)}}function ul(t,e,n,r){let o=new Set;for(let s=e;s<=n;s++)o.add(r(s,t.at(s)));return o}var so=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(r);)r=o.get(r);o.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let o=this._vMap;for(;o.has(r);)r=o.get(r),e(r,n)}}};function AC(t,e,n){Gt("NgControlFlow");let r=I(),o=Bt(),s=Pi(r,Z+t),i=0;if(we(r,o,e)){let a=D(null);try{if(id(s,i),e!==-1){let c=Li(r[w],Z+e),l=Tn(s,c.tView.ssrId),u=So(r,c,n,{dehydratedView:l});No(s,u,i,Cn(c,l))}}finally{D(a)}}else{let a=sd(s,i);a!==void 0&&(a[Q]=n)}}var Ai=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-J}};function kC(t){return t}var ki=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function RC(t,e,n,r,o,s,i,a,c,l,u,d,h){Gt("NgControlFlow");let f=c!==void 0,m=I(),g=a?i.bind(m[ue][Q]):i,v=new ki(f,g);m[Z+t]=v,Ti(t+1,e,n,r,o,s),f&&Ti(t+2,c,l,u,d,h)}var Ri=class extends Ni{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-J}at(e){return this.getLView(e)[Q].$implicit}attach(e,n){let r=n[jt];this.needsIndexUpdate||=e!==this.length,No(this.lContainer,n,e,Cn(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,vy(this.lContainer,e)}create(e,n){let r=Tn(this.lContainer,this.templateTNode.tView.ssrId);return So(this.hostLView,this.templateTNode,new Ai(this.lContainer,n,e),{dehydratedView:r})}destroy(e){Eo(e[w],e)}updateValue(e,n){this.getLView(e)[Q].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Q].$index=e}getLView(e){return yy(this.lContainer,e)}};function PC(t){let e=D(null),n=mt();try{let r=I(),o=r[w],s=r[n];if(s.liveCollection===void 0){let a=n+1,c=Pi(r,a),l=Li(o,a);s.liveCollection=new Ri(c,r,l)}else s.liveCollection.reset();let i=s.liveCollection;if(gy(i,t,s.trackByFn),i.updateIndexes(),s.hasEmptyBlock){let a=Bt(),c=i.length===0;if(we(r,a,c)){let l=n+2,u=Pi(r,l);if(c){let d=Li(o,l),h=Tn(u,d.tView.ssrId),f=So(r,d,void 0,{dehydratedView:h});No(u,f,0,Cn(d,h))}else id(u,0)}}}finally{D(e)}}function Pi(t,e){return t[e]}function vy(t,e){return Dn(t,e)}function yy(t,e){return sd(t,e)}function Li(t,e){return ra(t,e)}function wy(t,e,n,r,o,s){let i=e.consts,a=$t(i,o),c=Wt(e,t,2,r,a);return xa(e,n,c,$t(i,s)),c.attrs!==null&&eo(c,c.attrs,!1),c.mergedAttrs!==null&&eo(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function Td(t,e,n,r){let o=I(),s=$(),i=Z+t,a=o[F],c=s.firstCreatePass?wy(i,s,o,e,n,r):s.data[i],l=by(s,o,c,a,e,t);o[i]=l;let u=mo(c);return pt(c,!0),Wu(a,l,c),!Gv(c)&&yo()&&xo(s,o,l,c),jp()===0&&Be(l,o),Fp(),u&&(ba(s,o,c),_a(s,c,o)),r!==null&&Ia(o,c),Td}function Md(){let t=Y();ia()?aa():(t=t.parent,pt(t,!1));let e=t;$p(e)&&Hp(),Vp();let n=$();return n.firstCreatePass&&(_o(n,t),na(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&nm(e)&&al(n,e,I(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&rm(e)&&al(n,e,I(),e.stylesWithoutHost,!1),Md}function _y(t,e,n,r){return Td(t,e,n,r),Md(),_y}var by=(t,e,n,r,o,s)=>(wo(!0),Lu(r,o,Zp()));function Iy(t,e,n,r,o){let s=e.consts,i=$t(s,r),a=Wt(e,t,8,"ng-container",i);i!==null&&eo(a,i,!0);let c=$t(s,o);return xa(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Sd(t,e,n){let r=I(),o=$(),s=t+Z,i=o.firstCreatePass?Iy(s,o,r,e,n):o.data[s];pt(i,!0);let a=xy(o,r,i,t);return r[s]=a,yo()&&xo(o,r,a,i),Be(a,r),mo(i)&&(ba(o,r,i),_a(o,i,r)),n!=null&&Ia(r,i),Sd}function Nd(){let t=Y(),e=$();return ia()?aa():(t=t.parent,pt(t,!1)),e.firstCreatePass&&(_o(e,t),na(t)&&e.queries.elementEnd(t)),Nd}function Ey(t,e,n){return Sd(t,e,n),Nd(),Ey}var xy=(t,e,n,r)=>(wo(!0),Bm(e[F],""));function LC(){return I()}var tt=void 0;function Dy(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var Cy=["en",[["a","p"],["AM","PM"],tt],[["AM","PM"],tt,tt],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],tt,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],tt,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",tt,"{1} 'at' {0}",tt],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Dy],Vs={};function jC(t){let e=My(t),n=dl(e);if(n)return n;let r=e.split("-")[0];if(n=dl(r),n)return n;if(r==="en")return Cy;throw new C(701,!1)}function dl(t){return t in Vs||(Vs[t]=Ie.ng&&Ie.ng.common&&Ie.ng.common.locales&&Ie.ng.common.locales[t]),Vs[t]}var Ty=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ty||{});function My(t){return t.toLowerCase().replace(/_/g,"-")}var io="en-US";var Sy=io;function Ny(t){typeof t=="string"&&(Sy=t.toLowerCase().replace(/_/g,"-"))}function Oy(t,e,n,r){let o=I(),s=$(),i=Y();return Od(s,o,o[F],i,t,e,r),Oy}function Ay(t,e,n,r){let o=t.cleanup;if(o!=null)for(let s=0;s<o.length-1;s+=2){let i=o[s];if(i===n&&o[s+1]===r){let a=e[bn],c=o[s+2];return a.length>c?a[c]:null}typeof i=="string"&&(s+=2)}return null}function Od(t,e,n,r,o,s,i){let a=mo(r),l=t.firstCreatePass&&rd(t),u=e[Q],d=nd(e),h=!0;if(r.type&3||i){let g=de(r,e),v=i?i(g):g,b=d.length,B=i?k=>i(Ce(k[r.index])):r.index,P=null;if(!i&&a&&(P=Ay(t,e,o,r.index)),P!==null){let k=P.__ngLastListenerFn__||P;k.__ngNextListenerFn__=s,P.__ngLastListenerFn__=s,h=!1}else{s=hl(r,e,u,s,!1);let k=n.listen(v,o,s);d.push(s,k),l&&l.push(o,B,b,b+1)}}else s=hl(r,e,u,s,!1);let f=r.outputs,m;if(h&&f!==null&&(m=f[o])){let g=m.length;if(g)for(let v=0;v<g;v+=2){let b=m[v],B=m[v+1],X=e[b][B].subscribe(s),pe=d.length;d.push(s,X),l&&l.push(o,r.index,pe,-(pe+1))}}}function fl(t,e,n,r){let o=D(null);try{return Ee(6,e,n),n(r)!==!1}catch(s){return od(t,s),!1}finally{Ee(7,e,n),D(o)}}function hl(t,e,n,r,o){return function s(i){if(i===Function)return r;let a=t.componentOffset>-1?qe(t.index,e):e;Ta(a);let c=fl(e,n,r,i),l=s.__ngNextListenerFn__;for(;l;)c=fl(e,n,l,i)&&c,l=l.__ngNextListenerFn__;return o&&c===!1&&i.preventDefault(),c}}function FC(t=1){return Yp(t)}function ky(t,e){let n=null,r=Zh(t);for(let o=0;o<e.length;o++){let s=e[o];if(s==="*"){n=o;continue}if(r===null?jl(t,s,!0):tp(r,s))return o}return n}function VC(t){let e=I()[ue][se];if(!e.projection){let n=t?t.length:1,r=e.projection=Uh(n,null),o=r.slice(),s=e.child;for(;s!==null;){let i=t?ky(s,t):0;i!==null&&(o[i]?o[i].projectionNext=s:r[i]=s,o[i]=s),s=s.next}}}function $C(t,e=0,n){let r=I(),o=$(),s=Wt(o,Z+t,16,null,n||null);s.projection===null&&(s.projection=e),aa(),(!r[jt]||iu())&&(s.flags&32)!==32&&rg(o,r,s)}function HC(t,e,n,r){xv(t,e,n,r)}function UC(t,e,n){yd(t,e,n)}function BC(t){let e=I(),n=$(),r=ca();vo(r+1);let o=Oa(n,r);if(t.dirty&&Ap(e)===((o.metadata.flags&2)===2)){if(o.matches===null)t.reset([]);else{let s=_d(e,r);t.reset(s,Cu),t.notifyOnChanges()}return!0}return!1}function qC(){return Na(I(),ca())}function WC(t,e,n,r){Nv(t,yd(e,n,r))}function GC(t=1){vo(ca()+t)}function Ry(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function zC(t,e=""){let n=I(),r=$(),o=t+Z,s=r.firstCreatePass?Wt(r,o,1,e,null):r.data[o],i=Py(r,n,s,e,t);n[o]=i,yo()&&xo(r,n,i,s),pt(s,!1)}var Py=(t,e,n,r,o)=>(wo(!0),Hm(e[F],r));function Ly(t){return Ad("",t,""),Ly}function Ad(t,e,n){let r=I(),o=Kv(r,t,e,n);return o!==We&&Ag(r,mt(),o),Ad}function jy(t,e,n){Id(e)&&(e=e());let r=I(),o=Bt();if(we(r,o,e)){let s=$(),i=da();Ku(s,i,r,t,e,r[F],n,!1)}return jy}function QC(t,e){let n=Id(t);return n&&t.set(e),n}function Fy(t,e){let n=I(),r=$(),o=Y();return Od(r,n,n[F],o,t,e),Fy}function Vy(t,e,n){let r=$();if(r.firstCreatePass){let o=He(t);ji(n,r.data,r.blueprint,o,!0),ji(e,r.data,r.blueprint,o,!1)}}function ji(t,e,n,r,o){if(t=K(t),Array.isArray(t))for(let s=0;s<t.length;s++)ji(t[s],e,n,r,o);else{let s=$(),i=I(),a=Y(),c=Lt(t)?t:K(t.provide),l=zl(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Lt(t)||!t.multi){let f=new lt(l,o,Co),m=Hs(c,e,o?u:u+h,d);m===-1?(ei(Qr(a,i),s,c),$s(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(f),i.push(f)):(n[m]=f,i[m]=f)}else{let f=Hs(c,e,u+h,d),m=Hs(c,e,u,u+h),g=f>=0&&n[f],v=m>=0&&n[m];if(o&&!v||!o&&!g){ei(Qr(a,i),s,c);let b=Uy(o?Hy:$y,n.length,o,r,l);!o&&v&&(n[m].providerFactory=b),$s(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(b),i.push(b)}else{let b=kd(n[o?m:f],l,!o&&r);$s(s,t,f>-1?f:m,b)}!o&&r&&v&&n[m].componentProviders++}}}function $s(t,e,n,r){let o=Lt(e),s=pp(e);if(o||s){let c=(s?K(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!o&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function kd(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Hs(t,e,n,r){for(let o=n;o<r;o++)if(e[o]===t)return o;return-1}function $y(t,e,n,r){return Fi(this.multi,[])}function Hy(t,e,n,r){let o=this.multi,s;if(this.providerFactory){let i=this.providerFactory.componentProviders,a=ut(n,n[w],this.providerFactory.index,r);s=a.slice(0,i),Fi(o,s);for(let c=i;c<a.length;c++)s.push(a[c])}else s=[],Fi(o,s);return s}function Fi(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Uy(t,e,n,r,o){let s=new lt(t,n,Co);return s.multi=[],s.index=e,s.componentProviders=0,kd(s,o,r&&!n),s}function JC(t,e=[]){return n=>{n.providersResolver=(r,o)=>Vy(r,o?o(t):t,e)}}var By=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let o=Bl(!1,r.type),s=o.length>0?Hv([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=z({token:e,providedIn:"environment",factory:()=>new e(Ve($e))});let t=e;return t})();function YC(t){Gt("NgStandalone"),t.getStandaloneInjector=e=>e.get(By).getOrCreateStandaloneInjector(t)}function KC(t,e,n){let r=go()+t,o=I();return o[r]===We?Ra(o,r,n?e.call(n):e()):Bv(o,r)}function ZC(t,e,n,r){return Pd(I(),go(),t,e,n,r)}function XC(t,e,n,r,o,s){return qy(I(),go(),t,e,n,r,o,s)}function Rd(t,e){let n=t[e];return n===We?void 0:n}function Pd(t,e,n,r,o,s){let i=e+n;return we(t,i,o)?Ra(t,i+1,s?r.call(s,o):r(o)):Rd(t,i+1)}function qy(t,e,n,r,o,s,i,a){let c=e+n;return Wv(t,c,o,s,i)?Ra(t,c+3,a?r.call(a,o,s,i):r(o,s,i)):Rd(t,c+3)}function eT(t,e){let n=$(),r,o=t+Z;n.firstCreatePass?(r=Wy(e,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];let s=r.factory||(r.factory=ot(r.type,!0)),i,a=ne(Co);try{let c=zr(!1),l=s();return zr(c),Ry(n,I(),o,l),l}finally{ne(a)}}function Wy(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function tT(t,e,n){let r=t+Z,o=I(),s=Op(o,r);return Gy(o,r)?Pd(o,go(),e,s.transform,n,s):s.transform(n)}function Gy(t,e){return t[w].data[e].pure}function nT(t,e){return Oo(t,e)}var rT=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var zy=new V("");function Ld(t){return!!t&&typeof t.then=="function"}function Qy(t){return!!t&&typeof t.subscribe=="function"}var Jy=new V(""),jd=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o}),this.appInits=j(Jy,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let i=s();if(Ld(i))r.push(i);else if(Qy(i)){let a=new Promise((c,l)=>{i.subscribe({complete:c,error:l})});r.push(a)}}let o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(s=>{this.reject(s)}),r.length===0&&o(),this.initialized=!0}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Yy=new V("");function Ky(){xc(()=>{throw new C(600,!1)})}function Zy(t){return t.isBoundToModule}function Xy(t,e,n){try{let r=n();return Ld(r)?r.catch(o=>{throw e.runOutsideAngular(()=>t.handleError(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Fd=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=j(Du),this.afterRenderEffectManager=j(hd),this.externalTestViews=new Set,this.beforeRender=new Re,this.afterTick=new Re,this.componentTypes=[],this.components=[],this.isStable=j(Aa).hasPendingTasks.pipe(le(r=>!r)),this._injector=j($e)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,o){let s=r instanceof Xr;if(!this._injector.get(jd).done){let f=!s&&ap(r),m=!1;throw new C(405,m)}let a;s?a=r:a=this._injector.get(Ao).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=Zy(a)?void 0:this._injector.get(ft),l=o||a.selector,u=a.create(ha.NULL,[],l,c),d=u.location.nativeElement,h=u.injector.get(zy,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Us(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new C(101,!1);let o=D(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,D(o)}}detectChangesInAttachedViews(r){let o=0,s=this.afterRenderEffectManager;for(;;){if(o===cd)throw new C(103,!1);if(r){let i=o===0;this.beforeRender.next(i);for(let{_lView:a,notifyErrorHandler:c}of this._views)ew(a,i,c)}if(o++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:i})=>Vi(i))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:i})=>Vi(i))))break}}attachView(r){let o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){let o=r;Us(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let o=this._injector.get(Yy,[]);[...this._bootstrapListeners,...o].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Us(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new C(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Us(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ew(t,e,n){!e&&!Vi(t)||tw(t,n,e)}function Vi(t){return sa(t)}function tw(t,e,n){let r;n?(r=0,t[y]|=1024):t[y]&64?r=0:r=1,ld(t,e,r)}var $i=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},oT=(()=>{let e=class e{compileModuleSync(r){return new Ci(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let o=this.compileModuleSync(r),s=$l(r),i=Pu(s.declarations).reduce((a,c)=>{let l=st(c);return l&&a.push(new Mn(l)),a},[]);return new $i(o,i)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var nw=(()=>{let e=class e{constructor(){this.zone=j(De),this.applicationRef=j(Fd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rw(t){return[{provide:De,useFactory:t},{provide:Ur,multi:!0,useFactory:()=>{let e=j(nw,{optional:!0});return()=>e.initialize()}},{provide:Ur,multi:!0,useFactory:()=>{let e=j(aw);return()=>{e.initialize()}}},{provide:Du,useFactory:ow}]}function ow(){let t=j(De),e=j(Ue);return n=>t.runOutsideAngular(()=>e.handleError(n))}function sw(t){let e=rw(()=>new De(iw(t)));return lp([[],e])}function iw(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var aw=(()=>{let e=class e{constructor(){this.subscription=new q,this.initialized=!1,this.zone=j(De),this.pendingTasks=j(Aa)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cw(){return typeof $localize<"u"&&$localize.locale||io}var Vd=new V("",{providedIn:"root",factory:()=>j(Vd,N.Optional|N.SkipSelf)||cw()});var $d=new V("");var Fr=null;function lw(t=[],e){return ha.create({name:e,providers:[{provide:Gl,useValue:"platform"},{provide:$d,useValue:new Set([()=>Fr=null])},...t]})}function uw(t=[]){if(Fr)return Fr;let e=lw(t);return Fr=e,Ky(),dw(e),e}function dw(t){t.get(xm,null)?.forEach(n=>n())}var fw=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=hw;let t=e;return t})();function hw(t){return pw(Y(),I(),(t&16)===16)}function pw(t,e,n){if(po(t)&&!n){let r=qe(t.index,e);return new dt(r,r)}else if(t.type&47){let r=e[ue];return new dt(r,e)}return null}var Hi=class{constructor(){}supports(e){return Dd(e)}create(e){return new Ui(e)}},mw=(t,e)=>e,Ui=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||mw}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,o=0,s=null;for(;n||r;){let i=!r||n&&n.currentIndex<pl(r,o,s)?n:r,a=pl(i,o,s),c=i.currentIndex;if(i===r)o--,r=r._nextRemoved;else if(n=n._next,i.previousIndex==null)o++;else{s||(s=[]);let l=a-o,u=c-o;if(l!=u){for(let h=0;h<l;h++){let f=h<s.length?s[h]:s[h]=0,m=f+h;u<=m&&m<l&&(s[h]=f+1)}let d=i.previousIndex;s[d]=u-l}}a!==c&&e(i,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Dd(e))throw new C(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,o,s,i;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],i=this._trackByFn(a,s),n===null||!Object.is(n.trackById,i)?(n=this._mismatch(n,s,i,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,i,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else o=0,Uv(e,a=>{i=this._trackByFn(o,a),n===null||!Object.is(n.trackById,i)?(n=this._mismatch(n,a,i,o),r=!0):(r&&(n=this._verifyReinsertion(n,a,i,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,o){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,o)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,o),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,o)):e=this._addAfter(new Bi(n,r),s,o)),e}_verifyReinsertion(e,n,r,o){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let o=e._prevRemoved,s=e._nextRemoved;return o===null?this._removalsHead=s:o._nextRemoved=s,s===null?this._removalsTail=o:s._prevRemoved=o,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let o=n===null?this._itHead:n._next;return e._next=o,e._prev=n,o===null?this._itTail=e:o._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new ao),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ao),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Bi=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},qi=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},ao=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new qi,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,o=this.map.get(r);return o?o.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function pl(t,e,n){let r=t.previousIndex;if(r===null)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+e+o}var Wi=class{constructor(){}supports(e){return e instanceof Map||ka(e)}create(){return new Gi}},Gi=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||ka(e)))throw new C(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,o)=>{if(n&&n.key===o)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(o,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let o=this._records.get(e);this._maybeAddToChanges(o,n);let s=o._prev,i=o._next;return s&&(s._next=i),i&&(i._prev=s),o._next=null,o._prev=null,o}let r=new zi(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},zi=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function ml(){return new gw([new Hi])}var gw=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,o){if(o!=null){let s=o.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||ml()),deps:[[e,new Nl,new Sl]]}}find(r){let o=this.factories.find(s=>s.supports(r));if(o!=null)return o;throw new C(901,!1)}};e.\u0275prov=z({token:e,providedIn:"root",factory:ml});let t=e;return t})();function gl(){return new vw([new Wi])}var vw=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,o){if(o){let s=o.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||gl()),deps:[[e,new Nl,new Sl]]}}find(r){let o=this.factories.find(s=>s.supports(r));if(o)return o;throw new C(901,!1)}};e.\u0275prov=z({token:e,providedIn:"root",factory:gl});let t=e;return t})();function sT(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,o=uw(r),s=[sw(),...n||[]],a=new ro({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(De);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(Ue,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:f=>{l.handleError(f)}})});let d=()=>a.destroy(),h=o.get($d);return h.add(d),a.onDestroy(()=>{u.unsubscribe(),h.delete(d)}),Xy(l,c,()=>{let f=a.get(jd);return f.runInitializers(),f.donePromise.then(()=>{let m=a.get(Vd,io);Ny(m||io);let g=a.get(Fd);return e!==void 0&&g.bootstrap(e),g})})})}catch(e){return Promise.reject(e)}}function iT(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function aT(t,e){Gt("NgSignals");let n=Ds(t);return e?.equal&&(n[te].equal=e.equal),n}function cT(t){let e=D(null);try{return t()}finally{D(e)}}var yw=new V("",{providedIn:"root",factory:()=>j(ww)}),ww=(()=>{let e=class e{};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>new Qi});let t=e;return t})(),Qi=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=j(Aa),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},Ji=class{constructor(e,n,r,o,s,i){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=s,this.watcher=Tc(a=>this.runEffect(a),()=>this.schedule(),i),this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(Ue,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function _w(t,e){Gt("NgSignals"),!e?.injector&&bp(_w);let n=e?.injector??j(ha),r=e?.manualCleanup!==!0?n.get(bo):null,o=new Ji(n.get(yw),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),s=n.get(fw,null,{optional:!0});return!s||!(s._lView[y]&8)?o.watcher.notify():(s._lView[kr]??=[]).push(o.watcher.notify),o}var Hd=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-2UTJ4IR6.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};var kn=class extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}},Ro=class extends kn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Po=class extends kn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Lo=class extends kn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var Iw=function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(u){try{l(r.next(u))}catch(d){i(d)}}function c(u){try{l(r.throw(u))}catch(d){i(d)}}function l(u){u.done?s(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},Rn=class{constructor(e,{headers:n={},customFetch:r}={}){this.url=e,this.headers=n,this.fetch=Hd(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Iw(this,void 0,void 0,function*(){try{let{headers:o,method:s,body:i}=n,a={},c;i&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=i):typeof i=="string"?(a["Content-Type"]="text/plain",c=i):typeof FormData<"u"&&i instanceof FormData?c=i:(a["Content-Type"]="application/json",c=JSON.stringify(i)));let l=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),o),body:c}).catch(f=>{throw new Ro(f)}),u=l.headers.get("x-relay-error");if(u&&u==="true")throw new Po(l);if(!l.ok)throw new Lo(l);let d=((r=l.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return d==="application/json"?h=yield l.json():d==="application/octet-stream"?h=yield l.blob():d==="multipart/form-data"?h=yield l.formData():h=yield l.text(),{data:h,error:null}}catch(o){return{data:null,error:o}}})}};var jo=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};var Pn=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Kn:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(s=>p(this,null,function*(){var i,a,c;let l=null,u=null,d=null,h=s.status,f=s.statusText;if(s.ok){if(this.method!=="HEAD"){let b=yield s.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=b:u=JSON.parse(b))}let g=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),v=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&v&&v.length>1&&(d=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let g=yield s.text();try{l=JSON.parse(g),Array.isArray(l)&&s.status===404&&(u=[],l=null,h=200,f="OK")}catch{s.status===404&&g===""?(h=204,f="No Content"):l={message:g}}if(l&&this.isMaybeSingle&&(!((c=l?.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,h=200,f="OK"),l&&this.shouldThrowOnError)throw new jo(l)}return{error:l,data:u,count:d,status:h,statusText:f}}));return this.shouldThrowOnError||(o=o.catch(s=>{var i,a,c;return{error:{message:`${(i=s?.name)!==null&&i!==void 0?i:"FetchError"}: ${s?.message}`,details:`${(a=s?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=s?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(e,n)}};var Ln=class extends Pn{select(e){let n=!1,r=(e??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:s=o}={}){let i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:o=r}={}){let s=typeof o>"u"?"offset":`${o}.offset`,i=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:s=!1,format:i="text"}={}){var a;let c=[e?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${l}"; options=${c};`,i==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};var _e=class extends Ln{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){let r=n.map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:o}={}){let s="";o==="plain"?s="pl":o==="phrase"?s="ph":o==="websearch"&&(s="w");let i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};var jn=class{constructor(e,{headers:n={},schema:r,fetch:o}){this.url=e,this.headers=n,this.schema=r,this.fetch=o}select(e,{head:n=!1,count:r}={}){let o=n?"HEAD":"GET",s=!1,i=(e??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new _e({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){let o="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){let i=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(i.length>0){let a=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new _e({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:s=!0}={}){let i="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),o&&a.push(`count=${o}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){let c=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){let l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new _e({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){let r="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),this.headers.Prefer=o.join(","),new _e({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){let n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new _e({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};var Ud="1.9.2";var Bd={"X-Client-Info":`postgrest-js/${Ud}`};var Fn=class t{constructor(e,{headers:n={},schema:r,fetch:o}={}){this.url=e,this.headers=Object.assign(Object.assign({},Bd),n),this.schemaName=r,this.fetch=o}from(e){let n=new URL(`${this.url}/${e}`);return new jn(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new t(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,count:o}={}){let s,i=new URL(`${this.url}/rpc/${e}`),a;r?(s="HEAD",Object.entries(n).forEach(([l,u])=>{i.searchParams.append(l,`${u}`)})):(s="POST",a=n);let c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new _e({method:s,url:i,headers:c,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};var qd="2.9.3";var Wd={"X-Client-Info":`realtime-js/${qd}`},Gd="1.0.0",Fo=1e4,zd=1e3,zt=function(t){return t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed",t}(zt||{}),ie=function(t){return t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving",t}(ie||{}),fe=function(t){return t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token",t}(fe||{}),Pa=function(t){return t.websocket="websocket",t}(Pa||{}),gt=function(t){return t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed",t}(gt||{});var Qt=class{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Vo=class{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){let n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){let o=n.getUint8(1),s=n.getUint8(2),i=this.HEADER_LENGTH+2,a=r.decode(e.slice(i,i+o));i=i+o;let c=r.decode(e.slice(i,i+s));i=i+s;let l=JSON.parse(r.decode(e.slice(i,e.byteLength)));return{ref:null,topic:a,event:c,payload:l}}};var Jt=class{constructor(e,n,r={},o=Fo){this.channel=e,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var Vn=class t{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:s,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=t.syncState(this.state,o,s,i),this.pendingDiffs.forEach(c=>{this.state=t.syncDiff(this.state,c,s,i)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:s,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=t.syncDiff(this.state,o,s,i),a())}),this.onJoin((o,s,i)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:s,newPresences:i})}),this.onLeave((o,s,i)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:s,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,o){let s=this.cloneDeep(e),i=this.transformState(n),a={},c={};return this.map(s,(l,u)=>{i[l]||(c[l]=u)}),this.map(i,(l,u)=>{let d=s[l];if(d){let h=u.map(v=>v.presence_ref),f=d.map(v=>v.presence_ref),m=u.filter(v=>f.indexOf(v.presence_ref)<0),g=d.filter(v=>h.indexOf(v.presence_ref)<0);m.length>0&&(a[l]=m),g.length>0&&(c[l]=g)}else a[l]=u}),this.syncDiff(s,{joins:a,leaves:c},r,o)}static syncDiff(e,n,r,o){let{joins:s,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(s,(a,c)=>{var l;let u=(l=e[a])!==null&&l!==void 0?l:[];if(e[a]=this.cloneDeep(c),u.length>0){let d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,u,c)}),this.map(i,(a,c)=>{let l=e[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=l,o(a,l,c),l.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{let o=e[r];return"metas"in o?n[r]=o.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var R=function(t){return t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange",t}(R||{}),ja=(t,e,n={})=>{var r;let o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,i)=>(s[i]=Ew(i,t,e,o),s),{})},Ew=(t,e,n,r)=>{let o=e.find(a=>a.name===t),s=o?.type,i=n[t];return s&&!r.includes(s)?Qd(s,i):La(i)},Qd=(t,e)=>{if(t.charAt(0)==="_"){let n=t.slice(1,t.length);return Tw(e,n)}switch(t){case R.bool:return xw(e);case R.float4:case R.float8:case R.int2:case R.int4:case R.int8:case R.numeric:case R.oid:return Dw(e);case R.json:case R.jsonb:return Cw(e);case R.timestamp:return Mw(e);case R.abstime:case R.date:case R.daterange:case R.int4range:case R.int8range:case R.money:case R.reltime:case R.text:case R.time:case R.timestamptz:case R.timetz:case R.tsrange:case R.tstzrange:return La(e);default:return La(e)}},La=t=>t,xw=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Dw=t=>{if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Cw=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Tw=(t,e)=>{if(typeof t!="string")return t;let n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s,i=t.slice(1,n);try{s=JSON.parse("["+i+"]")}catch{s=i?i.split(","):[]}return s.map(a=>Qd(e,a))}return t},Mw=t=>typeof t=="string"?t.replace(" ","T"):t;var $n=class t{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},n.config),this.timeout=this.socket.timeout,this.joinPush=new Jt(this,fe.join,this.params,this.timeout),this.rejoinTimer=new Qt(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ie.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fe.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new Vn(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,n=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:s,presence:i}}=this.params;this._onError(l=>e&&e("CHANNEL_ERROR",l)),this._onClose(()=>e&&e("CLOSED"));let a={},c={broadcast:s,presence:i,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(l=>l.filter))!==null&&o!==void 0?o:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:l})=>{var u;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),l===void 0){e&&e("SUBSCRIBED");return}else{let d=this.bindings.postgres_changes,h=(u=d?.length)!==null&&u!==void 0?u:0,f=[];for(let m=0;m<h;m++){let g=d[m],{filter:{event:v,schema:b,table:B,filter:P}}=g,k=l&&l[m];if(k&&k.event===v&&k.schema===b&&k.table===B&&k.filter===P)f.push(Object.assign(Object.assign({},g),{id:k.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,e&&e("SUBSCRIBED");return}}).receive("error",l=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(l).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(r){return p(this,arguments,function*(e,n={}){return yield this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)})}untrack(){return p(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,n,r){return this._on(e,n,r)}send(r){return p(this,arguments,function*(e,n={}){var o,s;if(!this._canPush()&&e.type==="broadcast"){let{event:i,payload:a}=e,c={method:"POST",headers:{apikey:(o=this.socket.apiKey)!==null&&o!==void 0?o:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a}]})};try{return(yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=n.timeout)!==null&&s!==void 0?s:this.timeout)).ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,c,l;let u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("timeout",()=>i("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ie.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fe.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let o=new Jt(this,fe.leave,{},e);o.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}_broadcastEndpointURL(){let e=this.socket.endPoint;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"}_fetchWithTimeout(e,n,r){return p(this,null,function*(){let o=new AbortController,s=setTimeout(()=>o.abort(),r),i=yield this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(s),i})}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Jt(this,e,n,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var o,s;let i=e.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=fe;if(r&&[a,c,l,u].indexOf(i)>=0&&r!==this._joinRef())return;let h=this._onMessage(i,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var m,g,v;return((m=f.filter)===null||m===void 0?void 0:m.event)==="*"||((v=(g=f.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===i}).map(f=>f.callback(h,r)):(s=this.bindings[i])===null||s===void 0||s.filter(f=>{var m,g,v,b,B,P;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in f){let k=f.id,X=(m=f.filter)===null||m===void 0?void 0:m.event;return k&&((g=n.ids)===null||g===void 0?void 0:g.includes(k))&&(X==="*"||X?.toLocaleLowerCase()===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{let k=(B=(b=f?.filter)===null||b===void 0?void 0:b.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return k==="*"||k===((P=n?.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===i}).map(f=>{if(typeof h=="object"&&"ids"in h){let m=h.data,{schema:g,table:v,commit_timestamp:b,type:B,errors:P}=m;h=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:b,eventType:B,new:{},old:{},errors:P}),this._getPayloadRecords(m))}f.callback(h,r)})}_isClosed(){return this.state===ie.closed}_isJoined(){return this.state===ie.joined}_isJoining(){return this.state===ie.joining}_isLeaving(){return this.state===ie.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){let o=e.toLocaleLowerCase(),s={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(s):this.bindings[o]=[s],this}_off(e,n){let r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var s;return!(((s=o.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&t.isEqual(o.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(let r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(fe.close,{},e)}_onError(e){this._on(fe.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ie.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=ja(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=ja(e.columns,e.old_record)),n}};var Nw=()=>{},Ow=typeof WebSocket<"u",Hn=class{constructor(e,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=Wd,this.params={},this.timeout=Fo,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Nw,this.conn=null,this.sendBuffer=[],this.serializer=new Vo,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...a)=>import("./chunk-2UTJ4IR6.js").then(({default:c})=>c(...a)):i=fetch,(...a)=>i(...a)},this.endPoint=`${e}/${Pa.websocket}`,n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);let o=(r=n?.params)===null||r===void 0?void 0:r.apikey;o&&(this.accessToken=o,this.apiKey=o),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n?.encode?n.encode:(s,i)=>i(JSON.stringify(s)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Qt(()=>p(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Ow){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Fa(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-7EJ4JCZP.js").then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(e){return p(this,null,function*(){let n=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return p(this,null,function*(){let e=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e})}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case zt.connecting:return gt.Connecting;case zt.open:return gt.Open;case zt.closing:return gt.Closing;default:return gt.Closed}}isConnected(){return this.connectionState()===gt.Open}channel(e,n={config:{}}){let r=new $n(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){let{topic:n,event:r,payload:o,ref:s}=e,i=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${s})`,o),this.isConnected()?i():this.sendBuffer.push(i)}setAuth(e){this.accessToken=e,this.channels.forEach(n=>{e&&n.updateJoinPayload({access_token:e}),n.joinedOnce&&n._isJoined()&&n._push(fe.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Gd}))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:o,payload:s,ref:i}=n;(i&&i===this.pendingHeartbeatRef||o===s?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${o} ${i&&"("+i+")"||""}`,s),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(o,s,i)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(fe.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;let r=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${r}${o}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(zd,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}};var Fa=class{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=zt.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}};var Yt=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function U(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var $o=class extends Yt{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Un=class extends Yt{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}};var Aw=function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(u){try{l(r.next(u))}catch(d){i(d)}}function c(u){try{l(r.throw(u))}catch(d){i(d)}}function l(u){u.done?s(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},Ho=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-2UTJ4IR6.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Jd=()=>Aw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-2UTJ4IR6.js")).Response:Response});var Kt=function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(u){try{l(r.next(u))}catch(d){i(d)}}function c(u){try{l(r.throw(u))}catch(d){i(d)}}function l(u){u.done?s(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},Va=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kw=(t,e)=>Kt(void 0,void 0,void 0,function*(){let n=yield Jd();t instanceof n?t.json().then(r=>{e(new $o(Va(r),t.status||500))}).catch(r=>{e(new Un(Va(r),r))}):e(new Un(Va(t),t))}),Rw=(t,e,n,r)=>{let o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};function Uo(t,e,n,r,o,s){return Kt(this,void 0,void 0,function*(){return new Promise((i,a)=>{t(n,Rw(e,r,o,s)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>kw(c,a))})})}function Bn(t,e,n,r){return Kt(this,void 0,void 0,function*(){return Uo(t,"GET",e,n,r)})}function Te(t,e,n,r,o){return Kt(this,void 0,void 0,function*(){return Uo(t,"POST",e,r,o,n)})}function Yd(t,e,n,r,o){return Kt(this,void 0,void 0,function*(){return Uo(t,"PUT",e,r,o,n)})}function Bo(t,e,n,r,o){return Kt(this,void 0,void 0,function*(){return Uo(t,"DELETE",e,r,o,n)})}var he=function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(u){try{l(r.next(u))}catch(d){i(d)}}function c(u){try{l(r.throw(u))}catch(d){i(d)}}function l(u){u.done?s(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},Pw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Kd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},qo=class{constructor(e,n={},r,o){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Ho(o)}uploadOrUpdate(e,n,r,o){return he(this,void 0,void 0,function*(){try{let s,i=Object.assign(Object.assign({},Kd),o),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",i.cacheControl)):(s=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType);let c=this._removeEmptyFolders(n),l=this._getFinalPath(c),u=yield this.fetch(`${this.url}/object/${l}`,Object.assign({method:e,body:s,headers:a},i?.duplex?{duplex:i.duplex}:{})),d=yield u.json();return u.ok?{data:{path:c,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(s){if(U(s))return{data:null,error:s};throw s}})}upload(e,n,r){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,o){return he(this,void 0,void 0,function*(){let s=this._removeEmptyFolders(e),i=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",n);try{let c,l=Object.assign({upsert:Kd.upsert},o),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);let d=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:u}),h=yield d.json();return d.ok?{data:{path:s,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(U(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e){return he(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),r=yield Te(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:this.headers}),o=new URL(this.url+r.url),s=o.searchParams.get("token");if(!s)throw new Yt("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:s},error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}})}update(e,n,r){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n){return he(this,void 0,void 0,function*(){try{return{data:yield Te(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n},{headers:this.headers}),error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}})}copy(e,n){return he(this,void 0,void 0,function*(){try{return{data:{path:(yield Te(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n},{headers:this.headers})).Key},error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,r){return he(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),s=yield Te(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(o){if(U(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,r){return he(this,void 0,void 0,function*(){try{let o=yield Te(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${s}`):null})),error:null}}catch(o){if(U(o))return{data:null,error:o};throw o}})}download(e,n){return he(this,void 0,void 0,function*(){let o=typeof n?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(n?.transform||{}),i=s?`?${s}`:"";try{let a=this._getFinalPath(e);return{data:yield(yield Bn(this.fetch,`${this.url}/${o}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(U(a))return{data:null,error:a};throw a}})}getPublicUrl(e,n){let r=this._getFinalPath(e),o=[],s=n?.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&o.push(s);let a=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&o.push(c);let l=o.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(e){return he(this,void 0,void 0,function*(){try{return{data:yield Bo(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}})}list(e,n,r){return he(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},Pw),n),{prefix:e||""});return{data:yield Te(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(U(o))return{data:null,error:o};throw o}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}};var Zd="2.5.5";var Xd={"X-Client-Info":`storage-js/${Zd}`};var Zt=function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(u){try{l(r.next(u))}catch(d){i(d)}}function c(u){try{l(r.throw(u))}catch(d){i(d)}}function l(u){u.done?s(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},Wo=class{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},Xd),n),this.fetch=Ho(r)}listBuckets(){return Zt(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(U(e))return{data:null,error:e};throw e}})}getBucket(e){return Zt(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Zt(this,void 0,void 0,function*(){try{return{data:yield Te(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Zt(this,void 0,void 0,function*(){try{return{data:yield Yd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Zt(this,void 0,void 0,function*(){try{return{data:yield Te(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Zt(this,void 0,void 0,function*(){try{return{data:yield Bo(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}})}};var qn=class extends Wo{constructor(e,n={},r){super(e,n,r)}from(e){return new qo(this.url,this.headers,e,this.fetch)}};var ef="2.40.0";var Wn="";typeof Deno<"u"?Wn="deno":typeof document<"u"?Wn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wn="react-native":Wn="node";var Lw={"X-Client-Info":`supabase-js-${Wn}/${ef}`},tf={headers:Lw},nf={schema:"public"},rf={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},of={};var jw=function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(u){try{l(r.next(u))}catch(d){i(d)}}function c(u){try{l(r.throw(u))}catch(d){i(d)}}function l(u){u.done?s(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},Fw=t=>{let e;return t?e=t:typeof fetch>"u"?e=Kn:e=fetch,(...n)=>e(...n)},Vw=()=>typeof Headers>"u"?qa:Headers,sf=(t,e,n)=>{let r=Fw(n),o=Vw();return(s,i)=>jw(void 0,void 0,void 0,function*(){var a;let c=(a=yield e())!==null&&a!==void 0?a:t,l=new o(i?.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(s,Object.assign(Object.assign({},i),{headers:l}))})};function af(t){return t.replace(/\/$/,"")}function cf(t,e){let{db:n,auth:r,realtime:o,global:s}=t,{db:i,auth:a,realtime:c,global:l}=e;return{db:Object.assign(Object.assign({},i),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign({},l),s)}}function lf(t){return Math.round(Date.now()/1e3)+t}function uf(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}var be=()=>typeof document<"u",vt={tested:!1,writable:!1},Ge=()=>{if(!be())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vt.tested)return vt.writable;let t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),vt.tested=!0,vt.writable=!0}catch{vt.tested=!0,vt.writable=!1}return vt.writable};function Go(t){let e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,s)=>{e[s]=o})}catch{}return n.searchParams.forEach((r,o)=>{e[o]=r}),e}var zo=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-2UTJ4IR6.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},df=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ze=(t,e,n)=>p(void 0,null,function*(){yield t.setItem(e,JSON.stringify(n))}),zn=(t,e)=>p(void 0,null,function*(){let n=yield t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),Qo=(t,e)=>p(void 0,null,function*(){yield t.removeItem(e)});function $w(t){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="",r,o,s,i,a,c,l,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)i=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),r=i<<2|a>>4,o=(a&15)<<4|c>>2,s=(c&3)<<6|l,n=n+String.fromCharCode(r),c!=64&&o!=0&&(n=n+String.fromCharCode(o)),l!=64&&s!=0&&(n=n+String.fromCharCode(s));return n}var Gn=class t{constructor(){this.promise=new t.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};Gn.promiseConstructor=Promise;function $a(t){let e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");let r=n[1];return JSON.parse($w(r))}function ff(t){return p(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),t)})})}function hf(t,e){return new Promise((r,o)=>{p(this,null,function*(){for(let s=0;s<1/0;s++)try{let i=yield t(s);if(!e(s,null,i)){r(i);return}}catch(i){if(!e(s,i)){o(i);return}}})})}function Hw(t){return("0"+t.toString(16)).substr(-2)}function yt(){let e=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,o="";for(let s=0;s<56;s++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,Hw).join("")}function Uw(t){return p(this,null,function*(){let n=new TextEncoder().encode(t),r=yield crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(s=>String.fromCharCode(s)).join("")})}function Bw(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function wt(t){return p(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;let n=yield Uw(t);return Bw(n)})}var Qn=class extends Error{constructor(e,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n}};function T(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}var Jo=class extends Qn{constructor(e,n){super(e,n),this.name="AuthApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}};function pf(t){return T(t)&&t.name==="AuthApiError"}var Xt=class extends Qn{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}},Ae=class extends Qn{constructor(e,n,r){super(e),this.name=n,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}},ke=class extends Ae{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}},en=class extends Ae{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}},_t=class extends Ae{constructor(e){super(e,"AuthInvalidCredentialsError",400)}},bt=class extends Ae{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Jn=class extends Ae{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},tn=class extends Ae{constructor(e,n){super(e,"AuthRetryableFetchError",n)}};function Ko(t){return T(t)&&t.name==="AuthRetryableFetchError"}var Yo=class extends Ae{constructor(e,n,r){super(e,"AuthWeakPasswordError",n),this.reasons=r}};var qw=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},nn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ww=[502,503,504];function mf(t){return p(this,null,function*(){if(!df(t))throw new tn(nn(t),0);if(Ww.includes(t.status))throw new tn(nn(t),t.status);let e;try{e=yield t.json()}catch(n){throw new Xt(nn(n),n)}throw typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)?new Yo(nn(e),t.status,e.weak_password.reasons):new Jo(nn(e),t.status||500)})}var Gw=(t,e,n,r)=>{let o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};function S(t,e,n,r){return p(this,null,function*(){var o;let s=Object.assign({},r?.headers);r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);let i=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(i.redirect_to=r.redirectTo);let a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=yield zw(t,e,n+a,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function zw(t,e,n,r,o,s){return p(this,null,function*(){let i=Gw(e,r,o,s),a;try{a=yield t(n,i)}catch(c){throw console.error(c),new tn(nn(c),0)}if(a.ok||(yield mf(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield mf(c)}})}function Qe(t){var e;let n=null;Qw(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=lf(t.expires_in)));let r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Ha(t){let e=Qe(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Me(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function gf(t){return{data:t,error:null}}function vf(t){let{action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:s}=t,i=qw(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:s},c=Object.assign({},i);return{data:{properties:a,user:c},error:null}}function yf(t){return t}function Qw(t){return t.access_token&&t.refresh_token&&t.expires_in}var Jw=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},rn=class{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=zo(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(e,n="global"){return p(this,null,function*(){try{return yield S(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(T(r))return{data:null,error:r};throw r}})}inviteUserByEmail(r){return p(this,arguments,function*(e,n={}){try{return yield S(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Me})}catch(o){if(T(o))return{data:{user:null},error:o};throw o}})}generateLink(e){return p(this,null,function*(){try{let{options:n}=e,r=Jw(e,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),yield S(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:vf,redirectTo:n?.redirectTo})}catch(n){if(T(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(e){return p(this,null,function*(){try{return yield S(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Me})}catch(n){if(T(n))return{data:{user:null},error:n};throw n}})}listUsers(e){return p(this,null,function*(){var n,r,o,s,i,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield S(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&s!==void 0?s:""},xform:yf});if(u.error)throw u.error;let d=yield u.json(),h=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(m=>{let g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);l[`${v}Page`]=g}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(T(l))return{data:{users:[]},error:l};throw l}})}getUserById(e){return p(this,null,function*(){try{return yield S(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Me})}catch(n){if(T(n))return{data:{user:null},error:n};throw n}})}updateUserById(e,n){return p(this,null,function*(){try{return yield S(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Me})}catch(r){if(T(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,n=!1){return p(this,null,function*(){try{return yield S(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Me})}catch(r){if(T(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return p(this,null,function*(){try{let{data:n,error:r}=yield S(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(T(n))return{data:null,error:n};throw n}})}_deleteFactor(e){return p(this,null,function*(){try{return{data:yield S(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(T(n))return{data:null,error:n};throw n}})}};var Zo="2.61.0";var wf="http://localhost:9999",_f="supabase.auth.token";var bf={"X-Client-Info":`gotrue-js/${Zo}`},Ua=10;var If={getItem:t=>Ge()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Ge()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Ge()&&globalThis.localStorage.removeItem(t)}};function Ba(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Ef(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var Yw={debug:!!(globalThis&&Ge()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Xo=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}};Ef();var Kw={url:wf,storageKey:_f,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bf,flowType:"implicit",debug:!1},Yn=30*1e3,xf=3;function Zw(t,e,n){return p(this,null,function*(){return yield n()})}var es=(()=>{class t{constructor(n){var r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=t.nextInstanceID,t.nextInstanceID+=1,this.instanceID>0&&be()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},Kw),n);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new rn({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=zo(o.fetch),this.lock=o.lock||Zw,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:Ge()?this.storage=If:(this.memoryStorage={},this.storage=Ba(this.memoryStorage)):(this.memoryStorage={},this.storage=Ba(this.memoryStorage)),be()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",s=>p(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Zo}) ${new Date().toISOString()}`,...n),this}initialize(){return p(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=p(this,null,function*(){return yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return p(this,null,function*(){try{let n=be()?yield this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",n),n||this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:r,error:o}=yield this._getSessionFromURL(n);if(o)return this._debug("#_initialize()","error detecting session from URL",o),o?.message==="Identity is already linked"||o?.message==="Identity is already linked to another user"?{error:o}:(yield this._removeSession(),{error:o});let{session:s,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),yield this._saveSession(s),setTimeout(()=>p(this,null,function*(){i==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",s):yield this._notifyAllSubscribers("SIGNED_IN",s)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(n){return T(n)?{error:n}:{error:new Xt("Unexpected error during initialization",n)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signUp(n){return p(this,null,function*(){var r,o,s;try{yield this._removeSession();let i;if("email"in n){let{email:d,password:h,options:f}=n,m=null,g=null;if(this.flowType==="pkce"){let v=yt();yield ze(this.storage,`${this.storageKey}-code-verifier`,v),m=yield wt(v),g=v===m?"plain":"s256"}i=yield S(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:m,code_challenge_method:g},xform:Qe})}else if("phone"in n){let{phone:d,password:h,options:f}=n;i=yield S(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(s=f?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Qe})}else throw new _t("You must provide either an email or phone number and a password");let{data:a,error:c}=i;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(T(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithPassword(n){return p(this,null,function*(){try{yield this._removeSession();let r;if("email"in n){let{email:i,password:a,options:c}=n;r=yield S(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Ha})}else if("phone"in n){let{phone:i,password:a,options:c}=n;r=yield S(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Ha})}else throw new _t("You must provide either an email or phone number and a password");let{data:o,error:s}=r;return s?{data:{user:null,session:null},error:s}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new en}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:s})}catch(r){if(T(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(n){return p(this,null,function*(){var r,o,s,i;return yield this._removeSession(),yield this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(s=n.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=n.options)===null||i===void 0?void 0:i.skipBrowserRedirect})})}exchangeCodeForSession(n){return p(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return this._exchangeCodeForSession(n)}))})}_exchangeCodeForSession(n){return p(this,null,function*(){let r=yield zn(this.storage,`${this.storageKey}-code-verifier`),[o,s]=(r??"").split("/"),{data:i,error:a}=yield S(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:Qe});return yield Qo(this.storage,`${this.storageKey}-code-verifier`),a?{data:{user:null,session:null,redirectType:null},error:a}:!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new en}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})})}signInWithIdToken(n){return p(this,null,function*(){yield this._removeSession();try{let{options:r,provider:o,token:s,access_token:i,nonce:a}=n,c=yield S(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Qe}),{data:l,error:u}=c;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new en}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(T(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(n){return p(this,null,function*(){var r,o,s,i,a;try{if(yield this._removeSession(),"email"in n){let{email:c,options:l}=n,u=null,d=null;if(this.flowType==="pkce"){let f=yt();yield ze(this.storage,`${this.storageKey}-code-verifier`,f),u=yield wt(f),d=f===u?"plain":"s256"}let{error:h}=yield S(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in n){let{phone:c,options:l}=n,{data:u,error:d}=yield S(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=l?.data)!==null&&s!==void 0?s:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new _t("You must provide either an email or phone number.")}catch(c){if(T(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(n){return p(this,null,function*(){var r,o;try{n.type!=="email_change"&&n.type!=="phone_change"&&(yield this._removeSession());let s,i;"options"in n&&(s=(r=n.options)===null||r===void 0?void 0:r.redirectTo,i=(o=n.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=yield S(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Qe});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(T(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithSSO(n){return p(this,null,function*(){var r,o,s;try{yield this._removeSession();let i=null,a=null;if(this.flowType==="pkce"){let c=yt();yield ze(this.storage,`${this.storageKey}-code-verifier`,c),i=yield wt(c),a=c===i?"plain":"s256"}return yield S(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((s=n?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:gf})}catch(i){if(T(i))return{data:null,error:i};throw i}})}reauthenticate(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return p(this,null,function*(){try{return yield this._useSession(n=>p(this,null,function*(){let{data:{session:r},error:o}=n;if(o)throw o;if(!r)throw new ke;let{error:s}=yield S(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}}))}catch(n){if(T(n))return{data:{user:null,session:null},error:n};throw n}})}resend(n){return p(this,null,function*(){try{n.type!="email_change"&&n.type!="phone_change"&&(yield this._removeSession());let r=`${this.url}/resend`;if("email"in n){let{email:o,type:s,options:i}=n,{error:a}=yield S(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:s,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in n){let{phone:o,type:s,options:i}=n,{data:a,error:c}=yield S(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:s,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new _t("You must provide either an email or phone number and a type")}catch(r){if(T(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return p(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return this._useSession(n=>p(this,null,function*(){return n}))}))})}_acquireLock(n,r){return p(this,null,function*(){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=p(this,null,function*(){return yield o,yield r()});return this.pendingInLock.push(p(this,null,function*(){try{yield s}catch{}})),s}return yield this.lock(`lock:${this.storageKey}`,n,()=>p(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push(p(this,null,function*(){try{yield o}catch{}})),yield o;this.pendingInLock.length;){let s=[...this.pendingInLock];yield Promise.all(s),this.pendingInLock.splice(0,s.length)}return yield o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(n){return p(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield n(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return p(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=yield zn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!n)return{data:{session:null},error:null};let o=n.expires_at?n.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o)return{data:{session:n},error:null};let{session:s,error:i}=yield this._callRefreshToken(n.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(n){return p(this,null,function*(){return n?yield this._getUser(n):(yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return yield this._getUser()})))})}_getUser(n){return p(this,null,function*(){try{return n?yield S(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Me}):yield this._useSession(r=>p(this,null,function*(){var o,s;let{data:i,error:a}=r;if(a)throw a;return yield S(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=i.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:Me})}))}catch(r){if(T(r))return{data:{user:null},error:r};throw r}})}updateUser(o){return p(this,arguments,function*(n,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._updateUser(n,r)}))})}_updateUser(o){return p(this,arguments,function*(n,r={}){try{return yield this._useSession(s=>p(this,null,function*(){let{data:i,error:a}=s;if(a)throw a;if(!i.session)throw new ke;let c=i.session,l=null,u=null;if(this.flowType==="pkce"&&n.email!=null){let f=yt();yield ze(this.storage,`${this.storageKey}-code-verifier`,f),l=yield wt(f),u=f===l?"plain":"s256"}let{data:d,error:h}=yield S(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:l,code_challenge_method:u}),jwt:c.access_token,xform:Me});if(h)throw h;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(s){if(T(s))return{data:{user:null},error:s};throw s}})}_decodeJWT(n){return $a(n)}setSession(n){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._setSession(n)}))})}_setSession(n){return p(this,null,function*(){try{if(!n.access_token||!n.refresh_token)throw new ke;let r=Date.now()/1e3,o=r,s=!0,i=null,a=$a(n.access_token);if(a.exp&&(o=a.exp,s=o<=r),s){let{session:c,error:l}=yield this._callRefreshToken(n.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};i=c}else{let{data:c,error:l}=yield this._getUser(n.access_token);if(l)throw l;i={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},yield this._saveSession(i),yield this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(T(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(n){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._refreshSession(n)}))})}_refreshSession(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(o=a.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new ke;let{session:s,error:i}=yield this._callRefreshToken(n.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(T(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(n){return p(this,null,function*(){try{if(!be())throw new bt("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new bt("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!n)throw new Jn("Not a valid PKCE flow url.");let r=Go(window.location.href);if(n){if(!r.code)throw new Jn("No code detected.");let{data:P,error:k}=yield this._exchangeCodeForSession(r.code);if(k)throw k;let X=new URL(window.location.href);return X.searchParams.delete("code"),window.history.replaceState(window.history.state,"",X.toString()),{data:{session:P.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new bt(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});let{provider_token:o,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=r;if(!i||!c||!a||!u)throw new bt("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;l&&(f=parseInt(l));let m=f-d;m*1e3<=Yn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);let g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",g,f,d);let{data:v,error:b}=yield this._getUser(i);if(b)throw b;let B={provider_token:o,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:B,redirectType:r.type},error:null}}catch(r){if(T(r))return{data:{session:null,redirectType:null},error:r};throw r}})}_isImplicitGrantFlow(){let n=Go(window.location.href);return!!(be()&&(n.access_token||n.error_description))}_isPKCEFlow(){return p(this,null,function*(){let n=Go(window.location.href),r=yield zn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)})}signOut(){return p(this,arguments,function*(n={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._signOut(n)}))})}_signOut(){return p(this,arguments,function*({scope:n}={scope:"global"}){return yield this._useSession(r=>p(this,null,function*(){var o;let{data:s,error:i}=r;if(i)return{error:i};let a=(o=s.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=yield this.admin.signOut(a,n);if(c&&!(pf(c)&&(c.status===404||c.status===401)))return{error:c}}return n!=="others"&&(yield this._removeSession(),yield Qo(this.storage,`${this.storageKey}-code-verifier`),yield this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}}))})}onAuthStateChange(n){let r=uf(),o={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),p(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:o}}}_emitInitialSession(n){return p(this,null,function*(){return yield this._useSession(r=>p(this,null,function*(){var o,s;try{let{data:{session:i},error:a}=r;if(a)throw a;yield(o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",i),this._debug("INITIAL_SESSION","callback id",n,"session",i)}catch(i){yield(s=this.stateChangeEmitters.get(n))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",n,"error",i),console.error(i)}}))})}resetPasswordForEmail(o){return p(this,arguments,function*(n,r={}){let s=null,i=null;if(this.flowType==="pkce"){let a=yt();yield ze(this.storage,`${this.storageKey}-code-verifier`,`${a}/PASSWORD_RECOVERY`),s=yield wt(a),i=a===s?"plain":"s256"}try{return yield S(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(T(a))return{data:null,error:a};throw a}})}getUserIdentities(){return p(this,null,function*(){var n;try{let{data:r,error:o}=yield this.getUser();if(o)throw o;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(T(r))return{data:null,error:r};throw r}})}linkIdentity(n){return p(this,null,function*(){var r;try{let{data:o,error:s}=yield this._useSession(i=>p(this,null,function*(){var a,c,l,u,d;let{data:h,error:f}=i;if(f)throw f;let m=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield S(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(s)throw s;return be()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:n.provider,url:o?.url},error:null}}catch(o){if(T(o))return{data:{provider:n.provider,url:null},error:o};throw o}})}unlinkIdentity(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o,s;let{data:i,error:a}=r;if(a)throw a;return yield S(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(s=(o=i.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0})}))}catch(r){if(T(r))return{data:null,error:r};throw r}})}_refreshAccessToken(n){return p(this,null,function*(){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return yield hf(s=>p(this,null,function*(){return yield ff(s*200),this._debug(r,"refreshing attempt",s),yield S(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Qe})}),(s,i,a)=>a&&a.error&&Ko(a.error)&&Date.now()+(s+1)*200-o<Yn)}catch(o){if(this._debug(r,"error",o),T(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,r){return p(this,null,function*(){let o=yield this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",o),be()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}})}_recoverAndRefresh(){return p(this,null,function*(){var n;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let o=yield zn(this.storage,this.storageKey);if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&(yield this._removeSession());return}let s=Math.round(Date.now()/1e3),i=((n=o.expires_at)!==null&&n!==void 0?n:1/0)<s+Ua;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Ua}s`),i){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),Ko(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}})}_callRefreshToken(n){return p(this,null,function*(){var r,o;if(!n)throw new ke;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let s=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Gn;let{data:i,error:a}=yield this._refreshAccessToken(n);if(a)throw a;if(!i.session)throw new ke;yield this._saveSession(i.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);let c={session:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(s,"error",i),T(i)){let a={session:null,error:i};return Ko(i)||(yield this._removeSession(),yield this._notifyAllSubscribers("SIGNED_OUT",null)),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}})}_notifyAllSubscribers(n,r,o=!0){return p(this,null,function*(){let s=`#_notifyAllSubscribers(${n})`;this._debug(s,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:r});let i=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>p(this,null,function*(){try{yield c.callback(n,r)}catch(l){i.push(l)}}));if(yield Promise.all(a),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(s,"end")}})}_saveSession(n){return p(this,null,function*(){this._debug("#_saveSession()",n),yield ze(this.storage,this.storageKey,n)})}_removeSession(){return p(this,null,function*(){this._debug("#_removeSession()"),yield Qo(this.storage,this.storageKey)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&be()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return p(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Yn);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(()=>p(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return p(this,null,function*(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)})}startAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return p(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>p(this,null,function*(){try{let n=Date.now();try{return yield this._useSession(r=>p(this,null,function*(){let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let s=Math.floor((o.expires_at*1e3-n)/Yn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Yn}ms, refresh threshold is ${xf} ticks`),s<=xf&&(yield this._callRefreshToken(o.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(n){if(n.isAcquireTimeout||n instanceof Xo)this._debug("auto refresh token tick lock not available");else throw n}})}_handleVisibilityChange(){return p(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!be()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>p(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return p(this,null,function*(){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,r,o){return p(this,null,function*(){let s=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&s.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let i=yt();yield ze(this.storage,`${this.storageKey}-code-verifier`,i);let a=yield wt(i),c=i===a?"plain":"s256";this._debug("PKCE","code verifier",`${i.substring(0,5)}...`,"code challenge",a,"method",c);let l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});s.push(l.toString())}if(o?.queryParams){let i=new URLSearchParams(o.queryParams);s.push(i.toString())}return o?.skipBrowserRedirect&&s.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${s.join("&")}`})}_unenroll(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:s,error:i}=r;return i?{data:null,error:i}:yield S(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(T(r))return{data:null,error:r};throw r}})}_enroll(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o,s;let{data:i,error:a}=r;if(a)return{data:null,error:a};let{data:c,error:l}=yield S(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:n.friendlyName,factor_type:n.factorType,issuer:n.issuer},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return l?{data:null,error:l}:(!((s=c?.totp)===null||s===void 0)&&s.qr_code&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(r){if(T(r))return{data:null,error:r};throw r}})}_verify(n){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:s,error:i}=r;if(i)return{data:null,error:i};let{data:a,error:c}=yield S(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})}))}catch(r){if(T(r))return{data:null,error:r};throw r}}))})}_challenge(n){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:s,error:i}=r;return i?{data:null,error:i}:yield S(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(T(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(n){return p(this,null,function*(){let{data:r,error:o}=yield this._challenge({factorId:n.factorId});return o?{data:null,error:o}:yield this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})})}_listFactors(){return p(this,null,function*(){let{data:{user:n},error:r}=yield this.getUser();if(r)return{data:null,error:r};let o=n?.factors||[],s=o.filter(i=>i.factor_type==="totp"&&i.status==="verified");return{data:{all:o,totp:s},error:null}})}_getAuthenticatorAssuranceLevel(){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){return yield this._useSession(n=>p(this,null,function*(){var r,o;let{data:{session:s},error:i}=n;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(s.access_token),c=null;a.aal&&(c=a.aal);let l=c;((o=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(l="aal2");let d=a.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}))})}}return t.nextInstanceID=0,t})();var ts=class extends es{constructor(e){super(e)}};var Xw=function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(u){try{l(r.next(u))}catch(d){i(d)}}function c(u){try{l(r.throw(u))}catch(d){i(d)}}function l(u){u.done?s(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},ns=class{constructor(e,n,r){var o,s,i,a,c,l,u,d;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");let h=af(e);this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`,this.functionsUrl=`${h}/functions/v1`;let f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,m={db:nf,realtime:of,auth:Object.assign(Object.assign({},rf),{storageKey:f}),global:tf},g=cf(r??{},m);this.storageKey=(s=(o=g.auth)===null||o===void 0?void 0:o.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=(i=g.global)===null||i===void 0?void 0:i.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((c=g.auth)!==null&&c!==void 0?c:{},this.headers,(l=g.global)===null||l===void 0?void 0:l.fetch),this.fetch=sf(n,this._getAccessToken.bind(this),(u=g.global)===null||u===void 0?void 0:u.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},g.realtime)),this.rest=new Fn(`${h}/rest/v1`,{headers:this.headers,schema:(d=g.db)===null||d===void 0?void 0:d.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new Rn(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new qn(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Xw(this,void 0,void 0,function*(){let{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,storageKey:s,flowType:i,debug:a},c,l){let u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ts({url:this.authUrl,headers:Object.assign(Object.assign({},u),c),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,flowType:i,debug:a,fetch:l})}_initRealtimeClient(e){return new Hn(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var Df=(t,e,n)=>new ns(t,e,n);var rs={production:!0,supabaseUrl:"https://righgbrlcduncufxrtmn.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJpZ2hnYnJsY2R1bmN1ZnhydG1uIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDg5NjY2NDgsImV4cCI6MjAyNDU0MjY0OH0.ngcDEtc1fieTvdm2Fc7KH2sDRaEsATYKZezpYCQDXCs",publicUrl:"https://tmac12.github.io/supabase-angular/"};var aN=(()=>{let e=class e{constructor(){this._session=null,this.sessionSignal=ko(null),this.user=new Ze(null),this.getURL=()=>{let r=rs.publicUrl??window.location.origin;return r=r.charAt(r.length-1)==="/"?r:`${r}/`,r},this.friendRequests=ko(""),this.supabase=Df(rs.supabaseUrl,rs.supabaseKey),this.supabase.auth.onAuthStateChange((r,o)=>{if(console.log(r),console.log(o),this.sessionSignal.set(o),r==="SIGNED_IN"||r==="TOKEN_REFRESHED"){if(this.user.next(o.user),r==="SIGNED_IN"){console.log("save user to db");let s=o.user;console.log(s),this.updateProfile({id:s?.id,avatar_url:s?.user_metadata.avatar_url,username:s?.user_metadata.name,website:"",provider_refresh_token:o?.provider_refresh_token}).then(a=>{console.log("completed"),console.log(a)})}}else this.user.next(null)})}get session(){return this.supabase.auth.getSession().then(({data:r})=>{this._session=r.session}),this._session}getUser(){return p(this,null,function*(){return yield this.supabase.auth.getUser()})}profile(r){return this.supabase.from("profiles").select("username, website, avatar_url, provider_refresh_token").eq("id",r.id).single()}authChanges(r){return this.supabase.auth.onAuthStateChange(r)}signInGoogle(){return p(this,null,function*(){return this.supabase.auth.signInWithOAuth({provider:"google",options:{scopes:"https://www.googleapis.com/auth/calendar",queryParams:{access_type:"offline",prompt:"consent"},redirectTo:this.getURL()}})})}signIn(r){return this.supabase.auth.signInWithOtp({email:r})}signOut(){return this.supabase.auth.signOut()}updateProfile(r){let o=ce(ae({},r),{updated_at:new Date});return this.supabase.from("profiles").upsert(o)}downLoadImage(r){return this.supabase.storage.from("avatars").download(r)}uploadAvatar(r,o){return this.supabase.storage.from("avatars").upload(r,o)}updateShift(r){let o=ce(ae({},r),{updated_at:new Date});return this.supabase.from("shifts").upsert(o)}getShifts(){return this.supabase.from("shifts").select().returns()}updateEvent(r){let o=ce(ae({},r),{updated_at:new Date,owner_id:r.owner_id??this._session?.user.id});return this.supabase.from("events").upsert(o)}getEvents(){return this.supabase.from("events").select().returns()}subscribeToEventChanges(){let r=this.supabase.channel("events-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"events"},o=>console.log(o)).subscribe();this.eventsChannel=r}unsubscribeEventChanges(){this.eventsChannel&&this.supabase.removeChannel(this.eventsChannel)}updateFriendShipStatus(r,o){let s={status:o};return this.supabase.from("friends").update(s).eq("id",r)}updateFriend(r){let o={owner_id:this._session?.user.id,user_id:r};return this.supabase.from("friends").upsert(o)}getFriends(){return this.supabase.from("friends").select().eq("status","accepted").returns()}getAllFriends(){return this.supabase.from("friends").select().returns()}getAllOwnerFriends(){return this.supabase.from("friends").select().eq("owner_id",this._session?.user.id).returns()}getFriendsRequest(){return this.supabase.from("friends").select().eq("status","pending").returns()}userExistByEmail(r){return p(this,null,function*(){let{data:o,error:s}=yield this.supabase.rpc("check_user_exists_by_email",{user_email:r});return s?(console.error(s),!1):o})}addFriendByEmail(r){return p(this,null,function*(){return yield this.supabase.rpc("add_friend_by_email",{user_email:r})})}subscribeToFriendChanges(){let r=this.supabase.channel("friends-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"friends"},o=>{console.log(o),this.friendRequests.set("new friend request "+o)}).subscribe();this.friendsChannel=r}unsubscribeFriendsChanges(){this.friendsChannel&&this.supabase.removeChannel(this.friendsChannel)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();export{q as a,Of as b,O as c,ms as d,gs as e,Re as f,Ze as g,cn as h,Le as i,Uf as j,Bf as k,qf as l,Ke as m,le as n,Zf as o,et as p,vs as q,ys as r,_r as s,eh as t,th as u,an as v,hc as w,nh as x,ln as y,hs as z,rh as A,oh as B,sh as C,ps as D,_s as E,ih as F,ah as G,ch as H,br as I,lh as J,uh as K,dh as L,C as M,oe as N,bl as O,z as P,sC as Q,iC as R,V as S,N as T,Ve as U,j as V,yn as W,Pt as X,aC as Y,cC as Z,lC as _,uC as $,lp as aa,Gl as ba,$e as ca,dC as da,bp as ea,xp as fa,fC as ga,hC as ha,pC as ia,mC as ja,gC as ka,vC as la,ha as ma,Ue as na,bo as oa,yC as pa,Io as qa,mn as ra,wC as sa,_C as ta,xm as ua,bC as va,IC as wa,km as xa,EC as ya,ai as za,xC as Aa,Co as Ba,Zr as Ca,mi as Da,TC as Ea,De as Fa,Sa as Ga,ko as Ha,SC as Ia,NC as Ja,Pv as Ka,OC as La,xi as Ma,Hv as Na,Aa as Oa,Ti as Pa,Yv as Qa,oy as Ra,sy as Sa,iy as Ta,AC as Ua,kC as Va,RC as Wa,PC as Xa,Td as Ya,Md as Za,_y as _a,Sd as $a,Nd as ab,Ey as bb,LC as cb,jC as db,Ty as eb,Oy as fb,FC as gb,VC as hb,$C as ib,HC as jb,UC as kb,BC as lb,qC as mb,WC as nb,GC as ob,zC as pb,Ly as qb,Ad as rb,jy as sb,QC as tb,Fy as ub,JC as vb,YC as wb,KC as xb,ZC as yb,XC as zb,eT as Ab,tT as Bb,nT as Cb,rT as Db,Ld as Eb,Yy as Fb,Fd as Gb,oT as Hb,Vd as Ib,fw as Jb,gw as Kb,vw as Lb,sT as Mb,iT as Nb,aT as Ob,cT as Pb,_w as Qb,aN as Rb};
