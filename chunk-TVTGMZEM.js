import{a as q}from"./chunk-CSE7IBR5.js";import{a as T,b as A,c as G,e as Q,f as V,g as j,k as M,m as R}from"./chunk-5CDCMOJM.js";import{l as F,o as k,q as D}from"./chunk-JENCE4PA.js";import{Ba as S,Gb as I,Ja as v,La as g,Oa as b,P as u,Sa as e,Ta as t,Ua as s,Ya as x,Za as y,bb as C,cb as E,db as _,fa as l,gb as i,ib as w,nb as N,ta as d,ua as h}from"./chunk-3AODQQRU.js";import"./chunk-JENGY3ED.js";import{a as p,b as f}from"./chunk-PYQTE2ZK.js";var P=["name"];function U(a,r){if(a&1&&(e(0,"div"),i(1),t()),a&2){let B=y();d(),w("",B.shiftName()," wonderful name!")}}var te=(()=>{let r=class r{constructor(m){this.fb=m,this.supabase=l(I),this.shiftService=l(D),this.accountService=l(k),this.currentShift=this.shiftService.currentShift(),this.router=l(F),this.shiftName=S(""),this.shiftForm=this.fb.group({name:[""]})}ngAfterViewInit(){this.nameInput?.nativeElement.addEventListener("change",()=>{this.shiftName.set(this.nameInput?.nativeElement.value??"")})}saveShift(){let m=this.shiftService.currentShift(),n=this.accountService.userId(),o=f(p({},m),{name:this.shiftName(),created_at:new Date().toUTCString(),start_time:"10:00:00",end_time:"12:00:00",owner_id:n});this.supabase.updateShift(o).then(L=>{console.log("shift updated"),console.log(L),this.router.navigate(["home"])})}};r.\u0275fac=function(n){return new(n||r)(h(M))},r.\u0275cmp=u({type:r,selectors:[["app-shift-editor"]],viewQuery:function(n,o){if(n&1&&C(P,5),n&2){let c;E(c=_())&&(o.nameInput=c.first)}},standalone:!0,features:[N],decls:27,vars:2,consts:[[1,"card","lg:card-side","bg-base-100","shadow-xl"],["src","https://images.pexels.com/photos/636237/pexels-photo-636237.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2","alt","Album"],[1,"card-body"],[1,"card-title"],[1,"badge","badge-secondary"],[1,"card-body",3,"formGroup"],[1,"input","input-bordered","flex","items-center","gap-2"],["type","text","placeholder","","formControlName","name",1,"grow"],["name",""],["type","time","placeholder","",1,"grow"],[1,"form-control","mt-6"],[1,"btn","btn-primary",3,"click"]],template:function(n,o){n&1&&(e(0,"div",0)(1,"figure"),s(2,"img",1),t(),e(3,"div",2)(4,"h2",3),i(5," Configure your "),e(6,"div",4),i(7,"NEW"),t(),i(8," shift "),t(),e(9,"form",5),v(10,U,2,1,"div"),e(11,"label",6),i(12," Name "),s(13,"input",7,8),t(),e(15,"label",6),i(16," Start time "),s(17,"input",9),t(),e(18,"label",6),i(19," End time "),s(20,"input",9),t(),e(21,"label",6),i(22," Color "),s(23,"app-color-picker"),t(),e(24,"div",10)(25,"button",11),x("click",function(){return o.saveShift()}),i(26,"Save"),t()()()()()),n&2&&(d(9),g("formGroup",o.shiftForm),d(),b(10,o.shiftName()?10:-1))},dependencies:[R,Q,T,A,G,V,j,q]});let a=r;return a})();export{te as default};
