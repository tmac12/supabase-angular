import{b as Kn,c as $a}from"./chunk-JENGY3ED.js";import{a as ce,b as le,d as p}from"./chunk-PYQTE2ZK.js";function _(t){return typeof t=="function"}function os(t){return _(t?.lift)}function T(t){return e=>{if(os(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function It(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Zn=It(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function on(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var q=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(_(r))try{r()}catch(s){e=s instanceof Zn?s.errors:[s]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let s of o)try{Ha(s)}catch(i){e=e??[],i instanceof Zn?e=[...e,...i.errors]:e.push(i)}}if(e)throw new Zn(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Ha(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&on(n,e)}remove(e){let{_finalizers:n}=this;n&&on(n,e),e instanceof t&&e._removeParent(this)}};q.EMPTY=(()=>{let t=new q;return t.closed=!0,t})();var ss=q.EMPTY;function Xn(t){return t instanceof q||t&&"closed"in t&&_(t.remove)&&_(t.add)&&_(t.unsubscribe)}function Ha(t){_(t)?t():t.unsubscribe()}var pe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Et={setTimeout(t,e,...n){let{delegate:r}=Et;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Et;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function er(t){Et.setTimeout(()=>{let{onUnhandledError:e}=pe;if(e)e(t);else throw t})}function sn(){}var Ua=is("C",void 0,void 0);function Ba(t){return is("E",void 0,t)}function qa(t){return is("N",t,void 0)}function is(t,e,n){return{kind:t,value:e,error:n}}var Qe=null;function xt(t){if(pe.useDeprecatedSynchronousErrorHandling){let e=!Qe;if(e&&(Qe={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Qe;if(Qe=null,n)throw r}}else t()}function Wa(t){pe.useDeprecatedSynchronousErrorHandling&&Qe&&(Qe.errorThrown=!0,Qe.error=t)}var Je=class extends q{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Xn(e)&&e.add(this)):this.destination=Nf}static create(e,n,r){return new Ct(e,n,r)}next(e){this.isStopped?cs(qa(e),this):this._next(e)}error(e){this.isStopped?cs(Ba(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?cs(Ua,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Mf=Function.prototype.bind;function as(t,e){return Mf.call(t,e)}var ls=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){tr(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){tr(r)}else tr(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){tr(n)}}},Ct=class extends Je{constructor(e,n,r){super();let o;if(_(e)||!e)o={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&pe.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&as(e.next,s),error:e.error&&as(e.error,s),complete:e.complete&&as(e.complete,s)}):o=e}this.destination=new ls(o)}};function tr(t){pe.useDeprecatedSynchronousErrorHandling?Wa(t):er(t)}function Sf(t){throw t}function cs(t,e){let{onStoppedNotification:n}=pe;n&&Et.setTimeout(()=>n(t,e))}var Nf={closed:!0,next:sn,error:Sf,complete:sn};function x(t,e,n,r,o){return new us(t,e,n,r,o)}var us=class extends Je{constructor(e,n,r,o,s,i){super(e),this.onFinalize=s,this.shouldUnsubscribe=i,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function me(t,e){return T((n,r)=>{let o=0;n.subscribe(x(r,s=>{r.next(t.call(e,s,o++))}))})}function za(t,e,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(u){try{l(r.next(u))}catch(d){i(d)}}function c(u){try{l(r.throw(u))}catch(d){i(d)}}function l(u){u.done?s(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Ga(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ye(t){return this instanceof Ye?(this.v=t,this):new Ye(t)}function Qa(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,s=[];return o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o;function i(h){r[h]&&(o[h]=function(f){return new Promise(function(m,g){s.push([h,f,m,g])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(m){d(s[0][3],m)}}function c(h){h.value instanceof Ye?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Ja(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Ga=="function"?Ga(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(i){return new Promise(function(a,c){i=t[s](i),o(a,c,i.done,i.value)})}}function o(s,i,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},i)}}var nr=t=>t&&typeof t.length=="number"&&typeof t!="function";function rr(t){return _(t?.then)}var Dt=typeof Symbol=="function"&&Symbol.observable||"@@observable";function W(t){return t}function Of(...t){return ds(t)}function ds(t){return t.length===0?W:t.length===1?t[0]:function(n){return t.reduce((r,o)=>o(r),n)}}var O=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,o){let s=kf(n)?n:new Ct(n,r,o);return xt(()=>{let{operator:i,source:a}=this;s.add(i?i.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Ya(r),new r((o,s)=>{let i=new Ct({next:a=>{try{n(a)}catch(c){s(c),i.unsubscribe()}},error:s,complete:o});this.subscribe(i)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Dt](){return this}pipe(...n){return ds(n)(this)}toPromise(n){return n=Ya(n),new n((r,o)=>{let s;this.subscribe(i=>s=i,i=>o(i),()=>r(s))})}}return t.create=e=>new t(e),t})();function Ya(t){var e;return(e=t??pe.Promise)!==null&&e!==void 0?e:Promise}function Af(t){return t&&_(t.next)&&_(t.error)&&_(t.complete)}function kf(t){return t&&t instanceof Je||Af(t)&&Xn(t)}function or(t){return _(t[Dt])}function sr(t){return Symbol.asyncIterator&&_(t?.[Symbol.asyncIterator])}function ir(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Pf(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ar=Pf();function cr(t){return _(t?.[ar])}function lr(t){return Qa(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:o}=yield Ye(n.read());if(o)return yield Ye(void 0);yield yield Ye(r)}}finally{n.releaseLock()}})}function ur(t){return _(t?.getReader)}function L(t){if(t instanceof O)return t;if(t!=null){if(or(t))return Rf(t);if(nr(t))return Lf(t);if(rr(t))return jf(t);if(sr(t))return Ka(t);if(cr(t))return Ff(t);if(ur(t))return Vf(t)}throw ir(t)}function Rf(t){return new O(e=>{let n=t[Dt]();if(_(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Lf(t){return new O(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function jf(t){return new O(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,er)})}function Ff(t){return new O(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Ka(t){return new O(e=>{$f(t,e).catch(n=>e.error(n))})}function Vf(t){return Ka(lr(t))}function $f(t,e){var n,r,o,s;return za(this,void 0,void 0,function*(){try{for(n=Ja(t);r=yield n.next(),!r.done;){let i=r.value;if(e.next(i),e.closed)return}}catch(i){o={error:i}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(o)throw o.error}}e.complete()})}function ee(t,e,n,r=0,o=!1){let s=e.schedule(function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!o)return s}function Za(t,e,n,r,o,s,i,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&e.complete()},f=g=>l<r?m(g):c.push(g),m=g=>{s&&e.next(g),l++;let v=!1;L(n(g,u++)).subscribe(x(e,b=>{o?.(b),s?f(b):e.next(b)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<r;){let b=c.shift();i?ee(e,i,()=>m(b)):m(b)}h()}catch(b){e.error(b)}}))};return t.subscribe(x(e,f,()=>{d=!0,h()})),()=>{a?.()}}function Ke(t,e,n=1/0){return _(e)?Ke((r,o)=>me((s,i)=>e(r,s,o,i))(L(t(r,o))),n):(typeof e=="number"&&(n=e),T((r,o)=>Za(r,o,t,n)))}function fs(t=1/0){return Ke(W,t)}function hs(){return fs(1)}function Xa(t){return t&&_(t.schedule)}function ec(t){return t[t.length-1]}function dr(t){return _(ec(t))?t.pop():void 0}function Re(t){return Xa(ec(t))?t.pop():void 0}function fr(t,e=0){return T((n,r)=>{n.subscribe(x(r,o=>ee(r,t,()=>r.next(o),e),()=>ee(r,t,()=>r.complete(),e),o=>ee(r,t,()=>r.error(o),e)))})}function hr(t,e=0){return T((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function tc(t,e){return L(t).pipe(hr(e),fr(e))}function nc(t,e){return L(t).pipe(hr(e),fr(e))}function rc(t,e){return new O(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function oc(t,e){return new O(n=>{let r;return ee(n,e,()=>{r=t[ar](),ee(n,e,()=>{let o,s;try{({value:o,done:s}=r.next())}catch(i){n.error(i);return}s?n.complete():n.next(o)},0,!0)}),()=>_(r?.return)&&r.return()})}function pr(t,e){if(!t)throw new Error("Iterable cannot be null");return new O(n=>{ee(n,e,()=>{let r=t[Symbol.asyncIterator]();ee(n,e,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function sc(t,e){return pr(lr(t),e)}function ic(t,e){if(t!=null){if(or(t))return tc(t,e);if(nr(t))return rc(t,e);if(rr(t))return nc(t,e);if(sr(t))return pr(t,e);if(cr(t))return oc(t,e);if(ur(t))return sc(t,e)}throw ir(t)}function Le(t,e){return e?ic(t,e):L(t)}function mr(...t){return hs()(Le(t,Re(t)))}function ac(...t){let e=Re(t);return T((n,r)=>{(e?mr(t,n,e):mr(t,n)).subscribe(r)})}function ps(){return T((t,e)=>{let n=null;t._refCount++;let r=x(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let o=t._connection,s=n;n=null,o&&(!s||o===s)&&o.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ms=class extends O{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,os(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new q;let n=this.getSubject();e.add(this.source.subscribe(x(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=q.EMPTY)}return e}refCount(){return ps()(this)}};var cc=It(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Tt=(()=>{class t extends O{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new gr(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new cc}next(n){xt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){xt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){xt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:s}=this;return r||o?ss:(this.currentObservers=null,s.push(n),new q(()=>{this.currentObservers=null,on(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:s}=this;r?n.error(o):s&&n.complete()}asObservable(){let n=new O;return n.source=this,n}}return t.create=(e,n)=>new gr(e,n),t})(),gr=class extends Tt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:ss}};var Ze=class extends Tt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var an=new O(t=>t.complete());function Hf(...t){let e=Re(t);return Le(t,e)}function Uf(t,e){let n=_(t)?t:()=>t,r=o=>o.error(n());return new O(e?o=>e.schedule(r,0,o):r)}function Bf(t){return!!t&&(t instanceof O||_(t.lift)&&_(t.subscribe))}var Xe=It(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});var{isArray:qf}=Array;function Wf(t,e){return qf(e)?t(...e):t(e)}function vr(t){return me(e=>Wf(t,e))}var{isArray:Gf}=Array,{getPrototypeOf:zf,prototype:Qf,keys:Jf}=Object;function yr(t){if(t.length===1){let e=t[0];if(Gf(e))return{args:e,keys:null};if(Yf(e)){let n=Jf(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Yf(t){return t&&typeof t=="object"&&zf(t)===Qf}function wr(t,e){return t.reduce((n,r,o)=>(n[r]=e[o],n),{})}function Kf(...t){let e=Re(t),n=dr(t),{args:r,keys:o}=yr(t);if(r.length===0)return Le([],e);let s=new O(Zf(r,e,o?i=>wr(o,i):W));return n?s.pipe(vr(n)):s}function Zf(t,e,n=W){return r=>{lc(e,()=>{let{length:o}=t,s=new Array(o),i=o,a=o;for(let c=0;c<o;c++)lc(e,()=>{let l=Le(t[c],e),u=!1;l.subscribe(x(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--i||r.complete()}))},r)},r)}}function lc(t,e,n){t?ee(n,t,e):e()}function Xf(t){return new O(e=>{L(t()).subscribe(e)})}function eh(...t){let e=dr(t),{args:n,keys:r}=yr(t),o=new O(s=>{let{length:i}=n;if(!i){s.complete();return}let a=new Array(i),c=i,l=i;for(let u=0;u<i;u++){let d=!1;L(n[u]).subscribe(x(s,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(r?wr(r,a):a),s.complete())}))}});return e?o.pipe(vr(e)):o}function cn(t,e){return T((n,r)=>{let o=0;n.subscribe(x(r,s=>t.call(e,s,o++)&&r.next(s)))})}function uc(t){return T((e,n)=>{let r=null,o=!1,s;r=e.subscribe(x(n,void 0,void 0,i=>{s=L(t(i,uc(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,s.subscribe(n))})}function dc(t,e,n,r,o){return(s,i)=>{let a=n,c=e,l=0;s.subscribe(x(i,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&i.next(c)},o&&(()=>{a&&i.next(c),i.complete()})))}}function th(t,e){return _(e)?Ke(t,e,1):Ke(t,1)}function ln(t){return T((e,n)=>{let r=!1;e.subscribe(x(n,o=>{r=!0,n.next(o)},()=>{r||n.next(t),n.complete()}))})}function gs(t){return t<=0?()=>an:T((e,n)=>{let r=0;e.subscribe(x(n,o=>{++r<=t&&(n.next(o),t<=r&&n.complete())}))})}function nh(t){return me(()=>t)}function _r(t=rh){return T((e,n)=>{let r=!1;e.subscribe(x(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(t())))})}function rh(){return new Xe}function vs(t,e){return e?n=>n.pipe(vs((r,o)=>L(t(r,o)).pipe(me((s,i)=>e(r,s,o,i))))):T((n,r)=>{let o=0,s=null,i=!1;n.subscribe(x(r,a=>{s||(s=x(r,void 0,()=>{s=null,i&&r.complete()}),L(t(a,o++)).subscribe(s))},()=>{i=!0,!s&&r.complete()}))})}function oh(){return vs(W)}function sh(t){return T((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function fc(t,e){let n=arguments.length>=2;return r=>r.pipe(t?cn((o,s)=>t(o,s,r)):W,gs(1),n?ln(e):_r(()=>new Xe))}function ys(t){return t<=0?()=>an:T((e,n)=>{let r=[];e.subscribe(x(n,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function ih(t,e){let n=arguments.length>=2;return r=>r.pipe(t?cn((o,s)=>t(o,s,r)):W,ys(1),n?ln(e):_r(()=>new Xe))}function ah(t,e){return T(dc(t,e,arguments.length>=2,!0))}function br(t,e){return T((n,r)=>{let o=null,s=0,i=!1,a=()=>i&&!o&&r.complete();n.subscribe(x(r,c=>{o?.unsubscribe();let l=0,u=s++;L(t(c,u)).subscribe(o=x(r,d=>r.next(e?e(c,d,u,l++):d),()=>{o=null,a()}))},()=>{i=!0,a()}))})}function ch(){return br(W)}function lh(t){return T((e,n)=>{L(t).subscribe(x(n,()=>n.complete(),sn)),!n.closed&&e.subscribe(n)})}function uh(t,e,n){let r=_(t)||e||n?{next:t,error:e,complete:n}:t;return r?T((o,s)=>{var i;(i=r.subscribe)===null||i===void 0||i.call(r);let a=!0;o.subscribe(x(s,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),s.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):W}function hc(t,e){return Object.is(t,e)}var $=null,un=!1,Ir=1,te=Symbol("SIGNAL");function D(t){let e=$;return $=t,e}function dh(){return un}var fn={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function hn(t){if(un)throw new Error("");if($===null)return;$.consumerOnSignalRead(t);let e=$.nextProducerIndex++;if(Mt($),e<$.producerNode.length&&$.producerNode[e]!==t&&dn($)){let n=$.producerNode[e];Tr(n,$.producerIndexOfThis[e])}$.producerNode[e]!==t&&($.producerNode[e]=t,$.producerIndexOfThis[e]=dn($)?yc(t,$,e):0),$.producerLastReadVersion[e]=t.version}function fh(){Ir++}function pc(t){if(!(dn(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ir)){if(!t.producerMustRecompute(t)&&!Dr(t)){t.dirty=!1,t.lastCleanEpoch=Ir;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ir}}function mc(t){if(t.liveConsumerNode===void 0)return;let e=un;un=!0;try{for(let n of t.liveConsumerNode)n.dirty||vc(n)}finally{un=e}}function gc(){return $?.consumerAllowSignalWrites!==!1}function vc(t){t.dirty=!0,mc(t),t.consumerMarkedDirty?.(t)}function xr(t){return t&&(t.nextProducerIndex=0),D(t)}function Cr(t,e){if(D(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(dn(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Tr(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Dr(t){Mt(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(pc(n),r!==n.version))return!0}return!1}function Is(t){if(Mt(t),dn(t))for(let e=0;e<t.producerNode.length;e++)Tr(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function yc(t,e,n){if(wc(t),Mt(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=yc(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Tr(t,e){if(wc(t),Mt(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Tr(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],o=t.liveConsumerNode[e];Mt(o),o.producerIndexOfThis[r]=e}}function dn(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Mt(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function wc(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Es(t){let e=Object.create(hh);e.computation=t;let n=()=>{if(pc(e),hn(e),e.value===Er)throw e.error;return e.value};return n[te]=e,n}var ws=Symbol("UNSET"),_s=Symbol("COMPUTING"),Er=Symbol("ERRORED"),hh=le(ce({},fn),{value:ws,dirty:!0,error:null,equal:hc,producerMustRecompute(t){return t.value===ws||t.value===_s},producerRecomputeValue(t){if(t.value===_s)throw new Error("Detected cycle in computations.");let e=t.value;t.value=_s;let n=xr(t),r;try{r=t.computation()}catch(o){r=Er,t.error=o}finally{Cr(t,n)}if(e!==ws&&e!==Er&&r!==Er&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function ph(){throw new Error}var _c=ph;function bc(){_c()}function Ic(t){_c=t}var mh=null;function Ec(t){let e=Object.create(xs);e.value=t;let n=()=>(hn(e),e.value);return n[te]=e,n}function pn(t,e){gc()||bc(),t.equal(t.value,e)||(t.value=e,gh(t))}function xc(t,e){gc()||bc(),pn(t,e(t.value))}var xs=le(ce({},fn),{equal:hc,value:void 0});function gh(t){t.version++,fh(),mc(t),mh?.()}function Cc(t,e,n){let r=Object.create(vh);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let o=c=>{r.cleanupFn=c};function s(c){return c.fn===null&&c.schedule===null}function i(c){s(c)||(Is(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=bs)}let a=()=>{if(r.fn===null)return;if(dh())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!Dr(r))return;r.hasRun=!0;let c=xr(r);try{r.cleanupFn(),r.cleanupFn=bs,r.fn(o)}finally{Cr(r,c)}};return r.ref={notify:()=>vc(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>i(r),[te]:r},r.ref}var bs=()=>{},vh=le(ce({},fn),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:bs});var ml="https://g.co/ng/security#xss",M=class extends Error{constructor(e,n){super(yh(e,n)),this.code=e}};function yh(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var co=Symbol("InputSignalNode#UNSET"),gl=le(ce({},xs),{transformFn:void 0,applyValueToInputSignal(t,e){pn(t,e)}});function vl(t,e){let n=Object.create(gl);n.value=t,n.transformFn=e?.transform;function r(){if(hn(n),n.value===co)throw new M(-950,!1);return n.value}return r[te]=n,r}var Us=class extends Tt{constructor(e=!1){super(),this.__isAsync=e}emit(e){let n=D(null);try{super.next(e)}finally{D(n)}}subscribe(e,n,r){let o=e,s=n||(()=>null),i=r;if(e&&typeof e=="object"){let c=e;o=c.next?.bind(c),s=c.error?.bind(c),i=c.complete?.bind(c)}this.__isAsync&&(s=Cs(s),o&&(o=Cs(o)),i&&(i=Cs(i)));let a=super.subscribe({next:o,error:s,complete:i});return e instanceof q&&e.add(a),a}};function Cs(t){return e=>{setTimeout(t,void 0,e)}}var mn=Us;function Dc(t,e){return vl(t,e)}function wh(t){return vl(co,t)}var XC=(Dc.required=wh,Dc),N=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(N||{});function oe(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(oe).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Tc(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var yl=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(yl||{}),vn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(vn||{});function Nn(t){return{toString:t}.toString()}var be=globalThis;var Pt={},re=[];function A(t){for(let e in t)if(t[e]===A)return e;throw Error("Could not find renamed property on target object.")}function _h(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var bh=A({\u0275cmp:A}),Ih=A({\u0275dir:A}),Eh=A({\u0275pipe:A}),xh=A({\u0275mod:A}),Vr=A({\u0275fac:A}),gn=A({__NG_ELEMENT_ID__:A}),Mc=A({__NG_ENV_ID__:A}),Rt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Rt||{});function wl(t,e,n){let r=t.length;for(;;){let o=t.indexOf(e,n);if(o===-1)return o;if(o===0||t.charCodeAt(o-1)<=32){let s=e.length;if(o+s===r||t.charCodeAt(o+s)<=32)return o}n=o+1}}function Bs(t,e,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let s=n[r++],i=n[r++],a=n[r++];t.setAttribute(e,i,a,s)}else{let s=o,i=n[++r];Ch(s)?t.setProperty(e,s,i):t.setAttribute(e,s,i),r++}}return r}function _l(t){return t===3||t===4||t===6}function Ch(t){return t.charCodeAt(0)===64}function yn(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let o=e[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?Sc(t,n,o,null,e[++r]):Sc(t,n,o,null,null))}}return t}function Sc(t,e,n,r,o){let s=0,i=t.length;if(e===-1)i=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){i=-1;break}else if(a>e){i=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){o!==null&&(t[s+1]=o);return}else if(r===t[s+1]){t[s+2]=o;return}}s++,r!==null&&s++,o!==null&&s++}i!==-1&&(t.splice(i,0,e),s=i+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),o!==null&&t.splice(s++,0,o)}var bl="ng-template";function Dh(t,e,n){let r=0,o=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&o){let i=t[r++];if(n&&s==="class"&&wl(i.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(o=!1)}return!1}function Il(t){return t.type===4&&t.value!==bl}function Th(t,e,n){let r=t.type===4&&!n?bl:t.value;return e===r}function Mh(t,e,n){let r=4,o=t.attrs||[],s=Oh(o),i=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!i&&!ge(r)&&!ge(c))return!1;if(i&&ge(c))continue;i=!1,r=c|r&1;continue}if(!i)if(r&4){if(r=2|r&1,c!==""&&!Th(t,c,n)||c===""&&e.length===1){if(ge(r))return!1;i=!0}}else{let l=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!Dh(t.attrs,l,n)){if(ge(r))return!1;i=!0}continue}let u=r&8?"class":c,d=Sh(u,o,Il(t),n);if(d===-1){if(ge(r))return!1;i=!0;continue}if(l!==""){let h;d>s?h="":h=o[d+1].toLowerCase();let f=r&8?h:null;if(f&&wl(f,l,0)!==-1||r&2&&l!==h){if(ge(r))return!1;i=!0}}}}return ge(r)||i}function ge(t){return(t&1)===0}function Sh(t,e,n,r){if(e===null)return-1;let o=0;if(r||!n){let s=!1;for(;o<e.length;){let i=e[o];if(i===t)return o;if(i===3||i===6)s=!0;else if(i===1||i===2){let a=e[++o];for(;typeof a=="string";)a=e[++o];continue}else{if(i===4)break;if(i===0){o+=4;continue}}o+=s?1:2}return-1}else return Ah(e,t)}function El(t,e,n=!1){for(let r=0;r<e.length;r++)if(Mh(t,e[r],n))return!0;return!1}function Nh(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function Oh(t){for(let e=0;e<t.length;e++){let n=t[e];if(_l(n))return e}return t.length}function Ah(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function kh(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let o=0;o<t.length;o++)if(t[o]!==r[o])continue e;return!0}}return!1}function Nc(t,e){return t?":not("+e.trim()+")":e}function Ph(t){let e=t[0],n=1,r=2,o="",s=!1;for(;n<t.length;){let i=t[n];if(typeof i=="string")if(r&2){let a=t[++n];o+="["+i+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+i:r&4&&(o+=" "+i);else o!==""&&!ge(i)&&(e+=Nc(s,o),o=""),r=i,s=s||!ge(r);n++}return o!==""&&(e+=Nc(s,o)),e}function Rh(t){return t.map(Ph).join(",")}function Lh(t){let e=[],n=[],r=1,o=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")o===2?s!==""&&e.push(s,t[++r]):o===8&&n.push(s);else{if(!ge(o))break;o=s}r++}return{attrs:e,classes:n}}function eD(t){return Nn(()=>{let e=Tl(t),n=le(ce({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===yl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||vn.Emulated,styles:t.styles||re,_:null,schemas:t.schemas||null,tView:null,id:""});Ml(n);let r=t.dependencies;return n.directiveDefs=Ac(r,!1),n.pipeDefs=Ac(r,!0),n.id=$h(n),n})}function jh(t){return rt(t)||xl(t)}function Fh(t){return t!==null}function tD(t){return Nn(()=>({type:t.type,bootstrap:t.bootstrap||re,declarations:t.declarations||re,imports:t.imports||re,exports:t.exports||re,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Oc(t,e){if(t==null)return Pt;let n={};for(let r in t)if(t.hasOwnProperty(r)){let o=t[r],s,i,a=Rt.None;Array.isArray(o)?(a=o[0],s=o[1],i=o[2]??s):(s=o,i=o),e?(n[s]=a!==Rt.None?[r,a]:r,e[s]=i):n[s]=r}return n}function nD(t){return Nn(()=>{let e=Tl(t);return Ml(e),e})}function rD(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function rt(t){return t[bh]||null}function xl(t){return t[Ih]||null}function Cl(t){return t[Eh]||null}function Vh(t){let e=rt(t)||xl(t)||Cl(t);return e!==null?e.standalone:!1}function Dl(t,e){let n=t[xh]||null;if(!n&&e===!0)throw new Error(`Type ${oe(t)} does not have '\u0275mod' property.`);return n}function Tl(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Pt,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||re,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Oc(t.inputs,e),outputs:Oc(t.outputs),debugInfo:null}}function Ml(t){t.features?.forEach(e=>e(t))}function Ac(t,e){if(!t)return null;let n=e?Cl:jh;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Fh)}function $h(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let o of n)e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var Ne=0,w=1,y=2,G=3,ve=4,se=5,Lt=6,wn=7,Q=8,jt=9,Me=10,j=11,_n=12,kc=13,Ut=14,ue=15,On=16,St=17,Se=18,lo=19,Sl=20,Fe=21,Ar=22,ot=23,X=25,Nl=1;var st=7,$r=8,Ft=9,J=10,zi=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(zi||{});function tt(t){return Array.isArray(t)&&typeof t[Nl]=="object"}function Oe(t){return Array.isArray(t)&&t[Nl]===!0}function Qi(t){return(t.flags&4)!==0}function uo(t){return t.componentOffset>-1}function fo(t){return(t.flags&1)===1}function Ve(t){return!!t.template}function Hh(t){return(t[y]&512)!==0}var Ol="svg",Uh="math",Bh=!1;function qh(){return Bh}function Ce(t){for(;Array.isArray(t);)t=t[Ne];return t}function Al(t,e){return Ce(e[t])}function de(t,e){return Ce(e[t.index])}function Ji(t,e){return t.data[e]}function Wh(t,e){return t[e]}function Be(t,e){let n=e[t];return tt(n)?n:n[Ne]}function Gh(t){return(t[y]&4)===4}function Yi(t){return(t[y]&128)===128}function zh(t){return Oe(t[G])}function Vt(t,e){return e==null?null:t[e]}function kl(t){t[St]=0}function Qh(t){t[y]&1024||(t[y]|=1024,Yi(t)&&bn(t))}function Jh(t,e){for(;t>0;)e=e[Ut],t--;return e}function Ki(t){return!!(t[y]&9216||t[ot]?.dirty)}function qs(t){Ki(t)?bn(t):t[y]&64&&(qh()?(t[y]|=1024,bn(t)):t[Me].changeDetectionScheduler?.notify())}function bn(t){t[Me].changeDetectionScheduler?.notify();let e=In(t);for(;e!==null&&!(e[y]&8192||(e[y]|=8192,!Yi(e)));)e=In(e)}function Pl(t,e){if((t[y]&256)===256)throw new M(911,!1);t[Fe]===null&&(t[Fe]=[]),t[Fe].push(e)}function Yh(t,e){if(t[Fe]===null)return;let n=t[Fe].indexOf(e);n!==-1&&t[Fe].splice(n,1)}function In(t){let e=t[G];return Oe(e)?e[G]:e}var E={lFrame:$l(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Kh(){return E.lFrame.elementDepthCount}function Zh(){E.lFrame.elementDepthCount++}function Xh(){E.lFrame.elementDepthCount--}function Rl(){return E.bindingsEnabled}function Ll(){return E.skipHydrationRootTNode!==null}function ep(t){return E.skipHydrationRootTNode===t}function tp(){E.skipHydrationRootTNode=null}function I(){return E.lFrame.lView}function V(){return E.lFrame.tView}function oD(t){return E.lFrame.contextLView=t,t[Q]}function sD(t){return E.lFrame.contextLView=null,t}function Y(){let t=jl();for(;t!==null&&t.type===64;)t=t.parent;return t}function jl(){return E.lFrame.currentTNode}function np(){let t=E.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function pt(t,e){let n=E.lFrame;n.currentTNode=t,n.isParent=e}function Zi(){return E.lFrame.isParent}function Xi(){E.lFrame.isParent=!1}function ho(){let t=E.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function rp(t){return E.lFrame.bindingIndex=t}function Bt(){return E.lFrame.bindingIndex++}function op(t){let e=E.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function sp(){return E.lFrame.inI18n}function ip(t,e){let n=E.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ws(e)}function ap(){return E.lFrame.currentDirectiveIndex}function Ws(t){E.lFrame.currentDirectiveIndex=t}function cp(t){let e=E.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function ea(){return E.lFrame.currentQueryIndex}function po(t){E.lFrame.currentQueryIndex=t}function lp(t){let e=t[w];return e.type===2?e.declTNode:e.type===1?t[se]:null}function Fl(t,e,n){if(n&N.SkipSelf){let o=e,s=t;for(;o=o.parent,o===null&&!(n&N.Host);)if(o=lp(s),o===null||(s=s[Ut],o.type&10))break;if(o===null)return!1;e=o,t=s}let r=E.lFrame=Vl();return r.currentTNode=e,r.lView=t,!0}function ta(t){let e=Vl(),n=t[w];E.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Vl(){let t=E.lFrame,e=t===null?null:t.child;return e===null?$l(t):e}function $l(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Hl(){let t=E.lFrame;return E.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Ul=Hl;function na(){let t=Hl();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function up(t){return(E.lFrame.contextLView=Jh(t,E.lFrame.contextLView))[Q]}function mt(){return E.lFrame.selectedIndex}function it(t){E.lFrame.selectedIndex=t}function ra(){let t=E.lFrame;return Ji(t.tView,t.selectedIndex)}function iD(){E.lFrame.currentNamespace=Ol}function aD(){dp()}function dp(){E.lFrame.currentNamespace=null}function fp(){return E.lFrame.currentNamespace}var Bl=!0;function mo(){return Bl}function go(t){Bl=t}function hp(){return qt(Y(),I())}function qt(t,e){return new vo(de(t,e))}var vo=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=hp;let t=e;return t})();function ql(t){return t instanceof vo?t.nativeElement:t}function pp(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let o=t[r],s=e[r];if(n&&(o=n(o),s=n(s)),s!==o)return!1}return!0}function mp(t){return t.flat(Number.POSITIVE_INFINITY)}function oa(t,e){t.forEach(n=>Array.isArray(n)?oa(n,e):e(n))}function Wl(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Hr(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function gp(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function vp(t,e,n,r){let o=t.length;if(o==e)t.push(n,r);else if(o===1)t.push(r,t[0]),t[0]=n;else{for(o--,t.push(t[o-1],t[o]);o>e;){let s=o-2;t[o]=t[s],o--}t[e]=n,t[e+1]=r}}function yp(t,e,n){let r=An(t,e);return r>=0?t[r|1]=n:(r=~r,vp(t,r,e,n)),r}function Ds(t,e){let n=An(t,e);if(n>=0)return t[n|1]}function An(t,e){return wp(t,e,1)}function wp(t,e,n){let r=0,o=t.length>>n;for(;o!==r;){let s=r+(o-r>>1),i=t[s<<n];if(e===i)return s<<n;i>e?o=s:r=s+1}return~(o<<n)}function _p(){return this._results[Symbol.iterator]()}var Gs=class t{get changes(){return this._changes??=new mn}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=_p)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=mp(e);(this._changesDetected=!pp(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function Gl(t){return(t.flags&128)===128}var zs;function cD(t){zs=t}function bp(){if(zs!==void 0)return zs;if(typeof document<"u")return document;throw new M(210,!1)}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function lD(t){return{providers:t.providers||[],imports:t.imports||[]}}function yo(t){return Pc(t,zl)||Pc(t,Ql)}function uD(t){return yo(t)!==null}function Pc(t,e){return t.hasOwnProperty(e)?t[e]:null}function Ip(t){let e=t&&(t[zl]||t[Ql]);return e||null}function Rc(t){return t&&(t.hasOwnProperty(Lc)||t.hasOwnProperty(Ep))?t[Lc]:null}var zl=A({\u0275prov:A}),Lc=A({\u0275inj:A}),Ql=A({ngInjectableDef:A}),Ep=A({ngInjectorDef:A}),F=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},dD=new F("",{providedIn:"root",factory:()=>xp}),xp="ng",Cp=new F(""),fD=new F("",{providedIn:"platform",factory:()=>"unknown"});var hD=new F("",{providedIn:"root",factory:()=>bp().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Dp=A({__forward_ref__:A});function Jl(t){return t.__forward_ref__=Jl,t.toString=function(){return oe(this())},t}function Z(t){return Yl(t)?t():t}function Yl(t){return typeof t=="function"&&t.hasOwnProperty(Dp)&&t.__forward_ref__===Jl}function Kl(t){return t&&!!t.\u0275providers}function wo(t){return typeof t=="string"?t:t==null?"":String(t)}function Tp(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():wo(t)}function Mp(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new M(-200,t)}function sa(t,e){throw new M(-201,!1)}var Qs;function Zl(){return Qs}function ne(t){let e=Qs;return Qs=t,e}function Xl(t,e,n){let r=yo(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&N.Optional)return null;if(e!==void 0)return e;sa(t,"Injector")}var Sp={},En=Sp,Js="__NG_DI_FLAG__",Ur="ngTempTokenPath",Np="ngTokenPath",Op=/\n/gm,Ap="\u0275",jc="__source",At;function kp(){return At}function je(t){let e=At;return At=t,e}function Pp(t,e=N.Default){if(At===void 0)throw new M(-203,!1);return At===null?Xl(t,void 0,e):At.get(t,e&N.Optional?null:void 0,e)}function $e(t,e=N.Default){return(Zl()||Pp)(Z(t),e)}function H(t,e=N.Default){return $e(t,_o(e))}function _o(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ys(t){let e=[];for(let n=0;n<t.length;n++){let r=Z(t[n]);if(Array.isArray(r)){if(r.length===0)throw new M(900,!1);let o,s=N.Default;for(let i=0;i<r.length;i++){let a=r[i],c=Rp(a);typeof c=="number"?c===-1?o=a.token:s|=c:o=a}e.push($e(o,s))}else e.push($e(r))}return e}function eu(t,e){return t[Js]=e,t.prototype[Js]=e,t}function Rp(t){return t[Js]}function Lp(t,e,n,r){let o=t[Ur];throw e[jc]&&o.unshift(e[jc]),t.message=jp(`
`+t.message,o,n,r),t[Np]=o,t[Ur]=null,t}function jp(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Ap?t.slice(2):t;let o=oe(e);if(Array.isArray(e))o=e.map(oe).join(" -> ");else if(typeof e=="object"){let s=[];for(let i in e)if(e.hasOwnProperty(i)){let a=e[i];s.push(i+":"+(typeof a=="string"?JSON.stringify(a):oe(a)))}o=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${t.replace(Op,`
  `)}`}var Fp="h",Vp="b";var $p=()=>null;function ia(t,e,n=!1){return $p(t,e,n)}var Mr="__parameters__";function Hp(t){return function(...n){if(t){let r=t(...n);for(let o in r)this[o]=r[o]}}}function tu(t,e,n){return Nn(()=>{let r=Hp(e);function o(...s){if(this instanceof o)return r.apply(this,s),this;let i=new o(...s);return a.annotation=i,a;function a(c,l,u){let d=c.hasOwnProperty(Mr)?c[Mr]:Object.defineProperty(c,Mr,{value:[]})[Mr];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(i),c}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}var nu=eu(tu("Optional"),8);var ru=eu(tu("SkipSelf"),4);function at(t,e){let n=t.hasOwnProperty(Vr);return n?t[Vr]:null}var Br=new F(""),ou=new F("",-1),su=new F(""),qr=class{get(e,n=En){if(n===En){let r=new Error(`NullInjectorError: No provider for ${oe(e)}!`);throw r.name="NullInjectorError",r}return n}};function Up(t){return{\u0275providers:t}}function Bp(...t){return{\u0275providers:iu(!0,t),\u0275fromNgModule:!0}}function iu(t,...e){let n=[],r=new Set,o,s=i=>{n.push(i)};return oa(e,i=>{let a=i;Ks(a,s,[],r)&&(o||=[],o.push(a))}),o!==void 0&&au(o,s),n}function au(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:o}=t[n];aa(o,s=>{e(s,r)})}}function Ks(t,e,n,r){if(t=Z(t),!t)return!1;let o=null,s=Rc(t),i=!s&&rt(t);if(!s&&!i){let c=t.ngModule;if(s=Rc(c),s)o=c;else return!1}else{if(i&&!i.standalone)return!1;o=t}let a=r.has(o);if(i){if(a)return!1;if(r.add(o),i.dependencies){let c=typeof i.dependencies=="function"?i.dependencies():i.dependencies;for(let l of c)Ks(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(o);let l;try{oa(s.imports,u=>{Ks(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&au(l,e)}if(!a){let l=at(o)||(()=>new o);e({provide:o,useFactory:l,deps:re},o),e({provide:su,useValue:o,multi:!0},o),e({provide:Br,useValue:()=>$e(o),multi:!0},o)}let c=s.providers;if(c!=null&&!a){let l=t;aa(c,u=>{e(u,l)})}}else return!1;return o!==t&&t.providers!==void 0}function aa(t,e){for(let n of t)Kl(n)&&(n=n.\u0275providers),Array.isArray(n)?aa(n,e):e(n)}var qp=A({provide:String,useValue:A});function cu(t){return t!==null&&typeof t=="object"&&qp in t}function Wp(t){return!!(t&&t.useExisting)}function Gp(t){return!!(t&&t.useFactory)}function $t(t){return typeof t=="function"}function zp(t){return!!t.useClass}var lu=new F(""),kr={},Qp={},Ts;function ca(){return Ts===void 0&&(Ts=new qr),Ts}var He=class{},xn=class extends He{get destroyed(){return this._destroyed}constructor(e,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Xs(e,i=>this.processProvider(i)),this.records.set(ou,Nt(void 0,this)),o.has("environment")&&this.records.set(He,Nt(void 0,this));let s=this.records.get(lu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(su,re,N.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=D(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),D(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=je(this),r=ne(void 0),o;try{return e()}finally{je(n),ne(r)}}get(e,n=En,r=N.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Mc))return e[Mc](this);r=_o(r);let o,s=je(this),i=ne(void 0);try{if(!(r&N.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=Xp(e)&&yo(e);l&&this.injectableDefInScope(l)?c=Nt(Zs(e),kr):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&N.Self?ca():this.parent;return n=r&N.Optional&&n===En?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ur]=a[Ur]||[]).unshift(oe(e)),s)throw a;return Lp(a,e,"R3InjectorError",this.source)}else throw a}finally{ne(i),je(s)}}resolveInjectorInitializers(){let e=D(null),n=je(this),r=ne(void 0),o;try{let s=this.get(Br,re,N.Self);for(let i of s)i()}finally{je(n),ne(r),D(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(oe(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new M(205,!1)}processProvider(e){e=Z(e);let n=$t(e)?e:Z(e&&e.provide),r=Yp(e);if(!$t(e)&&e.multi===!0){let o=this.records.get(n);o||(o=Nt(void 0,kr,!0),o.factory=()=>Ys(o.multi),this.records.set(n,o)),n=e,o.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=D(null);try{return n.value===kr&&(n.value=Qp,n.value=n.factory()),typeof n.value=="object"&&n.value&&Zp(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{D(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Z(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Zs(t){let e=yo(t),n=e!==null?e.factory:at(t);if(n!==null)return n;if(t instanceof F)throw new M(204,!1);if(t instanceof Function)return Jp(t);throw new M(204,!1)}function Jp(t){if(t.length>0)throw new M(204,!1);let n=Ip(t);return n!==null?()=>n.factory(t):()=>new t}function Yp(t){if(cu(t))return Nt(void 0,t.useValue);{let e=uu(t);return Nt(e,kr)}}function uu(t,e,n){let r;if($t(t)){let o=Z(t);return at(o)||Zs(o)}else if(cu(t))r=()=>Z(t.useValue);else if(Gp(t))r=()=>t.useFactory(...Ys(t.deps||[]));else if(Wp(t))r=()=>$e(Z(t.useExisting));else{let o=Z(t&&(t.useClass||t.provide));if(Kp(t))r=()=>new o(...Ys(t.deps));else return at(o)||Zs(o)}return r}function Nt(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Kp(t){return!!t.deps}function Zp(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Xp(t){return typeof t=="function"||typeof t=="object"&&t instanceof F}function Xs(t,e){for(let n of t)Array.isArray(n)?Xs(n,e):n&&Kl(n)?Xs(n.\u0275providers,e):e(n)}function pD(t,e){t instanceof xn&&t.assertNotDestroyed();let n,r=je(t),o=ne(void 0);try{return e()}finally{je(r),ne(o)}}function em(t){if(!Zl()&&!kp())throw new M(-203,!1)}function tm(t){return typeof t=="function"}var ei=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function du(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function nm(){return fu}function fu(t){return t.type.prototype.ngOnChanges&&(t.setInput=om),rm}nm.ngInherit=!0;function rm(){let t=pu(this),e=t?.current;if(e){let n=t.previous;if(n===Pt)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function om(t,e,n,r,o){let s=this.declaredInputs[r],i=pu(t)||sm(t,{previous:Pt,current:null}),a=i.current||(i.current={}),c=i.previous,l=c[s];a[s]=new ei(l&&l.currentValue,n,c===Pt),du(t,e,o,n)}var hu="__ngSimpleChanges__";function pu(t){return t[hu]||null}function sm(t,e){return t[hu]=e}var Fc=null;var Ie=function(t,e,n){Fc?.(t,e,n)};function im(t,e,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:s}=e.type.prototype;if(r){let i=fu(e);(n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i)}o&&(n.preOrderHooks??=[]).push(0-t,o),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function bo(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;i&&(t.contentHooks??=[]).push(-n,i),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Pr(t,e,n){mu(t,e,3,n)}function Rr(t,e,n,r){(t[y]&3)===n&&mu(t,e,n,r)}function Ms(t,e){let n=t[y];(n&3)===e&&(n&=16383,n+=1,t[y]=n)}function mu(t,e,n,r){let o=r!==void 0?t[St]&65535:0,s=r??-1,i=e.length-1,a=0;for(let c=o;c<i;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[St]+=65536),(a<s||s==-1)&&(am(t,n,e,c),t[St]=(t[St]&4294901760)+c+2),c++}function Vc(t,e){Ie(4,t,e);let n=D(null);try{e.call(t)}finally{D(n),Ie(5,t,e)}}function am(t,e,n,r){let o=n[r]<0,s=n[r+1],i=o?-n[r]:n[r],a=t[i];o?t[y]>>14<t[St]>>16&&(t[y]&3)===e&&(t[y]+=16384,Vc(a,s)):Vc(a,s)}var kt=-1,ct=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function cm(t){return t instanceof ct}function lm(t){return(t.flags&8)!==0}function um(t){return(t.flags&16)!==0}function gu(t){return t!==kt}function Wr(t){return t&32767}function dm(t){return t>>16}function Gr(t,e){let n=dm(t),r=e;for(;n>0;)r=r[Ut],n--;return r}var ti=!0;function zr(t){let e=ti;return ti=t,e}var fm=256,vu=fm-1,yu=5,hm=0,Ee={};function pm(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(gn)&&(r=n[gn]),r==null&&(r=n[gn]=hm++);let o=r&vu,s=1<<o;e.data[t+(o>>yu)]|=s}function Qr(t,e){let n=wu(t,e);if(n!==-1)return n;let r=e[w];r.firstCreatePass&&(t.injectorIndex=e.length,Ss(r.data,t),Ss(e,null),Ss(r.blueprint,null));let o=la(t,e),s=t.injectorIndex;if(gu(o)){let i=Wr(o),a=Gr(o,e),c=a[w].data;for(let l=0;l<8;l++)e[s+l]=a[i+l]|c[i+l]}return e[s+8]=o,s}function Ss(t,e){t.push(0,0,0,0,0,0,0,0,e)}function wu(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function la(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,o=e;for(;o!==null;){if(r=xu(o),r===null)return kt;if(n++,o=o[Ut],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return kt}function ni(t,e,n){pm(t,e,n)}function mm(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,o=0;for(;o<r;){let s=n[o];if(_l(s))break;if(s===0)o=o+2;else if(typeof s=="number")for(o++;o<r&&typeof n[o]=="string";)o++;else{if(s===e)return n[o+1];o=o+2}}}return null}function _u(t,e,n){if(n&N.Optional||t!==void 0)return t;sa(e,"NodeInjector")}function bu(t,e,n,r){if(n&N.Optional&&r===void 0&&(r=null),!(n&(N.Self|N.Host))){let o=t[jt],s=ne(void 0);try{return o?o.get(e,r,n&N.Optional):Xl(e,r,n&N.Optional)}finally{ne(s)}}return _u(r,e,n)}function Iu(t,e,n,r=N.Default,o){if(t!==null){if(e[y]&2048&&!(r&N.Self)){let i=wm(t,e,n,r,Ee);if(i!==Ee)return i}let s=Eu(t,e,n,r,Ee);if(s!==Ee)return s}return bu(e,n,r,o)}function Eu(t,e,n,r,o){let s=vm(n);if(typeof s=="function"){if(!Fl(e,t,r))return r&N.Host?_u(o,n,r):bu(e,n,r,o);try{let i;if(i=s(r),i==null&&!(r&N.Optional))sa(n);else return i}finally{Ul()}}else if(typeof s=="number"){let i=null,a=wu(t,e),c=kt,l=r&N.Host?e[ue][se]:null;for((a===-1||r&N.SkipSelf)&&(c=a===-1?la(t,e):e[a+8],c===kt||!Hc(r,!1)?a=-1:(i=e[w],a=Wr(c),e=Gr(c,e)));a!==-1;){let u=e[w];if($c(s,a,u.data)){let d=gm(a,e,n,i,r,l);if(d!==Ee)return d}c=e[a+8],c!==kt&&Hc(r,e[w].data[a+8]===l)&&$c(s,a,e)?(i=u,a=Wr(c),e=Gr(c,e)):a=-1}}return o}function gm(t,e,n,r,o,s){let i=e[w],a=i.data[t+8],c=r==null?uo(a)&&ti:r!=i&&(a.type&3)!==0,l=o&N.Host&&s===a,u=Lr(a,i,n,c,l);return u!==null?lt(e,i,u,a):Ee}function Lr(t,e,n,r,o){let s=t.providerIndexes,i=e.data,a=s&1048575,c=t.directiveStart,l=t.directiveEnd,u=s>>20,d=r?a:a+u,h=o?a+u:l;for(let f=d;f<h;f++){let m=i[f];if(f<c&&n===m||f>=c&&m.type===n)return f}if(o){let f=i[c];if(f&&Ve(f)&&f.type===n)return c}return null}function lt(t,e,n,r){let o=t[n],s=e.data;if(cm(o)){let i=o;i.resolving&&Mp(Tp(s[n]));let a=zr(i.canSeeViewProviders);i.resolving=!0;let c,l=i.injectImpl?ne(i.injectImpl):null,u=Fl(t,r,N.Default);try{o=t[n]=i.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&im(n,s[n],e)}finally{l!==null&&ne(l),zr(a),i.resolving=!1,Ul()}}return o}function vm(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(gn)?t[gn]:void 0;return typeof e=="number"?e>=0?e&vu:ym:e}function $c(t,e,n){let r=1<<t;return!!(n[e+(t>>yu)]&r)}function Hc(t,e){return!(t&N.Self)&&!(t&N.Host&&e)}var nt=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Iu(this._tNode,this._lView,e,_o(r),n)}};function ym(){return new nt(Y(),I())}function mD(t){return Nn(()=>{let e=t.prototype.constructor,n=e[Vr]||ri(e),r=Object.prototype,o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){let s=o[Vr]||ri(o);if(s&&s!==n)return s;o=Object.getPrototypeOf(o)}return s=>new s})}function ri(t){return Yl(t)?()=>{let e=ri(Z(t));return e&&e()}:at(t)}function wm(t,e,n,r,o){let s=t,i=e;for(;s!==null&&i!==null&&i[y]&2048&&!(i[y]&512);){let a=Eu(s,i,n,r|N.Self,Ee);if(a!==Ee)return a;let c=s.parent;if(!c){let l=i[Sl];if(l){let u=l.get(n,Ee,r);if(u!==Ee)return u}c=xu(i),i=i[Ut]}s=c}return o}function xu(t){let e=t[w],n=e.type;return n===2?e.declTNode:n===1?t[se]:null}function gD(t){return mm(Y(),t)}function Uc(t,e=null,n=null,r){let o=Cu(t,e,n,r);return o.resolveInjectorInitializers(),o}function Cu(t,e=null,n=null,r,o=new Set){let s=[n||re,Bp(t)];return r=r||(typeof t=="object"?void 0:oe(t)),new xn(s,e||ca(),r||null,o)}var ua=(()=>{let e=class e{static create(r,o){if(Array.isArray(r))return Uc({name:""},o,r,"");{let s=r.name??"";return Uc({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=En,e.NULL=new qr,e.\u0275prov=z({token:e,providedIn:"any",factory:()=>$e(ou)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),_m="ngOriginalError";function Ns(t){return t[_m]}var ut=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Ns(e);for(;n&&Ns(n);)n=Ns(n);return n||null}},Du=new F("",{providedIn:"root",factory:()=>H(ut).handleError.bind(void 0)});var Tu=!1,bm=new F("",{providedIn:"root",factory:()=>Tu});var Sr;function Im(){if(Sr===void 0&&(Sr=null,be.trustedTypes))try{Sr=be.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Sr}function Bc(t){return Im()?.createScriptURL(t)||t}var Jr=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ml})`}};function da(t){return t instanceof Jr?t.changingThisBreaksApplicationSecurity:t}function Mu(t,e){let n=Em(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${ml})`)}return n===e}function Em(t){return t instanceof Jr&&t.getTypeName()||null}var xm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Cm(t){return t=String(t),t.match(xm)?t:"unsafe:"+t}var fa=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(fa||{});function Dm(t){let e=Su();return e?e.sanitize(fa.URL,t)||"":Mu(t,"URL")?da(t):Cm(wo(t))}function Tm(t){let e=Su();if(e)return Bc(e.sanitize(fa.RESOURCE_URL,t)||"");if(Mu(t,"ResourceURL"))return Bc(da(t));throw new M(904,!1)}function Mm(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?Tm:Dm}function vD(t,e,n){return Mm(e,n)(t)}function Su(){let t=I();return t&&t[Me].sanitizer}var Sm=/^>|^->|<!--|-->|--!>|<!-$/g,Nm=/(<|>)/g,Om="\u200B$1\u200B";function Am(t){return t.replace(Sm,e=>e.replace(Nm,Om))}var Nu=new Map,km=0;function Pm(){return km++}function Rm(t){Nu.set(t[lo],t)}function Lm(t){Nu.delete(t[lo])}var qc="__ngContext__";function Ue(t,e){tt(e)?(t[qc]=e[lo],Rm(e)):t[qc]=e}function Ou(t){return t instanceof Function?t():t}var oi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(oi||{}),jm;function ha(t,e){return jm(t,e)}function Ot(t,e,n,r,o){if(r!=null){let s,i=!1;Oe(r)?s=r:tt(r)&&(i=!0,r=r[Ne]);let a=Ce(r);t===0&&n!==null?o==null?Lu(e,n,a):Yr(e,n,a,o||null,!0):t===1&&n!==null?Yr(e,n,a,o||null,!0):t===2?Xm(e,a,i):t===3&&e.destroyNode(a),s!=null&&tg(e,t,s,n,o)}}function Fm(t,e){return t.createText(e)}function Vm(t,e,n){t.setValue(e,n)}function $m(t,e){return t.createComment(Am(e))}function Au(t,e,n){return t.createElement(e,n)}function Hm(t,e){ku(t,e),e[Ne]=null,e[se]=null}function Um(t,e,n,r,o,s){r[Ne]=o,r[se]=e,xo(t,r,n,1,o,s)}function ku(t,e){xo(t,e,e[j],2,null,null)}function Bm(t){let e=t[_n];if(!e)return Os(t[w],t);for(;e;){let n=null;if(tt(e))n=e[_n];else{let r=e[J];r&&(n=r)}if(!n){for(;e&&!e[ve]&&e!==t;)tt(e)&&Os(e[w],e),e=e[G];e===null&&(e=t),tt(e)&&Os(e[w],e),n=e&&e[ve]}e=n}}function qm(t,e,n,r){let o=J+r,s=n.length;r>0&&(n[o-1][ve]=e),r<s-J?(e[ve]=n[o],Wl(n,J+r,e)):(n.push(e),e[ve]=null),e[G]=n;let i=e[On];i!==null&&n!==i&&Wm(i,e);let a=e[Se];a!==null&&a.insertView(t),qs(e),e[y]|=128}function Wm(t,e){let n=t[Ft],o=e[G][G][ue];e[ue]!==o&&(t[y]|=zi.HasTransplantedViews),n===null?t[Ft]=[e]:n.push(e)}function Pu(t,e){let n=t[Ft],r=n.indexOf(e);n.splice(r,1)}function Cn(t,e){if(t.length<=J)return;let n=J+e,r=t[n];if(r){let o=r[On];o!==null&&o!==t&&Pu(o,r),e>0&&(t[n-1][ve]=r[ve]);let s=Hr(t,J+e);Hm(r[w],r);let i=s[Se];i!==null&&i.detachView(s[w]),r[G]=null,r[ve]=null,r[y]&=-129}return r}function Io(t,e){if(!(e[y]&256)){let n=e[j];n.destroyNode&&xo(t,e,n,3,null,null),Bm(e)}}function Os(t,e){if(e[y]&256)return;let n=D(null);try{e[y]&=-129,e[y]|=256,e[ot]&&Is(e[ot]),zm(t,e),Gm(t,e),e[w].type===1&&e[j].destroy();let r=e[On];if(r!==null&&Oe(e[G])){r!==e[G]&&Pu(r,e);let o=e[Se];o!==null&&o.detachView(t)}Lm(e)}finally{D(n)}}function Gm(t,e){let n=t.cleanup,r=e[wn];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let i=n[s+3];i>=0?r[i]():r[-i].unsubscribe(),s+=2}else{let i=r[n[s+1]];n[s].call(i)}r!==null&&(e[wn]=null);let o=e[Fe];if(o!==null){e[Fe]=null;for(let s=0;s<o.length;s++){let i=o[s];i()}}}function zm(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=e[n[r]];if(!(o instanceof ct)){let s=n[r+1];if(Array.isArray(s))for(let i=0;i<s.length;i+=2){let a=o[s[i]],c=s[i+1];Ie(4,a,c);try{c.call(a)}finally{Ie(5,a,c)}}else{Ie(4,o,s);try{s.call(o)}finally{Ie(5,o,s)}}}}}function Ru(t,e,n){return Qm(t,e.parent,n)}function Qm(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Ne];{let{componentOffset:o}=r;if(o>-1){let{encapsulation:s}=t.data[r.directiveStart+o];if(s===vn.None||s===vn.Emulated)return null}return de(r,n)}}function Yr(t,e,n,r,o){t.insertBefore(e,n,r,o)}function Lu(t,e,n){t.appendChild(e,n)}function Wc(t,e,n,r,o){r!==null?Yr(t,e,n,r,o):Lu(t,e,n)}function Jm(t,e,n,r){t.removeChild(e,n,r)}function pa(t,e){return t.parentNode(e)}function Ym(t,e){return t.nextSibling(e)}function ju(t,e,n){return Zm(t,e,n)}function Km(t,e,n){return t.type&40?de(t,n):null}var Zm=Km,Gc;function Eo(t,e,n,r){let o=Ru(t,r,e),s=e[j],i=r.parent||e[se],a=ju(i,r,e);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Wc(s,o,n[c],a,!1);else Wc(s,o,n,a,!1);Gc!==void 0&&Gc(s,r,e,n,o)}function jr(t,e){if(e!==null){let n=e.type;if(n&3)return de(e,t);if(n&4)return si(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return jr(t,r);{let o=t[e.index];return Oe(o)?si(-1,o):Ce(o)}}else{if(n&32)return ha(e,t)()||Ce(t[e.index]);{let r=Fu(t,e);if(r!==null){if(Array.isArray(r))return r[0];let o=In(t[ue]);return jr(o,r)}else return jr(t,e.next)}}}return null}function Fu(t,e){if(e!==null){let r=t[ue][se],o=e.projection;return r.projection[o]}return null}function si(t,e){let n=J+t+1;if(n<e.length){let r=e[n],o=r[w].firstChild;if(o!==null)return jr(r,o)}return e[st]}function Xm(t,e,n){let r=pa(t,e);r&&Jm(t,r,e,n)}function ma(t,e,n,r,o,s,i){for(;n!=null;){let a=r[n.index],c=n.type;if(i&&e===0&&(a&&Ue(Ce(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)ma(t,e,n.child,r,o,s,!1),Ot(e,t,o,a,s);else if(c&32){let l=ha(n,r),u;for(;u=l();)Ot(e,t,o,u,s);Ot(e,t,o,a,s)}else c&16?Vu(t,e,r,n,o,s):Ot(e,t,o,a,s);n=i?n.projectionNext:n.next}}function xo(t,e,n,r,o,s){ma(n,r,t.firstChild,e,o,s,!1)}function eg(t,e,n){let r=e[j],o=Ru(t,n,e),s=n.parent||e[se],i=ju(s,n,e);Vu(r,0,e,n,o,i)}function Vu(t,e,n,r,o,s){let i=n[ue],c=i[se].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Ot(e,t,o,u,s)}else{let l=c,u=i[G];Gl(r)&&(l.flags|=128),ma(t,e,l,u,o,s,!0)}}function tg(t,e,n,r,o){let s=n[st],i=Ce(n);s!==i&&Ot(e,t,r,s,o);for(let a=J;a<n.length;a++){let c=n[a];xo(c[w],c,t,e,r,s)}}function ng(t,e,n,r,o){if(e)o?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:oi.DashCase;o==null?t.removeStyle(n,r,s):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),s|=oi.Important),t.setStyle(n,r,o,s))}}function rg(t,e,n){t.setAttribute(e,"style",n)}function $u(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Hu(t,e,n){let{mergedAttrs:r,classes:o,styles:s}=n;r!==null&&Bs(t,e,r),o!==null&&$u(t,e,o),s!==null&&rg(t,e,s)}var qe={};function yD(t=1){Uu(V(),I(),mt()+t,!1)}function Uu(t,e,n,r){if(!r)if((e[y]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Pr(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Rr(e,s,0,n)}it(n)}function Co(t,e=N.Default){let n=I();if(n===null)return $e(t,e);let r=Y();return Iu(r,n,Z(t),e)}function Bu(t,e,n,r,o,s){let i=D(null);try{let a=null;o&Rt.SignalBased&&(a=e[r][te]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),o&Rt.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):du(e,a,r,s)}finally{D(i)}}function og(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)it(~o);else{let s=o,i=n[++r],a=n[++r];ip(i,s);let c=e[s];a(2,c)}}}finally{it(-1)}}function Do(t,e,n,r,o,s,i,a,c,l,u){let d=e.blueprint.slice();return d[Ne]=o,d[y]=r|4|128|8|64,(l!==null||t&&t[y]&2048)&&(d[y]|=2048),kl(d),d[G]=d[Ut]=t,d[Q]=n,d[Me]=i||t&&t[Me],d[j]=a||t&&t[j],d[jt]=c||t&&t[jt]||null,d[se]=s,d[lo]=Pm(),d[Lt]=u,d[Sl]=l,d[ue]=e.type==2?t[ue]:d,d}function Wt(t,e,n,r,o){let s=t.data[e];if(s===null)s=sg(t,e,n,r,o),sp()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=o;let i=np();s.injectorIndex=i===null?-1:i.injectorIndex}return pt(s,!0),s}function sg(t,e,n,r,o){let s=jl(),i=Zi(),a=i?s:s&&s.parent,c=t.data[e]=dg(t,a,n,e,r,o);return t.firstChild===null&&(t.firstChild=c),s!==null&&(i?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function qu(t,e,n,r){if(n===0)return-1;let o=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return o}function Wu(t,e,n,r,o){let s=mt(),i=r&2;try{it(-1),i&&e.length>X&&Uu(t,e,X,!1),Ie(i?2:0,o),n(r,o)}finally{it(s),Ie(i?3:1,o)}}function ga(t,e,n){if(Qi(e)){let r=D(null);try{let o=e.directiveStart,s=e.directiveEnd;for(let i=o;i<s;i++){let a=t.data[i];if(a.contentQueries){let c=n[i];a.contentQueries(1,c,i)}}}finally{D(r)}}}function va(t,e,n){Rl()&&(vg(t,e,n,de(n,e)),(n.flags&64)===64&&Ju(t,e,n))}function ya(t,e,n=de){let r=e.localNames;if(r!==null){let o=e.index+1;for(let s=0;s<r.length;s+=2){let i=r[s+1],a=i===-1?n(e,t):t[i];t[o++]=a}}}function Gu(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=wa(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function wa(t,e,n,r,o,s,i,a,c,l,u){let d=X+r,h=d+o,f=ig(d,h),m=typeof l=="function"?l():l;return f[w]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof i=="function"?i():i,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:u}}function ig(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:qe);return n}function ag(t,e,n,r){let s=r.get(bm,Tu)||n===vn.ShadowDom,i=t.selectRootElement(e,s);return cg(i),i}function cg(t){lg(t)}var lg=()=>null;function ug(t,e,n,r){let o=Zu(e);o.push(n),t.firstCreatePass&&Xu(t).push(r,o.length-1)}function dg(t,e,n,r,o,s){let i=e?e.injectorIndex:-1,a=0;return Ll()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:i,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function zc(t,e,n,r,o){for(let s in e){if(!e.hasOwnProperty(s))continue;let i=e[s];if(i===void 0)continue;r??={};let a,c=Rt.None;Array.isArray(i)?(a=i[0],c=i[1]):a=i;let l=s;if(o!==null){if(!o.hasOwnProperty(s))continue;l=o[s]}t===0?Qc(r,n,l,a,c):Qc(r,n,l,a)}return r}function Qc(t,e,n,r,o){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],o!==void 0&&s.push(o)}function fg(t,e,n){let r=e.directiveStart,o=e.directiveEnd,s=t.data,i=e.attrs,a=[],c=null,l=null;for(let u=r;u<o;u++){let d=s[u],h=n?n.get(d):null,f=h?h.inputs:null,m=h?h.outputs:null;c=zc(0,d.inputs,u,c,f),l=zc(1,d.outputs,u,l,m);let g=c!==null&&i!==null&&!Il(e)?Mg(c,u,i):null;a.push(g)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function hg(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function zu(t,e,n,r,o,s,i,a){let c=de(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(ba(t,n,u,r,o),uo(e)&&pg(n,e.index)):e.type&3?(r=hg(r),o=i!=null?i(o,e.value||"",r):o,s.setProperty(c,r,o)):e.type&12}function pg(t,e){let n=Be(e,t);n[y]&16||(n[y]|=64)}function _a(t,e,n,r){if(Rl()){let o=r===null?null:{"":-1},s=wg(t,n),i,a;s===null?i=a=null:[i,a]=s,i!==null&&Qu(t,e,n,i,o,a),o&&_g(n,r,o)}n.mergedAttrs=yn(n.mergedAttrs,n.attrs)}function Qu(t,e,n,r,o,s){for(let l=0;l<r.length;l++)ni(Qr(n,e),t,r[l].type);Ig(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let i=!1,a=!1,c=qu(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=yn(n.mergedAttrs,u.hostAttrs),Eg(t,n,e,c,u),bg(c,u,o),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!i&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),i=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}fg(t,n,s)}function mg(t,e,n,r,o){let s=o.hostBindings;if(s){let i=t.hostBindingOpCodes;i===null&&(i=t.hostBindingOpCodes=[]);let a=~e.index;gg(i)!=a&&i.push(a),i.push(n,r,s)}}function gg(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function vg(t,e,n,r){let o=n.directiveStart,s=n.directiveEnd;uo(n)&&xg(e,n,t.data[o+n.componentOffset]),t.firstCreatePass||Qr(n,e),Ue(r,e);let i=n.initialInputs;for(let a=o;a<s;a++){let c=t.data[a],l=lt(e,t,a,n);if(Ue(l,e),i!==null&&Tg(e,a-o,l,c,n,i),Ve(c)){let u=Be(n.index,e);u[Q]=lt(e,t,a,n)}}}function Ju(t,e,n){let r=n.directiveStart,o=n.directiveEnd,s=n.index,i=ap();try{it(s);for(let a=r;a<o;a++){let c=t.data[a],l=e[a];Ws(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&yg(c,l)}}finally{it(-1),Ws(i)}}function yg(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function wg(t,e){let n=t.directiveRegistry,r=null,o=null;if(n)for(let s=0;s<n.length;s++){let i=n[s];if(El(e,i.selectors,!1))if(r||(r=[]),Ve(i))if(i.findHostDirectiveDefs!==null){let a=[];o=o||new Map,i.findHostDirectiveDefs(i,a,o),r.unshift(...a,i);let c=a.length;ii(t,e,c)}else r.unshift(i),ii(t,e,0);else o=o||new Map,i.findHostDirectiveDefs?.(i,r,o),r.push(i)}return r===null?null:[r,o]}function ii(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function _g(t,e,n){if(e){let r=t.localNames=[];for(let o=0;o<e.length;o+=2){let s=n[e[o+1]];if(s==null)throw new M(-301,!1);r.push(e[o],s)}}}function bg(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ve(e)&&(n[""]=t)}}function Ig(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Eg(t,e,n,r,o){t.data[r]=o;let s=o.factory||(o.factory=at(o.type,!0)),i=new ct(s,Ve(o),Co);t.blueprint[r]=i,n[r]=i,mg(t,e,r,qu(t,n,o.hostVars,qe),o)}function xg(t,e,n){let r=de(e,t),o=Gu(n),s=t[Me].rendererFactory,i=16;n.signals?i=4096:n.onPush&&(i=64);let a=To(t,Do(t,o,null,i,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function Cg(t,e,n,r,o,s){let i=de(t,e);Dg(e[j],i,s,t.value,n,r,o)}function Dg(t,e,n,r,o,s,i){if(s==null)t.removeAttribute(e,o,n);else{let a=i==null?wo(s):i(s,r||"",o);t.setAttribute(e,o,a,n)}}function Tg(t,e,n,r,o,s){let i=s[e];if(i!==null)for(let a=0;a<i.length;){let c=i[a++],l=i[a++],u=i[a++],d=i[a++];Bu(r,n,c,l,u,d)}}function Mg(t,e,n){let r=null,o=0;for(;o<n.length;){let s=n[o];if(s===0){o+=4;continue}else if(s===5){o+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let i=t[s];for(let a=0;a<i.length;a+=3)if(i[a]===e){r.push(s,i[a+1],i[a+2],n[o+1]);break}}o+=2}return r}function Yu(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Ku(t,e){let n=t.contentQueries;if(n!==null){let r=D(null);try{for(let o=0;o<n.length;o+=2){let s=n[o],i=n[o+1];if(i!==-1){let a=t.data[i];po(s),a.contentQueries(2,e[i],i)}}}finally{D(r)}}}function To(t,e){return t[_n]?t[kc][ve]=e:t[_n]=e,t[kc]=e,e}function ai(t,e,n){po(0);let r=D(null);try{e(t,n)}finally{D(r)}}function Zu(t){return t[wn]||(t[wn]=[])}function Xu(t){return t.cleanup||(t.cleanup=[])}function ed(t,e){let n=t[jt],r=n?n.get(ut,null):null;r&&r.handleError(e)}function ba(t,e,n,r,o){for(let s=0;s<n.length;){let i=n[s++],a=n[s++],c=n[s++],l=e[i],u=t.data[i];Bu(u,l,r,a,c,o)}}function Sg(t,e,n){let r=Al(e,t);Vm(t[j],r,n)}function Ng(t,e){let n=Be(e,t),r=n[w];Og(r,n);let o=n[Ne];o!==null&&n[Lt]===null&&(n[Lt]=ia(o,n[jt])),Ia(r,n,n[Q])}function Og(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Ia(t,e,n){ta(e);try{let r=t.viewQuery;r!==null&&ai(1,r,n);let o=t.template;o!==null&&Wu(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Se]?.finishViewCreation(t),t.staticContentQueries&&Ku(t,e),t.staticViewQueries&&ai(2,t.viewQuery,n);let s=t.components;s!==null&&Ag(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[y]&=-5,na()}}function Ag(t,e){for(let n=0;n<e.length;n++)Ng(t,e[n])}function Mo(t,e,n,r){let o=D(null);try{let s=e.tView,a=t[y]&4096?4096:16,c=Do(t,s,n,a,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),l=t[e.index];c[On]=l;let u=t[Se];return u!==null&&(c[Se]=u.createEmbeddedView(s)),Ia(s,c,n),c}finally{D(o)}}function td(t,e){let n=J+e;if(n<t.length)return t[n]}function Dn(t,e){return!e||e.firstChild===null||Gl(t)}function So(t,e,n,r=!0){let o=e[w];if(qm(o,e,t,n),r){let i=si(n,t),a=e[j],c=pa(a,t[st]);c!==null&&Um(o,t[se],a,e,c,i)}let s=e[Lt];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function nd(t,e){let n=Cn(t,e);return n!==void 0&&Io(n[w],n),n}function Kr(t,e,n,r,o=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Ce(s)),Oe(s)&&kg(s,r);let i=n.type;if(i&8)Kr(t,e,n.child,r);else if(i&32){let a=ha(n,e),c;for(;c=a();)r.push(c)}else if(i&16){let a=Fu(e,n);if(Array.isArray(a))r.push(...a);else{let c=In(e[ue]);Kr(c[w],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function kg(t,e){for(let n=J;n<t.length;n++){let r=t[n],o=r[w].firstChild;o!==null&&Kr(r[w],r,o,e)}t[st]!==t[Ne]&&e.push(t[st])}var rd=[];function Pg(t){return t[ot]??Rg(t)}function Rg(t){let e=rd.pop()??Object.create(jg);return e.lView=t,e}function Lg(t){t.lView[ot]!==t&&(t.lView=null,rd.push(t))}var jg=le(ce({},fn),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{bn(t.lView)},consumerOnSignalRead(){this.lView[ot]=this}});function od(t){return id(t[_n])}function sd(t){return id(t[ve])}function id(t){for(;t!==null&&!Oe(t);)t=t[ve];return t}var ad=100;function cd(t,e=!0,n=0){let r=t[Me],o=r.rendererFactory,s=!1;s||o.begin?.();try{Fg(t,n)}catch(i){throw e&&ed(t,i),i}finally{s||(o.end?.(),r.inlineEffectRunner?.flush())}}function Fg(t,e){ci(t,e);let n=0;for(;Ki(t);){if(n===ad)throw new M(103,!1);n++,ci(t,1)}}function Vg(t,e,n,r){let o=e[y];if((o&256)===256)return;let s=!1;!s&&e[Me].inlineEffectRunner?.flush(),ta(e);let i=null,a=null;!s&&$g(t)&&(a=Pg(e),i=xr(a));try{kl(e),rp(t.bindingStartIndex),n!==null&&Wu(t,e,n,2,r);let c=(o&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&Pr(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Rr(e,d,0,null),Ms(e,0)}if(Hg(e),ld(e,0),t.contentQueries!==null&&Ku(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&Pr(e,d)}else{let d=t.contentHooks;d!==null&&Rr(e,d,1),Ms(e,1)}og(t,e);let l=t.components;l!==null&&dd(e,l,0);let u=t.viewQuery;if(u!==null&&ai(2,u,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&Pr(e,d)}else{let d=t.viewHooks;d!==null&&Rr(e,d,2),Ms(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Ar]){for(let d of e[Ar])d();e[Ar]=null}s||(e[y]&=-73)}catch(c){throw bn(e),c}finally{a!==null&&(Cr(a,i),Lg(a)),na()}}function $g(t){return t.type!==2}function ld(t,e){for(let n=od(t);n!==null;n=sd(n))for(let r=J;r<n.length;r++){let o=n[r];ud(o,e)}}function Hg(t){for(let e=od(t);e!==null;e=sd(e)){if(!(e[y]&zi.HasTransplantedViews))continue;let n=e[Ft];for(let r=0;r<n.length;r++){let o=n[r],s=o[G];Qh(o)}}}function Ug(t,e,n){let r=Be(e,t);ud(r,n)}function ud(t,e){Yi(t)&&ci(t,e)}function ci(t,e){let r=t[w],o=t[y],s=t[ot],i=!!(e===0&&o&16);if(i||=!!(o&64&&e===0),i||=!!(o&1024),i||=!!(s?.dirty&&Dr(s)),s&&(s.dirty=!1),t[y]&=-9217,i)Vg(r,t,r.template,t[Q]);else if(o&8192){ld(t,1);let a=r.components;a!==null&&dd(t,a,1)}}function dd(t,e,n){for(let r=0;r<e.length;r++)Ug(t,e[r],n)}function Ea(t){for(t[Me].changeDetectionScheduler?.notify();t;){t[y]|=64;let e=In(t);if(Hh(t)&&!e)return t;t=e}return null}var dt=class{get rootNodes(){let e=this._lView,n=e[w];return Kr(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Q]}set context(e){this._lView[Q]=e}get destroyed(){return(this._lView[y]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[G];if(Oe(e)){let n=e[$r],r=n?n.indexOf(this):-1;r>-1&&(Cn(e,r),Hr(n,r))}this._attachedToViewContainer=!1}Io(this._lView[w],this._lView)}onDestroy(e){Pl(this._lView,e)}markForCheck(){Ea(this._cdRefInjectingView||this._lView)}detach(){this._lView[y]&=-129}reattach(){qs(this._lView),this._lView[y]|=128}detectChanges(){this._lView[y]|=1024,cd(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,ku(this._lView[w],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=e,qs(this._lView)}},Zr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Wg;let t=e;return t})(),Bg=Zr,qg=class extends Bg{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let o=Mo(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new dt(o)}};function Wg(){return No(Y(),I())}function No(t,e){return t.type&4?new qg(e,t,qt(t,e)):null}var _D=new RegExp(`^(\\d+)*(${Vp}|${Fp})*(.*)`);var Gg=()=>null;function Tn(t,e){return Gg(t,e)}var li=class{},ui=class{},Xr=class{};function zg(t){let e=Error(`No component factory found for ${oe(t)}.`);return e[Qg]=t,e}var Qg="ngComponent";var di=class{resolveComponentFactory(e){throw zg(e)}},Oo=(()=>{let e=class e{};e.NULL=new di;let t=e;return t})(),fi=class{},bD=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Jg();let t=e;return t})();function Jg(){let t=I(),e=Y(),n=Be(e.index,t);return(tt(n)?n:t)[j]}var Yg=(()=>{let e=class e{};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),As={},fd=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Kg,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),hi=class extends fd{constructor(e){super(),this._lView=e}onDestroy(e){return Pl(this._lView,e),()=>Yh(this._lView,e)}};function Kg(){return new hi(I())}var Jc=new Set;function Gt(t){Jc.has(t)||(Jc.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Yc(...t){}function Zg(){let t=typeof be.requestAnimationFrame=="function",e=be[t?"requestAnimationFrame":"setTimeout"],n=be[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var xe=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new mn(!1),this.onMicrotaskEmpty=new mn(!1),this.onStable=new mn(!1),this.onError=new mn(!1),typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=Zg().nativeRequestAnimationFrame,tv(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new M(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,o){let s=this._inner,i=s.scheduleEventTask("NgZoneEvent: "+o,e,Xg,Yc,Yc);try{return s.runTask(i,n,r)}finally{s.cancelTask(i)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Xg={};function xa(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ev(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(be,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,pi(t),t.isCheckStableRunning=!0,xa(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),pi(t))}function tv(t){let e=()=>{ev(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,s,i,a)=>{if(nv(a))return n.invokeTask(o,s,i,a);try{return Kc(t),n.invokeTask(o,s,i,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Zc(t)}},onInvoke:(n,r,o,s,i,a,c)=>{try{return Kc(t),n.invoke(o,s,i,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Zc(t)}},onHasTask:(n,r,o,s)=>{n.hasTask(o,s),r===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,pi(t),xa(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,o,s)=>(n.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function pi(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Kc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Zc(t){t._nesting--,xa(t)}function nv(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var hd=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let o of r)o()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function eo(t,e,n){let r=n?t.styles:null,o=n?t.classes:null,s=0;if(e!==null)for(let i=0;i<e.length;i++){let a=e[i];if(typeof a=="number")s=a;else if(s==1)o=Tc(o,a);else if(s==2){let c=a,l=e[++i];r=Tc(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=o:t.classesWithoutHost=o}var to=class extends Oo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=rt(e);return new Mn(n,this.ngModule)}};function Xc(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function rv(t){let e=t.toLowerCase();return e==="svg"?Ol:e==="math"?Uh:null}var mi=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=_o(r);let o=this.injector.get(e,As,r);return o!==As||n===As?o:this.parentInjector.get(e,n,r)}},Mn=class extends Xr{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Xc(e.inputs);if(n!==null)for(let o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return Xc(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Rh(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,o){let s=D(null);try{o=o||this.ngModule;let i=o instanceof He?o:o?.injector;i&&this.componentDef.getStandaloneInjector!==null&&(i=this.componentDef.getStandaloneInjector(i)||i);let a=i?new mi(e,i):e,c=a.get(fi,null);if(c===null)throw new M(407,!1);let l=a.get(Yg,null),u=a.get(hd,null),d=a.get(li,null),h={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},f=c.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",g=r?ag(f,r,this.componentDef.encapsulation,a):Au(f,m,rv(m)),v=512;this.componentDef.signals?v|=4096:this.componentDef.onPush||(v|=16);let b=null;g!==null&&(b=ia(g,a,!0));let B=wa(0,null,null,1,0,null,null,null,null,null,null),R=Do(null,B,null,v,null,null,h,f,a,null,b);ta(R);let k,K;try{let ae=this.componentDef,Pe,rs=null;ae.findHostDirectiveDefs?(Pe=[],rs=new Map,ae.findHostDirectiveDefs(ae,Pe,rs),Pe.push(ae)):Pe=[ae];let Df=ov(R,g),Tf=sv(Df,g,ae,Pe,R,h,f);K=Ji(B,X),g&&cv(f,ae,g,r),n!==void 0&&lv(K,this.ngContentSelectors,n),k=av(Tf,ae,Pe,rs,R,[uv]),Ia(B,R,null)}finally{na()}return new gi(this.componentType,k,qt(K,R),R,K)}finally{D(s)}}},gi=class extends ui{constructor(e,n,r,o,s){super(),this.location=r,this._rootLView=o,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new dt(o,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,o;if(r!==null&&(o=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;ba(s[w],s,o,e,n),this.previousInputValues.set(e,n);let i=Be(this._tNode.index,s);Ea(i)}}get injector(){return new nt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function ov(t,e){let n=t[w],r=X;return t[r]=e,Wt(n,r,2,"#host",null)}function sv(t,e,n,r,o,s,i){let a=o[w];iv(r,t,e,i);let c=null;e!==null&&(c=ia(e,o[jt]));let l=s.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Do(o,Gu(n),null,u,o[t.index],t,s,l,null,null,c);return a.firstCreatePass&&ii(a,t,r.length-1),To(o,d),o[t.index]=d}function iv(t,e,n,r){for(let o of t)e.mergedAttrs=yn(e.mergedAttrs,o.hostAttrs);e.mergedAttrs!==null&&(eo(e,e.mergedAttrs,!0),n!==null&&Hu(r,n,e))}function av(t,e,n,r,o,s){let i=Y(),a=o[w],c=de(i,o);Qu(a,o,i,n,null,r);for(let u=0;u<n.length;u++){let d=i.directiveStart+u,h=lt(o,a,d,i);Ue(h,o)}Ju(a,o,i),c&&Ue(c,o);let l=lt(o,a,i.directiveStart+i.componentOffset,i);if(t[Q]=o[Q]=l,s!==null)for(let u of s)u(l,e);return ga(a,i,o),l}function cv(t,e,n,r){if(r)Bs(t,n,["ng-version","17.2.4"]);else{let{attrs:o,classes:s}=Lh(e.selectors[0]);o&&Bs(t,n,o),s&&s.length>0&&$u(t,n,s.join(" "))}}function lv(t,e,n){let r=t.projection=[];for(let o=0;o<e.length;o++){let s=n[o];r.push(s!=null?Array.from(s):null)}}function uv(){let t=Y();bo(I()[w],t)}var Ca=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=dv;let t=e;return t})();function dv(){let t=Y();return md(t,I())}var fv=Ca,pd=class extends fv{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return qt(this._hostTNode,this._hostLView)}get injector(){return new nt(this._hostTNode,this._hostLView)}get parentInjector(){let e=la(this._hostTNode,this._hostLView);if(gu(e)){let n=Gr(e,this._hostLView),r=Wr(e),o=n[w].data[r+8];return new nt(o,n)}else return new nt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=el(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-J}createEmbeddedView(e,n,r){let o,s;typeof r=="number"?o=r:r!=null&&(o=r.index,s=r.injector);let i=Tn(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,i);return this.insertImpl(a,o,Dn(this._hostTNode,i)),a}createComponent(e,n,r,o,s){let i=e&&!tm(e),a;if(i)a=n;else{let m=n||{};a=m.index,r=m.injector,o=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}let c=i?e:new Mn(rt(e)),l=r||this.parentInjector;if(!s&&c.ngModule==null){let g=(i?l:this.parentInjector).get(He,null);g&&(s=g)}let u=rt(c.componentType??{}),d=Tn(this._lContainer,u?.id??null),h=d?.firstChild??null,f=c.create(l,o,h,s);return this.insertImpl(f.hostView,a,Dn(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let o=e._lView;if(zh(o)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=o[G],l=new pd(c,c[se],c[G]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),i=this._lContainer;return So(i,o,s,r),e.attachToViewContainerRef(),Wl(ks(i),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=el(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Cn(this._lContainer,n);r&&(Hr(ks(this._lContainer),n),Io(r[w],r))}detach(e){let n=this._adjustIndex(e,-1),r=Cn(this._lContainer,n);return r&&Hr(ks(this._lContainer),n)!=null?new dt(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function el(t){return t[$r]}function ks(t){return t[$r]||(t[$r]=[])}function md(t,e){let n,r=e[t.index];return Oe(r)?n=r:(n=Yu(r,e,null,t),e[t.index]=n,To(e,n)),pv(n,e,t,r),new pd(n,t,e)}function hv(t,e){let n=t[j],r=n.createComment(""),o=de(e,t),s=pa(n,o);return Yr(n,s,r,Ym(n,o),!1),r}var pv=vv,mv=()=>!1;function gv(t,e,n){return mv(t,e,n)}function vv(t,e,n,r){if(t[st])return;let o;n.type&8?o=Ce(r):o=hv(e,n),t[st]=o}var vi=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},yi=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,o=[];for(let s=0;s<r;s++){let i=n.getByIndex(s),a=this.queries[i.indexInDeclarationView];o.push(a.clone())}return new t(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Ta(e,n).matches!==null&&this.queries[n].setDirty()}},no=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=Ev(e):this.predicate=e}},wi=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let o=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,o);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},_i=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let s=r[o];this.matchTNodeWithReadOption(e,n,yv(n,s)),this.matchTNodeWithReadOption(e,n,Lr(n,e,s,!1,!1))}else r===Zr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Lr(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===vo||o===Ca||o===Zr&&n.type&4)this.addMatch(n.index,-2);else{let s=Lr(n,e,o,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function yv(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function wv(t,e){return t.type&11?qt(t,e):t.type&4?No(t,e):null}function _v(t,e,n,r){return n===-1?wv(e,t):n===-2?bv(t,e,r):lt(t,t[w],n,e)}function bv(t,e,n){if(n===vo)return qt(e,t);if(n===Zr)return No(e,t);if(n===Ca)return md(e,t)}function gd(t,e,n,r){let o=e[Se].queries[r];if(o.matches===null){let s=t.data,i=n.matches,a=[];for(let c=0;i!==null&&c<i.length;c+=2){let l=i[c];if(l<0)a.push(null);else{let u=s[l];a.push(_v(e,u,i[c+1],n.metadata.read))}}o.matches=a}return o.matches}function bi(t,e,n,r){let o=t.queries.getByIndex(n),s=o.matches;if(s!==null){let i=gd(t,e,o,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(i[a/2]);else{let l=s[a+1],u=e[-c];for(let d=J;d<u.length;d++){let h=u[d];h[On]===h[G]&&bi(h[w],h,l,r)}if(u[Ft]!==null){let d=u[Ft];for(let h=0;h<d.length;h++){let f=d[h];bi(f[w],f,l,r)}}}}}return r}function Da(t,e){return t[Se].queries[e].queryList}function vd(t,e,n){let r=new Gs((n&4)===4);return ug(t,e,r,r.destroy),(e[Se]??=new yi).queries.push(new vi(r))-1}function yd(t,e,n){let r=V();return r.firstCreatePass&&(wd(r,new no(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),vd(r,I(),e)}function Iv(t,e,n,r){let o=V();if(o.firstCreatePass){let s=Y();wd(o,new no(e,n,r),s.index),xv(o,t),(n&2)===2&&(o.staticContentQueries=!0)}return vd(o,I(),n)}function Ev(t){return t.split(",").map(e=>e.trim())}function wd(t,e,n){t.queries===null&&(t.queries=new wi),t.queries.track(new _i(e,n))}function xv(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Ta(t,e){return t.queries.getByIndex(e)}function _d(t,e){let n=t[w],r=Ta(n,e);return r.crossesNgTemplate?bi(n,t,e,[]):gd(n,t,r,e)}function Cv(t){return typeof t=="function"&&t[te]!==void 0}function Ao(t,e){Gt("NgSignals");let n=Ec(t),r=n[te];return e?.equal&&(r.equal=e.equal),n.set=o=>pn(r,o),n.update=o=>xc(r,o),n.asReadonly=bd.bind(n),n}function bd(){let t=this[te];if(t.readonlyFn===void 0){let e=()=>this();e[te]=t,t.readonlyFn=e}return t.readonlyFn}function Id(t){return Cv(t)&&typeof t.set=="function"}function Ed(t,e){let n,r=Es(()=>{n._dirtyCounter();let o=Sv(n,t);if(e&&o===void 0)throw new M(-951,!1);return o});return n=r[te],n._dirtyCounter=Ao(0),n._flatValue=void 0,r}function Dv(){return Ed(!0,!1)}function Tv(){return Ed(!0,!0)}function Mv(t,e){let n=t[te];n._lView=I(),n._queryIndex=e,n._queryList=Da(n._lView,e),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function Sv(t,e){let n=t._lView,r=t._queryIndex;if(n===void 0||r===void 0||n[y]&4)return e?void 0:re;let o=Da(n,r),s=_d(n,r);return o.reset(s,ql),e?o.first:o._changesDetected||t._flatValue===void 0?t._flatValue=o.toArray():t._flatValue}function tl(t,e){return Dv()}function Nv(t,e){return Tv()}var ED=(tl.required=Nv,tl);function xd(t){let e=[],n=Object.create(gl);n.value=t;function r(){return hn(n),nl(n.value),n.value}function o(s){for(let i=0;i<e.length;i++)e[i](s)}return r[te]=n,r.asReadonly=bd.bind(r),r.set=s=>{n.equal(n.value,s)||(pn(n,s),o(s))},r.update=s=>{nl(n.value),r.set(s(n.value))},r.subscribe=s=>(e.push(s),()=>{let i=e.indexOf(s);i>-1&&e.splice(i,1)}),r}function nl(t){if(t===co)throw new M(-952,!1)}function rl(t){return xd(t)}function Ov(){return xd(co)}var xD=(rl.required=Ov,rl);function Av(t){return Object.getPrototypeOf(t.prototype).constructor}function kv(t){let e=Av(t.type),n=!0,r=[t];for(;e;){let o;if(Ve(t))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new M(903,!1);o=e.\u0275dir}if(o){if(n){r.push(o);let i=t;i.inputs=Nr(t.inputs),i.inputTransforms=Nr(t.inputTransforms),i.declaredInputs=Nr(t.declaredInputs),i.outputs=Nr(t.outputs);let a=o.hostBindings;a&&Fv(t,a);let c=o.viewQuery,l=o.contentQueries;if(c&&Lv(t,c),l&&jv(t,l),Pv(t,o),_h(t.outputs,o.outputs),Ve(o)&&o.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(o.data.animation)}}let s=o.features;if(s)for(let i=0;i<s.length;i++){let a=s[i];a&&a.ngInherit&&a(t),a===kv&&(n=!1)}}e=Object.getPrototypeOf(e)}Rv(r)}function Pv(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let o=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(o))continue;t.inputTransforms??={},t.inputTransforms[o]=e.inputTransforms[o]}}}function Rv(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let o=t[r];o.hostVars=e+=o.hostVars,o.hostAttrs=yn(o.hostAttrs,n=yn(n,o.hostAttrs))}}function Nr(t){return t===Pt?{}:t===re?[]:t}function Lv(t,e){let n=t.viewQuery;n?t.viewQuery=(r,o)=>{e(r,o),n(r,o)}:t.viewQuery=e}function jv(t,e){let n=t.contentQueries;n?t.contentQueries=(r,o,s)=>{e(r,o,s),n(r,o,s)}:t.contentQueries=e}function Fv(t,e){let n=t.hostBindings;n?t.hostBindings=(r,o)=>{e(r,o),n(r,o)}:t.hostBindings=e}function CD(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)&&o[3]&&(n[r]=o[3])}t.inputTransforms=n}var ft=class{},Ii=class{};var Ei=class extends ft{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new to(this);let o=Dl(e);this._bootstrapComponents=Ou(o.bootstrap),this._r3Injector=Cu(e,n,[{provide:ft,useValue:this},{provide:Oo,useValue:this.componentFactoryResolver},...r],oe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},xi=class extends Ii{constructor(e){super(),this.moduleType=e}create(e){return new Ei(this.moduleType,e,[])}};var ro=class extends ft{constructor(e){super(),this.componentFactoryResolver=new to(this),this.instance=null;let n=new xn([...e.providers,{provide:ft,useValue:this},{provide:Oo,useValue:this.componentFactoryResolver}],e.parent||ca(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Vv(t,e,n=null){return new ro({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Ma=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ze(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Cd(t){return Sa(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function $v(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Sa(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Na(t,e,n){return t[e]=n}function Hv(t,e){return t[e]}function ye(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Uv(t,e,n,r){let o=ye(t,e,n);return ye(t,e+1,r)||o}function Bv(t,e,n,r,o){let s=Uv(t,e,n,r);return ye(t,e+2,o)||s}function qv(t,e,n,r,o,s,i,a,c){let l=e.consts,u=Wt(e,t,4,i||null,Vt(l,a));_a(e,n,u,Vt(l,c)),bo(e,u);let d=u.tView=wa(2,u,r,o,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function Ci(t,e,n,r,o,s,i,a){let c=I(),l=V(),u=t+X,d=l.firstCreatePass?qv(u,l,c,e,n,r,o,s,i):l.data[u];pt(d,!1);let h=Wv(l,c,d,t);mo()&&Eo(l,c,h,d),Ue(h,c);let f=Yu(h,c,h,d);return c[u]=f,To(c,f),gv(f,d,c),fo(d)&&va(l,c,d),i!=null&&ya(c,d,a),Ci}var Wv=Gv;function Gv(t,e,n,r){return go(!0),e[j].createComment("")}function zv(t,e,n,r){let o=I(),s=Bt();if(ye(o,s,e)){let i=V(),a=ra();Cg(a,o,t,e,n,r)}return zv}function Qv(t,e,n,r){return ye(t,Bt(),n)?e+wo(n)+r:qe}function Or(t,e){return t<<17|e<<2}function ht(t){return t>>17&32767}function Jv(t){return(t&2)==2}function Yv(t,e){return t&131071|e<<17}function Di(t){return t|2}function Ht(t){return(t&131068)>>2}function Ps(t,e){return t&-131069|e<<2}function Kv(t){return(t&1)===1}function Ti(t){return t|1}function Zv(t,e,n,r,o,s){let i=s?e.classBindings:e.styleBindings,a=ht(i),c=Ht(i);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||An(d,u)>0)&&(l=!0)}else u=n;if(o)if(c!==0){let h=ht(t[a+1]);t[r+1]=Or(h,a),h!==0&&(t[h+1]=Ps(t[h+1],r)),t[a+1]=Yv(t[a+1],r)}else t[r+1]=Or(a,0),a!==0&&(t[a+1]=Ps(t[a+1],r)),a=r;else t[r+1]=Or(c,0),a===0?a=r:t[c+1]=Ps(t[c+1],r),c=r;l&&(t[r+1]=Di(t[r+1])),ol(t,u,r,!0),ol(t,u,r,!1),Xv(e,u,t,r,s),i=Or(a,c),s?e.classBindings=i:e.styleBindings=i}function Xv(t,e,n,r,o){let s=o?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&An(s,e)>=0&&(n[r+1]=Ti(n[r+1]))}function ol(t,e,n,r){let o=t[n+1],s=e===null,i=r?ht(o):Ht(o),a=!1;for(;i!==0&&(a===!1||s);){let c=t[i],l=t[i+1];ey(c,e)&&(a=!0,t[i+1]=r?Ti(l):Di(l)),i=r?ht(l):Ht(l)}a&&(t[n+1]=r?Di(o):Ti(o))}function ey(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?An(t,e)>=0:!1}function ty(t,e,n){let r=I(),o=Bt();if(ye(r,o,e)){let s=V(),i=ra();zu(s,i,r,t,e,r[j],n,!1)}return ty}function sl(t,e,n,r,o){let s=e.inputs,i=o?"class":"style";ba(t,n,s[i],i,r)}function ny(t,e,n){return Dd(t,e,n,!1),ny}function ry(t,e){return Dd(t,e,null,!0),ry}function Dd(t,e,n,r){let o=I(),s=V(),i=op(2);if(s.firstUpdatePass&&sy(s,t,i,r),e!==qe&&ye(o,i,e)){let a=s.data[mt()];uy(s,a,o,o[j],t,o[i+1]=dy(e,n),r,i)}}function oy(t,e){return e>=t.expandoStartIndex}function sy(t,e,n,r){let o=t.data;if(o[n+1]===null){let s=o[mt()],i=oy(t,n);fy(s,r)&&e===null&&!i&&(e=!1),e=iy(o,s,e,r),Zv(o,s,e,n,i,r)}}function iy(t,e,n,r){let o=cp(t),s=r?e.residualClasses:e.residualStyles;if(o===null)(r?e.classBindings:e.styleBindings)===0&&(n=Rs(null,t,e,n,r),n=Sn(n,e.attrs,r),s=null);else{let i=e.directiveStylingLast;if(i===-1||t[i]!==o)if(n=Rs(o,t,e,n,r),s===null){let c=ay(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Rs(null,t,e,c[1],r),c=Sn(c,e.attrs,r),cy(t,e,r,c))}else s=ly(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function ay(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ht(r)!==0)return t[ht(r)]}function cy(t,e,n,r){let o=n?e.classBindings:e.styleBindings;t[ht(o)]=r}function ly(t,e,n){let r,o=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<o;s++){let i=t[s].hostAttrs;r=Sn(r,i,n)}return Sn(r,e.attrs,n)}function Rs(t,e,n,r,o){let s=null,i=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<i&&(s=e[a],r=Sn(r,s.hostAttrs,o),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Sn(t,e,n){let r=n?1:2,o=-1;if(e!==null)for(let s=0;s<e.length;s++){let i=e[s];typeof i=="number"?o=i:o===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),yp(t,i,n?!0:e[++s]))}return t===void 0?null:t}function uy(t,e,n,r,o,s,i,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=Kv(l)?il(c,e,n,o,Ht(l),i):void 0;if(!oo(u)){oo(s)||Jv(l)&&(s=il(c,null,n,o,a,i));let d=Al(mt(),n);ng(r,i,d,o,s)}}function il(t,e,n,r,o,s){let i=e===null,a;for(;o>0;){let c=t[o],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[o+1];h===qe&&(h=d?re:void 0);let f=d?Ds(h,r):u===r?h:void 0;if(l&&!oo(f)&&(f=Ds(c,r)),oo(f)&&(a=f,i))return a;let m=t[o+1];o=i?ht(m):Ht(m)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Ds(c,r))}return a}function oo(t){return t!==void 0}function dy(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=oe(da(t)))),t}function fy(t,e){return(t.flags&(e?8:16))!==0}var Mi=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),o=Math.max(e,n),s=this.detach(o);if(o-r>1){let i=this.detach(r);this.attach(r,s),this.attach(o,i)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function Ls(t,e,n,r,o){return t===n&&Object.is(e,r)?1:Object.is(o(t,e),o(n,r))?-1:0}function hy(t,e,n){let r,o,s=0,i=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=i&&s<=a;){let c=t.at(s),l=e[s],u=Ls(s,c,s,l,n);if(u!==0){u<0&&t.updateValue(s,l),s++;continue}let d=t.at(i),h=e[a],f=Ls(i,d,a,h,n);if(f!==0){f<0&&t.updateValue(i,h),i--,a--;continue}let m=n(s,c),g=n(i,d),v=n(s,l);if(Object.is(v,g)){let b=n(a,h);Object.is(b,m)?(t.swap(s,i),t.updateValue(i,h),a--,i--):t.move(i,s),t.updateValue(s,l),s++;continue}if(r??=new so,o??=cl(t,s,i,n),Si(t,r,s,v))t.updateValue(s,l),s++,i++;else if(o.has(v))r.set(m,t.detach(s)),i--;else{let b=t.create(s,e[s]);t.attach(s,b),s++,i++}}for(;s<=a;)al(t,r,n,s,e[s]),s++}else if(e!=null){let a=e[Symbol.iterator](),c=a.next();for(;!c.done&&s<=i;){let l=t.at(s),u=c.value,d=Ls(s,l,s,u,n);if(d!==0)d<0&&t.updateValue(s,u),s++,c=a.next();else{r??=new so,o??=cl(t,s,i,n);let h=n(s,u);if(Si(t,r,s,h))t.updateValue(s,u),s++,i++,c=a.next();else if(!o.has(h))t.attach(s,t.create(s,u)),s++,i++,c=a.next();else{let f=n(s,l);r.set(f,t.detach(s)),i--}}}for(;!c.done;)al(t,r,n,t.length,c.value),c=a.next()}for(;s<=i;)t.destroy(t.detach(i--));r?.forEach(a=>{t.destroy(a)})}function Si(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function al(t,e,n,r,o){if(Si(t,e,r,n(r,o)))t.updateValue(r,o);else{let s=t.create(r,o);t.attach(r,s)}}function cl(t,e,n,r){let o=new Set;for(let s=e;s<=n;s++)o.add(r(s,t.at(s)));return o}var so=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(r);)r=o.get(r);o.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let o=this._vMap;for(;o.has(r);)r=o.get(r),e(r,n)}}};function DD(t,e,n){Gt("NgControlFlow");let r=I(),o=Bt(),s=ki(r,X+t),i=0;if(ye(r,o,e)){let a=D(null);try{if(nd(s,i),e!==-1){let c=Pi(r[w],X+e),l=Tn(s,c.tView.ssrId),u=Mo(r,c,n,{dehydratedView:l});So(s,u,i,Dn(c,l))}}finally{D(a)}}else{let a=td(s,i);a!==void 0&&(a[Q]=n)}}var Ni=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-J}};function TD(t){return t}var Oi=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function MD(t,e,n,r,o,s,i,a,c,l,u,d,h){Gt("NgControlFlow");let f=c!==void 0,m=I(),g=a?i.bind(m[ue][Q]):i,v=new Oi(f,g);m[X+t]=v,Ci(t+1,e,n,r,o,s),f&&Ci(t+2,c,l,u,d,h)}var Ai=class extends Mi{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-J}at(e){return this.getLView(e)[Q].$implicit}attach(e,n){let r=n[Lt];this.needsIndexUpdate||=e!==this.length,So(this.lContainer,n,e,Dn(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,py(this.lContainer,e)}create(e,n){let r=Tn(this.lContainer,this.templateTNode.tView.ssrId);return Mo(this.hostLView,this.templateTNode,new Ni(this.lContainer,n,e),{dehydratedView:r})}destroy(e){Io(e[w],e)}updateValue(e,n){this.getLView(e)[Q].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Q].$index=e}getLView(e){return my(this.lContainer,e)}};function SD(t){let e=D(null),n=mt();try{let r=I(),o=r[w],s=r[n];if(s.liveCollection===void 0){let a=n+1,c=ki(r,a),l=Pi(o,a);s.liveCollection=new Ai(c,r,l)}else s.liveCollection.reset();let i=s.liveCollection;if(hy(i,t,s.trackByFn),i.updateIndexes(),s.hasEmptyBlock){let a=Bt(),c=i.length===0;if(ye(r,a,c)){let l=n+2,u=ki(r,l);if(c){let d=Pi(o,l),h=Tn(u,d.tView.ssrId),f=Mo(r,d,void 0,{dehydratedView:h});So(u,f,0,Dn(d,h))}else nd(u,0)}}}finally{D(e)}}function ki(t,e){return t[e]}function py(t,e){return Cn(t,e)}function my(t,e){return td(t,e)}function Pi(t,e){return Ji(t,e)}function gy(t,e,n,r,o,s){let i=e.consts,a=Vt(i,o),c=Wt(e,t,2,r,a);return _a(e,n,c,Vt(i,s)),c.attrs!==null&&eo(c,c.attrs,!1),c.mergedAttrs!==null&&eo(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function Td(t,e,n,r){let o=I(),s=V(),i=X+t,a=o[j],c=s.firstCreatePass?gy(i,s,o,e,n,r):s.data[i],l=yy(s,o,c,a,e,t);o[i]=l;let u=fo(c);return pt(c,!0),Hu(a,l,c),(c.flags&32)!==32&&mo()&&Eo(s,o,l,c),Kh()===0&&Ue(l,o),Zh(),u&&(va(s,o,c),ga(s,c,o)),r!==null&&ya(o,c),Td}function Md(){let t=Y();Zi()?Xi():(t=t.parent,pt(t,!1));let e=t;ep(e)&&tp(),Xh();let n=V();return n.firstCreatePass&&(bo(n,t),Qi(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&lm(e)&&sl(n,e,I(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&um(e)&&sl(n,e,I(),e.stylesWithoutHost,!1),Md}function vy(t,e,n,r){return Td(t,e,n,r),Md(),vy}var yy=(t,e,n,r,o,s)=>(go(!0),Au(r,o,fp()));function wy(t,e,n,r,o){let s=e.consts,i=Vt(s,r),a=Wt(e,t,8,"ng-container",i);i!==null&&eo(a,i,!0);let c=Vt(s,o);return _a(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Sd(t,e,n){let r=I(),o=V(),s=t+X,i=o.firstCreatePass?wy(s,o,r,e,n):o.data[s];pt(i,!0);let a=by(o,r,i,t);return r[s]=a,mo()&&Eo(o,r,a,i),Ue(a,r),fo(i)&&(va(o,r,i),ga(o,i,r)),n!=null&&ya(r,i),Sd}function Nd(){let t=Y(),e=V();return Zi()?Xi():(t=t.parent,pt(t,!1)),e.firstCreatePass&&(bo(e,t),Qi(t)&&e.queries.elementEnd(t)),Nd}function _y(t,e,n){return Sd(t,e,n),Nd(),_y}var by=(t,e,n,r)=>(go(!0),$m(e[j],""));function ND(){return I()}var et=void 0;function Iy(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var Ey=["en",[["a","p"],["AM","PM"],et],[["AM","PM"],et,et],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],et,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],et,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",et,"{1} 'at' {0}",et],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Iy],js={};function OD(t){let e=Cy(t),n=ll(e);if(n)return n;let r=e.split("-")[0];if(n=ll(r),n)return n;if(r==="en")return Ey;throw new M(701,!1)}function ll(t){return t in js||(js[t]=be.ng&&be.ng.common&&be.ng.common.locales&&be.ng.common.locales[t]),js[t]}var xy=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(xy||{});function Cy(t){return t.toLowerCase().replace(/_/g,"-")}var io="en-US";var Dy=io;function Ty(t){typeof t=="string"&&(Dy=t.toLowerCase().replace(/_/g,"-"))}function My(t,e,n,r){let o=I(),s=V(),i=Y();return Od(s,o,o[j],i,t,e,r),My}function Sy(t,e,n,r){let o=t.cleanup;if(o!=null)for(let s=0;s<o.length-1;s+=2){let i=o[s];if(i===n&&o[s+1]===r){let a=e[wn],c=o[s+2];return a.length>c?a[c]:null}typeof i=="string"&&(s+=2)}return null}function Od(t,e,n,r,o,s,i){let a=fo(r),l=t.firstCreatePass&&Xu(t),u=e[Q],d=Zu(e),h=!0;if(r.type&3||i){let g=de(r,e),v=i?i(g):g,b=d.length,B=i?k=>i(Ce(k[r.index])):r.index,R=null;if(!i&&a&&(R=Sy(t,e,o,r.index)),R!==null){let k=R.__ngLastListenerFn__||R;k.__ngNextListenerFn__=s,R.__ngLastListenerFn__=s,h=!1}else{s=dl(r,e,u,s,!1);let k=n.listen(v,o,s);d.push(s,k),l&&l.push(o,B,b,b+1)}}else s=dl(r,e,u,s,!1);let f=r.outputs,m;if(h&&f!==null&&(m=f[o])){let g=m.length;if(g)for(let v=0;v<g;v+=2){let b=m[v],B=m[v+1],K=e[b][B].subscribe(s),ae=d.length;if(d.push(s,K),l){let Pe=typeof K=="function"?ae+1:-(ae+1);l.push(o,r.index,ae,Pe)}}}}function ul(t,e,n,r){let o=D(null);try{return Ie(6,e,n),n(r)!==!1}catch(s){return ed(t,s),!1}finally{Ie(7,e,n),D(o)}}function dl(t,e,n,r,o){return function s(i){if(i===Function)return r;let a=t.componentOffset>-1?Be(t.index,e):e;Ea(a);let c=ul(e,n,r,i),l=s.__ngNextListenerFn__;for(;l;)c=ul(e,n,l,i)&&c,l=l.__ngNextListenerFn__;return o&&c===!1&&i.preventDefault(),c}}function AD(t=1){return up(t)}function Ny(t,e){let n=null,r=Nh(t);for(let o=0;o<e.length;o++){let s=e[o];if(s==="*"){n=o;continue}if(r===null?El(t,s,!0):kh(r,s))return o}return n}function kD(t){let e=I()[ue][se];if(!e.projection){let n=t?t.length:1,r=e.projection=gp(n,null),o=r.slice(),s=e.child;for(;s!==null;){let i=t?Ny(s,t):0;i!==null&&(o[i]?o[i].projectionNext=s:r[i]=s,o[i]=s),s=s.next}}}function PD(t,e=0,n){let r=I(),o=V(),s=Wt(o,X+t,16,null,n||null);s.projection===null&&(s.projection=e),Xi(),(!r[Lt]||Ll())&&(s.flags&32)!==32&&eg(o,r,s)}function RD(t,e,n,r){Iv(t,e,n,r)}function LD(t,e,n){yd(t,e,n)}function jD(t){let e=I(),n=V(),r=ea();po(r+1);let o=Ta(n,r);if(t.dirty&&Gh(e)===((o.metadata.flags&2)===2)){if(o.matches===null)t.reset([]);else{let s=_d(e,r);t.reset(s,ql),t.notifyOnChanges()}return!0}return!1}function FD(){return Da(I(),ea())}function VD(t,e,n,r){Mv(t,yd(e,n,r))}function $D(t=1){po(ea()+t)}function Oy(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function HD(t,e=""){let n=I(),r=V(),o=t+X,s=r.firstCreatePass?Wt(r,o,1,e,null):r.data[o],i=Ay(r,n,s,e,t);n[o]=i,mo()&&Eo(r,n,i,s),pt(s,!1)}var Ay=(t,e,n,r,o)=>(go(!0),Fm(e[j],r));function ky(t){return Ad("",t,""),ky}function Ad(t,e,n){let r=I(),o=Qv(r,t,e,n);return o!==qe&&Sg(r,mt(),o),Ad}function Py(t,e,n){Id(e)&&(e=e());let r=I(),o=Bt();if(ye(r,o,e)){let s=V(),i=ra();zu(s,i,r,t,e,r[j],n,!1)}return Py}function UD(t,e){let n=Id(t);return n&&t.set(e),n}function Ry(t,e){let n=I(),r=V(),o=Y();return Od(r,n,n[j],o,t,e),Ry}function Ly(t,e,n){let r=V();if(r.firstCreatePass){let o=Ve(t);Ri(n,r.data,r.blueprint,o,!0),Ri(e,r.data,r.blueprint,o,!1)}}function Ri(t,e,n,r,o){if(t=Z(t),Array.isArray(t))for(let s=0;s<t.length;s++)Ri(t[s],e,n,r,o);else{let s=V(),i=I(),a=Y(),c=$t(t)?t:Z(t.provide),l=uu(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if($t(t)||!t.multi){let f=new ct(l,o,Co),m=Vs(c,e,o?u:u+h,d);m===-1?(ni(Qr(a,i),s,c),Fs(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(f),i.push(f)):(n[m]=f,i[m]=f)}else{let f=Vs(c,e,u+h,d),m=Vs(c,e,u,u+h),g=f>=0&&n[f],v=m>=0&&n[m];if(o&&!v||!o&&!g){ni(Qr(a,i),s,c);let b=Vy(o?Fy:jy,n.length,o,r,l);!o&&v&&(n[m].providerFactory=b),Fs(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(b),i.push(b)}else{let b=kd(n[o?m:f],l,!o&&r);Fs(s,t,f>-1?f:m,b)}!o&&r&&v&&n[m].componentProviders++}}}function Fs(t,e,n,r){let o=$t(e),s=zp(e);if(o||s){let c=(s?Z(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!o&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function kd(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Vs(t,e,n,r){for(let o=n;o<r;o++)if(e[o]===t)return o;return-1}function jy(t,e,n,r){return Li(this.multi,[])}function Fy(t,e,n,r){let o=this.multi,s;if(this.providerFactory){let i=this.providerFactory.componentProviders,a=lt(n,n[w],this.providerFactory.index,r);s=a.slice(0,i),Li(o,s);for(let c=i;c<a.length;c++)s.push(a[c])}else s=[],Li(o,s);return s}function Li(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Vy(t,e,n,r,o){let s=new ct(t,n,Co);return s.multi=[],s.index=e,s.componentProviders=0,kd(s,o,r&&!n),s}function BD(t,e=[]){return n=>{n.providersResolver=(r,o)=>Ly(r,o?o(t):t,e)}}var $y=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let o=iu(!1,r.type),s=o.length>0?Vv([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=z({token:e,providedIn:"environment",factory:()=>new e($e(He))});let t=e;return t})();function qD(t){Gt("NgStandalone"),t.getStandaloneInjector=e=>e.get($y).getOrCreateStandaloneInjector(t)}function WD(t,e,n){let r=ho()+t,o=I();return o[r]===qe?Na(o,r,n?e.call(n):e()):Hv(o,r)}function GD(t,e,n,r){return Rd(I(),ho(),t,e,n,r)}function zD(t,e,n,r,o,s){return Hy(I(),ho(),t,e,n,r,o,s)}function Pd(t,e){let n=t[e];return n===qe?void 0:n}function Rd(t,e,n,r,o,s){let i=e+n;return ye(t,i,o)?Na(t,i+1,s?r.call(s,o):r(o)):Pd(t,i+1)}function Hy(t,e,n,r,o,s,i,a){let c=e+n;return Bv(t,c,o,s,i)?Na(t,c+3,a?r.call(a,o,s,i):r(o,s,i)):Pd(t,c+3)}function QD(t,e){let n=V(),r,o=t+X;n.firstCreatePass?(r=Uy(e,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];let s=r.factory||(r.factory=at(r.type,!0)),i,a=ne(Co);try{let c=zr(!1),l=s();return zr(c),Oy(n,I(),o,l),l}finally{ne(a)}}function Uy(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function JD(t,e,n){let r=t+X,o=I(),s=Wh(o,r);return By(o,r)?Rd(o,ho(),e,s.transform,n,s):s.transform(n)}function By(t,e){return t[w].data[e].pure}function YD(t,e){return No(t,e)}var KD=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var qy=new F("");function Ld(t){return!!t&&typeof t.then=="function"}function Wy(t){return!!t&&typeof t.subscribe=="function"}var Gy=new F(""),jd=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o}),this.appInits=H(Gy,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let i=s();if(Ld(i))r.push(i);else if(Wy(i)){let a=new Promise((c,l)=>{i.subscribe({complete:c,error:l})});r.push(a)}}let o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(s=>{this.reject(s)}),r.length===0&&o(),this.initialized=!0}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zy=new F("");function Qy(){Ic(()=>{throw new M(600,!1)})}function Jy(t){return t.isBoundToModule}function Yy(t,e,n){try{let r=n();return Ld(r)?r.catch(o=>{throw e.runOutsideAngular(()=>t.handleError(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Fd=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=H(Du),this.afterRenderEffectManager=H(hd),this.componentTypes=[],this.components=[],this.isStable=H(Ma).hasPendingTasks.pipe(me(r=>!r)),this._injector=H(He)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,o){let s=r instanceof Xr;if(!this._injector.get(jd).done){let f=!s&&Vh(r),m=!1;throw new M(405,m)}let a;s?a=r:a=this._injector.get(Oo).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=Jy(a)?void 0:this._injector.get(ft),l=o||a.selector,u=a.create(ua.NULL,[],l,c),d=u.location.nativeElement,h=u.injector.get(qy,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),$s(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new M(101,!1);let r=D(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,D(r)}}detectChangesInAttachedViews(){let r=0,o=this.afterRenderEffectManager;for(;;){if(r===ad)throw new M(103,!1);let s=r===0;for(let{_lView:i,notifyErrorHandler:a}of this._views)!s&&!Hs(i)||this.detectChangesInView(i,a,s);if(r++,o.executeInternalCallbacks(),!this._views.some(({_lView:i})=>Hs(i))&&(o.execute(),!this._views.some(({_lView:i})=>Hs(i))))break}}detectChangesInView(r,o,s){let i;s?(i=0,r[y]|=1024):r[y]&64?i=0:i=1,cd(r,o,i)}attachView(r){let o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){let o=r;$s(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let o=this._injector.get(zy,[]);[...this._bootstrapListeners,...o].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>$s(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new M(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $s(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Hs(t){return Ki(t)}var ji=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},ZD=(()=>{let e=class e{compileModuleSync(r){return new xi(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let o=this.compileModuleSync(r),s=Dl(r),i=Ou(s.declarations).reduce((a,c)=>{let l=rt(c);return l&&a.push(new Mn(l)),a},[]);return new ji(o,i)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ky=(()=>{let e=class e{constructor(){this.zone=H(xe),this.applicationRef=H(Fd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Zy(t){return[{provide:xe,useFactory:t},{provide:Br,multi:!0,useFactory:()=>{let e=H(Ky,{optional:!0});return()=>e.initialize()}},{provide:Br,multi:!0,useFactory:()=>{let e=H(nw);return()=>{e.initialize()}}},{provide:Du,useFactory:Xy}]}function Xy(){let t=H(xe),e=H(ut);return n=>t.runOutsideAngular(()=>e.handleError(n))}function ew(t){let e=Zy(()=>new xe(tw(t)));return Up([[],e])}function tw(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var nw=(()=>{let e=class e{constructor(){this.subscription=new q,this.initialized=!1,this.zone=H(xe),this.pendingTasks=H(Ma)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{xe.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{xe.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rw(){return typeof $localize<"u"&&$localize.locale||io}var Vd=new F("",{providedIn:"root",factory:()=>H(Vd,N.Optional|N.SkipSelf)||rw()});var $d=new F("");var Fr=null;function ow(t=[],e){return ua.create({name:e,providers:[{provide:lu,useValue:"platform"},{provide:$d,useValue:new Set([()=>Fr=null])},...t]})}function sw(t=[]){if(Fr)return Fr;let e=ow(t);return Fr=e,Qy(),iw(e),e}function iw(t){t.get(Cp,null)?.forEach(n=>n())}var aw=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=cw;let t=e;return t})();function cw(t){return lw(Y(),I(),(t&16)===16)}function lw(t,e,n){if(uo(t)&&!n){let r=Be(t.index,e);return new dt(r,r)}else if(t.type&47){let r=e[ue];return new dt(r,e)}return null}var Fi=class{constructor(){}supports(e){return Cd(e)}create(e){return new Vi(e)}},uw=(t,e)=>e,Vi=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||uw}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,o=0,s=null;for(;n||r;){let i=!r||n&&n.currentIndex<fl(r,o,s)?n:r,a=fl(i,o,s),c=i.currentIndex;if(i===r)o--,r=r._nextRemoved;else if(n=n._next,i.previousIndex==null)o++;else{s||(s=[]);let l=a-o,u=c-o;if(l!=u){for(let h=0;h<l;h++){let f=h<s.length?s[h]:s[h]=0,m=f+h;u<=m&&m<l&&(s[h]=f+1)}let d=i.previousIndex;s[d]=u-l}}a!==c&&e(i,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Cd(e))throw new M(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,o,s,i;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],i=this._trackByFn(a,s),n===null||!Object.is(n.trackById,i)?(n=this._mismatch(n,s,i,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,i,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else o=0,$v(e,a=>{i=this._trackByFn(o,a),n===null||!Object.is(n.trackById,i)?(n=this._mismatch(n,a,i,o),r=!0):(r&&(n=this._verifyReinsertion(n,a,i,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,o){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,o)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,o),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,o)):e=this._addAfter(new $i(n,r),s,o)),e}_verifyReinsertion(e,n,r,o){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let o=e._prevRemoved,s=e._nextRemoved;return o===null?this._removalsHead=s:o._nextRemoved=s,s===null?this._removalsTail=o:s._prevRemoved=o,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let o=n===null?this._itHead:n._next;return e._next=o,e._prev=n,o===null?this._itTail=e:o._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new ao),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ao),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},$i=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Hi=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},ao=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Hi,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,o=this.map.get(r);return o?o.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function fl(t,e,n){let r=t.previousIndex;if(r===null)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+e+o}var Ui=class{constructor(){}supports(e){return e instanceof Map||Sa(e)}create(){return new Bi}},Bi=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Sa(e)))throw new M(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,o)=>{if(n&&n.key===o)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(o,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let o=this._records.get(e);this._maybeAddToChanges(o,n);let s=o._prev,i=o._next;return s&&(s._next=i),i&&(i._prev=s),o._next=null,o._prev=null,o}let r=new qi(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},qi=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function hl(){return new dw([new Fi])}var dw=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,o){if(o!=null){let s=o.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||hl()),deps:[[e,new ru,new nu]]}}find(r){let o=this.factories.find(s=>s.supports(r));if(o!=null)return o;throw new M(901,!1)}};e.\u0275prov=z({token:e,providedIn:"root",factory:hl});let t=e;return t})();function pl(){return new fw([new Ui])}var fw=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,o){if(o){let s=o.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||pl()),deps:[[e,new ru,new nu]]}}find(r){let o=this.factories.find(s=>s.supports(r));if(o)return o;throw new M(901,!1)}};e.\u0275prov=z({token:e,providedIn:"root",factory:pl});let t=e;return t})();function XD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,o=sw(r),s=[ew(),...n||[]],a=new ro({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(xe);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(ut,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:f=>{l.handleError(f)}})});let d=()=>a.destroy(),h=o.get($d);return h.add(d),a.onDestroy(()=>{u.unsubscribe(),h.delete(d)}),Yy(l,c,()=>{let f=a.get(jd);return f.runInitializers(),f.donePromise.then(()=>{let m=a.get(Vd,io);Ty(m||io);let g=a.get(Fd);return e!==void 0&&g.bootstrap(e),g})})})}catch(e){return Promise.reject(e)}}function eT(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function tT(t,e){Gt("NgSignals");let n=Es(t);return e?.equal&&(n[te].equal=e.equal),n}function nT(t){let e=D(null);try{return t()}finally{D(e)}}var hw=new F("",{providedIn:"root",factory:()=>H(pw)}),pw=(()=>{let e=class e{};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>new Wi});let t=e;return t})(),Wi=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=H(Ma),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},Gi=class{constructor(e,n,r,o,s,i){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=s,this.watcher=Cc(a=>this.runEffect(a),()=>this.schedule(),i),this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(ut,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function mw(t,e){Gt("NgSignals"),!e?.injector&&em(mw);let n=e?.injector??H(ua),r=e?.manualCleanup!==!0?n.get(fd):null,o=new Gi(n.get(hw),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),s=n.get(aw,null,{optional:!0});return!s||!(s._lView[y]&8)?o.watcher.notify():(s._lView[Ar]??=[]).push(o.watcher.notify),o}var Hd=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-2UTJ4IR6.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};var kn=class extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}},ko=class extends kn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Po=class extends kn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Ro=class extends kn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var vw=function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(u){try{l(r.next(u))}catch(d){i(d)}}function c(u){try{l(r.throw(u))}catch(d){i(d)}}function l(u){u.done?s(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},Pn=class{constructor(e,{headers:n={},customFetch:r}={}){this.url=e,this.headers=n,this.fetch=Hd(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return vw(this,void 0,void 0,function*(){try{let{headers:o,method:s,body:i}=n,a={},c;i&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=i):typeof i=="string"?(a["Content-Type"]="text/plain",c=i):typeof FormData<"u"&&i instanceof FormData?c=i:(a["Content-Type"]="application/json",c=JSON.stringify(i)));let l=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),o),body:c}).catch(f=>{throw new ko(f)}),u=l.headers.get("x-relay-error");if(u&&u==="true")throw new Po(l);if(!l.ok)throw new Ro(l);let d=((r=l.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return d==="application/json"?h=yield l.json():d==="application/octet-stream"?h=yield l.blob():d==="multipart/form-data"?h=yield l.formData():h=yield l.text(),{data:h,error:null}}catch(o){return{data:null,error:o}}})}};var Lo=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};var Rn=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Kn:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(s=>p(this,null,function*(){var i,a,c;let l=null,u=null,d=null,h=s.status,f=s.statusText;if(s.ok){if(this.method!=="HEAD"){let b=yield s.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=b:u=JSON.parse(b))}let g=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),v=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&v&&v.length>1&&(d=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let g=yield s.text();try{l=JSON.parse(g),Array.isArray(l)&&s.status===404&&(u=[],l=null,h=200,f="OK")}catch{s.status===404&&g===""?(h=204,f="No Content"):l={message:g}}if(l&&this.isMaybeSingle&&(!((c=l?.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,h=200,f="OK"),l&&this.shouldThrowOnError)throw new Lo(l)}return{error:l,data:u,count:d,status:h,statusText:f}}));return this.shouldThrowOnError||(o=o.catch(s=>{var i,a,c;return{error:{message:`${(i=s?.name)!==null&&i!==void 0?i:"FetchError"}: ${s?.message}`,details:`${(a=s?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=s?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(e,n)}};var Ln=class extends Rn{select(e){let n=!1,r=(e??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:s=o}={}){let i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:o=r}={}){let s=typeof o>"u"?"offset":`${o}.offset`,i=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:s=!1,format:i="text"}={}){var a;let c=[e?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${l}"; options=${c};`,i==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};var we=class extends Ln{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){let r=n.map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:o}={}){let s="";o==="plain"?s="pl":o==="phrase"?s="ph":o==="websearch"&&(s="w");let i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};var jn=class{constructor(e,{headers:n={},schema:r,fetch:o}){this.url=e,this.headers=n,this.schema=r,this.fetch=o}select(e,{head:n=!1,count:r}={}){let o=n?"HEAD":"GET",s=!1,i=(e??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new we({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){let o="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){let i=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(i.length>0){let a=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new we({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:s=!0}={}){let i="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),o&&a.push(`count=${o}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){let c=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){let l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new we({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){let r="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),this.headers.Prefer=o.join(","),new we({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){let n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new we({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};var Ud="1.9.2";var Bd={"X-Client-Info":`postgrest-js/${Ud}`};var Fn=class t{constructor(e,{headers:n={},schema:r,fetch:o}={}){this.url=e,this.headers=Object.assign(Object.assign({},Bd),n),this.schemaName=r,this.fetch=o}from(e){let n=new URL(`${this.url}/${e}`);return new jn(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new t(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,count:o}={}){let s,i=new URL(`${this.url}/rpc/${e}`),a;r?(s="HEAD",Object.entries(n).forEach(([l,u])=>{i.searchParams.append(l,`${u}`)})):(s="POST",a=n);let c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new we({method:s,url:i,headers:c,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};var qd="2.9.3";var Wd={"X-Client-Info":`realtime-js/${qd}`},Gd="1.0.0",jo=1e4,zd=1e3,zt=function(t){return t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed",t}(zt||{}),ie=function(t){return t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving",t}(ie||{}),fe=function(t){return t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token",t}(fe||{}),Oa=function(t){return t.websocket="websocket",t}(Oa||{}),gt=function(t){return t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed",t}(gt||{});var Qt=class{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Fo=class{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){let n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){let o=n.getUint8(1),s=n.getUint8(2),i=this.HEADER_LENGTH+2,a=r.decode(e.slice(i,i+o));i=i+o;let c=r.decode(e.slice(i,i+s));i=i+s;let l=JSON.parse(r.decode(e.slice(i,e.byteLength)));return{ref:null,topic:a,event:c,payload:l}}};var Jt=class{constructor(e,n,r={},o=jo){this.channel=e,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var Vn=class t{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:s,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=t.syncState(this.state,o,s,i),this.pendingDiffs.forEach(c=>{this.state=t.syncDiff(this.state,c,s,i)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:s,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=t.syncDiff(this.state,o,s,i),a())}),this.onJoin((o,s,i)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:s,newPresences:i})}),this.onLeave((o,s,i)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:s,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,o){let s=this.cloneDeep(e),i=this.transformState(n),a={},c={};return this.map(s,(l,u)=>{i[l]||(c[l]=u)}),this.map(i,(l,u)=>{let d=s[l];if(d){let h=u.map(v=>v.presence_ref),f=d.map(v=>v.presence_ref),m=u.filter(v=>f.indexOf(v.presence_ref)<0),g=d.filter(v=>h.indexOf(v.presence_ref)<0);m.length>0&&(a[l]=m),g.length>0&&(c[l]=g)}else a[l]=u}),this.syncDiff(s,{joins:a,leaves:c},r,o)}static syncDiff(e,n,r,o){let{joins:s,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(s,(a,c)=>{var l;let u=(l=e[a])!==null&&l!==void 0?l:[];if(e[a]=this.cloneDeep(c),u.length>0){let d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,u,c)}),this.map(i,(a,c)=>{let l=e[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=l,o(a,l,c),l.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{let o=e[r];return"metas"in o?n[r]=o.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var P=function(t){return t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange",t}(P||{}),ka=(t,e,n={})=>{var r;let o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,i)=>(s[i]=yw(i,t,e,o),s),{})},yw=(t,e,n,r)=>{let o=e.find(a=>a.name===t),s=o?.type,i=n[t];return s&&!r.includes(s)?Qd(s,i):Aa(i)},Qd=(t,e)=>{if(t.charAt(0)==="_"){let n=t.slice(1,t.length);return Iw(e,n)}switch(t){case P.bool:return ww(e);case P.float4:case P.float8:case P.int2:case P.int4:case P.int8:case P.numeric:case P.oid:return _w(e);case P.json:case P.jsonb:return bw(e);case P.timestamp:return Ew(e);case P.abstime:case P.date:case P.daterange:case P.int4range:case P.int8range:case P.money:case P.reltime:case P.text:case P.time:case P.timestamptz:case P.timetz:case P.tsrange:case P.tstzrange:return Aa(e);default:return Aa(e)}},Aa=t=>t,ww=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},_w=t=>{if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return e}return t},bw=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Iw=(t,e)=>{if(typeof t!="string")return t;let n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s,i=t.slice(1,n);try{s=JSON.parse("["+i+"]")}catch{s=i?i.split(","):[]}return s.map(a=>Qd(e,a))}return t},Ew=t=>typeof t=="string"?t.replace(" ","T"):t;var $n=class t{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},n.config),this.timeout=this.socket.timeout,this.joinPush=new Jt(this,fe.join,this.params,this.timeout),this.rejoinTimer=new Qt(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ie.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fe.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new Vn(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,n=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:s,presence:i}}=this.params;this._onError(l=>e&&e("CHANNEL_ERROR",l)),this._onClose(()=>e&&e("CLOSED"));let a={},c={broadcast:s,presence:i,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(l=>l.filter))!==null&&o!==void 0?o:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:l})=>{var u;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),l===void 0){e&&e("SUBSCRIBED");return}else{let d=this.bindings.postgres_changes,h=(u=d?.length)!==null&&u!==void 0?u:0,f=[];for(let m=0;m<h;m++){let g=d[m],{filter:{event:v,schema:b,table:B,filter:R}}=g,k=l&&l[m];if(k&&k.event===v&&k.schema===b&&k.table===B&&k.filter===R)f.push(Object.assign(Object.assign({},g),{id:k.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,e&&e("SUBSCRIBED");return}}).receive("error",l=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(l).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(r){return p(this,arguments,function*(e,n={}){return yield this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)})}untrack(){return p(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,n,r){return this._on(e,n,r)}send(r){return p(this,arguments,function*(e,n={}){var o,s;if(!this._canPush()&&e.type==="broadcast"){let{event:i,payload:a}=e,c={method:"POST",headers:{apikey:(o=this.socket.apiKey)!==null&&o!==void 0?o:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a}]})};try{return(yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=n.timeout)!==null&&s!==void 0?s:this.timeout)).ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,c,l;let u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("timeout",()=>i("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ie.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fe.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let o=new Jt(this,fe.leave,{},e);o.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}_broadcastEndpointURL(){let e=this.socket.endPoint;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"}_fetchWithTimeout(e,n,r){return p(this,null,function*(){let o=new AbortController,s=setTimeout(()=>o.abort(),r),i=yield this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(s),i})}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Jt(this,e,n,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var o,s;let i=e.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=fe;if(r&&[a,c,l,u].indexOf(i)>=0&&r!==this._joinRef())return;let h=this._onMessage(i,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var m,g,v;return((m=f.filter)===null||m===void 0?void 0:m.event)==="*"||((v=(g=f.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===i}).map(f=>f.callback(h,r)):(s=this.bindings[i])===null||s===void 0||s.filter(f=>{var m,g,v,b,B,R;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in f){let k=f.id,K=(m=f.filter)===null||m===void 0?void 0:m.event;return k&&((g=n.ids)===null||g===void 0?void 0:g.includes(k))&&(K==="*"||K?.toLocaleLowerCase()===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{let k=(B=(b=f?.filter)===null||b===void 0?void 0:b.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return k==="*"||k===((R=n?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===i}).map(f=>{if(typeof h=="object"&&"ids"in h){let m=h.data,{schema:g,table:v,commit_timestamp:b,type:B,errors:R}=m;h=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:b,eventType:B,new:{},old:{},errors:R}),this._getPayloadRecords(m))}f.callback(h,r)})}_isClosed(){return this.state===ie.closed}_isJoined(){return this.state===ie.joined}_isJoining(){return this.state===ie.joining}_isLeaving(){return this.state===ie.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){let o=e.toLocaleLowerCase(),s={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(s):this.bindings[o]=[s],this}_off(e,n){let r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var s;return!(((s=o.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&t.isEqual(o.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(let r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(fe.close,{},e)}_onError(e){this._on(fe.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ie.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=ka(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=ka(e.columns,e.old_record)),n}};var Cw=()=>{},Dw=typeof WebSocket<"u",Hn=class{constructor(e,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=Wd,this.params={},this.timeout=jo,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Cw,this.conn=null,this.sendBuffer=[],this.serializer=new Fo,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...a)=>import("./chunk-2UTJ4IR6.js").then(({default:c})=>c(...a)):i=fetch,(...a)=>i(...a)},this.endPoint=`${e}/${Oa.websocket}`,n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);let o=(r=n?.params)===null||r===void 0?void 0:r.apikey;o&&(this.accessToken=o,this.apiKey=o),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n?.encode?n.encode:(s,i)=>i(JSON.stringify(s)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Qt(()=>p(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Dw){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Pa(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-7EJ4JCZP.js").then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(e){return p(this,null,function*(){let n=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return p(this,null,function*(){let e=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e})}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case zt.connecting:return gt.Connecting;case zt.open:return gt.Open;case zt.closing:return gt.Closing;default:return gt.Closed}}isConnected(){return this.connectionState()===gt.Open}channel(e,n={config:{}}){let r=new $n(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){let{topic:n,event:r,payload:o,ref:s}=e,i=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${s})`,o),this.isConnected()?i():this.sendBuffer.push(i)}setAuth(e){this.accessToken=e,this.channels.forEach(n=>{e&&n.updateJoinPayload({access_token:e}),n.joinedOnce&&n._isJoined()&&n._push(fe.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Gd}))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:o,payload:s,ref:i}=n;(i&&i===this.pendingHeartbeatRef||o===s?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${o} ${i&&"("+i+")"||""}`,s),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(o,s,i)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(fe.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;let r=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${r}${o}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(zd,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}};var Pa=class{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=zt.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}};var Yt=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function U(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Vo=class extends Yt{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Un=class extends Yt{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}};var Tw=function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(u){try{l(r.next(u))}catch(d){i(d)}}function c(u){try{l(r.throw(u))}catch(d){i(d)}}function l(u){u.done?s(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},$o=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-2UTJ4IR6.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Jd=()=>Tw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-2UTJ4IR6.js")).Response:Response});var Kt=function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(u){try{l(r.next(u))}catch(d){i(d)}}function c(u){try{l(r.throw(u))}catch(d){i(d)}}function l(u){u.done?s(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},Ra=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Mw=(t,e)=>Kt(void 0,void 0,void 0,function*(){let n=yield Jd();t instanceof n?t.json().then(r=>{e(new Vo(Ra(r),t.status||500))}).catch(r=>{e(new Un(Ra(r),r))}):e(new Un(Ra(t),t))}),Sw=(t,e,n,r)=>{let o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};function Ho(t,e,n,r,o,s){return Kt(this,void 0,void 0,function*(){return new Promise((i,a)=>{t(n,Sw(e,r,o,s)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>Mw(c,a))})})}function Bn(t,e,n,r){return Kt(this,void 0,void 0,function*(){return Ho(t,"GET",e,n,r)})}function De(t,e,n,r,o){return Kt(this,void 0,void 0,function*(){return Ho(t,"POST",e,r,o,n)})}function Yd(t,e,n,r,o){return Kt(this,void 0,void 0,function*(){return Ho(t,"PUT",e,r,o,n)})}function Uo(t,e,n,r,o){return Kt(this,void 0,void 0,function*(){return Ho(t,"DELETE",e,r,o,n)})}var he=function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(u){try{l(r.next(u))}catch(d){i(d)}}function c(u){try{l(r.throw(u))}catch(d){i(d)}}function l(u){u.done?s(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},Nw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Kd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Bo=class{constructor(e,n={},r,o){this.url=e,this.headers=n,this.bucketId=r,this.fetch=$o(o)}uploadOrUpdate(e,n,r,o){return he(this,void 0,void 0,function*(){try{let s,i=Object.assign(Object.assign({},Kd),o),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",i.cacheControl)):(s=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType);let c=this._removeEmptyFolders(n),l=this._getFinalPath(c),u=yield this.fetch(`${this.url}/object/${l}`,Object.assign({method:e,body:s,headers:a},i?.duplex?{duplex:i.duplex}:{})),d=yield u.json();return u.ok?{data:{path:c,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(s){if(U(s))return{data:null,error:s};throw s}})}upload(e,n,r){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,o){return he(this,void 0,void 0,function*(){let s=this._removeEmptyFolders(e),i=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",n);try{let c,l=Object.assign({upsert:Kd.upsert},o),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);let d=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:u}),h=yield d.json();return d.ok?{data:{path:s,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(U(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e){return he(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),r=yield De(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:this.headers}),o=new URL(this.url+r.url),s=o.searchParams.get("token");if(!s)throw new Yt("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:s},error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}})}update(e,n,r){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n){return he(this,void 0,void 0,function*(){try{return{data:yield De(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n},{headers:this.headers}),error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}})}copy(e,n){return he(this,void 0,void 0,function*(){try{return{data:{path:(yield De(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n},{headers:this.headers})).Key},error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,r){return he(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),s=yield De(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(o){if(U(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,r){return he(this,void 0,void 0,function*(){try{let o=yield De(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${s}`):null})),error:null}}catch(o){if(U(o))return{data:null,error:o};throw o}})}download(e,n){return he(this,void 0,void 0,function*(){let o=typeof n?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(n?.transform||{}),i=s?`?${s}`:"";try{let a=this._getFinalPath(e);return{data:yield(yield Bn(this.fetch,`${this.url}/${o}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(U(a))return{data:null,error:a};throw a}})}getPublicUrl(e,n){let r=this._getFinalPath(e),o=[],s=n?.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&o.push(s);let a=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&o.push(c);let l=o.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(e){return he(this,void 0,void 0,function*(){try{return{data:yield Uo(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}})}list(e,n,r){return he(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},Nw),n),{prefix:e||""});return{data:yield De(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(U(o))return{data:null,error:o};throw o}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}};var Zd="2.5.5";var Xd={"X-Client-Info":`storage-js/${Zd}`};var Zt=function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(u){try{l(r.next(u))}catch(d){i(d)}}function c(u){try{l(r.throw(u))}catch(d){i(d)}}function l(u){u.done?s(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},qo=class{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},Xd),n),this.fetch=$o(r)}listBuckets(){return Zt(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(U(e))return{data:null,error:e};throw e}})}getBucket(e){return Zt(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Zt(this,void 0,void 0,function*(){try{return{data:yield De(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Zt(this,void 0,void 0,function*(){try{return{data:yield Yd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Zt(this,void 0,void 0,function*(){try{return{data:yield De(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Zt(this,void 0,void 0,function*(){try{return{data:yield Uo(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}})}};var qn=class extends qo{constructor(e,n={},r){super(e,n,r)}from(e){return new Bo(this.url,this.headers,e,this.fetch)}};var ef="2.39.7";var Wn="";typeof Deno<"u"?Wn="deno":typeof document<"u"?Wn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wn="react-native":Wn="node";var Ow={"X-Client-Info":`supabase-js-${Wn}/${ef}`},tf={headers:Ow},nf={schema:"public"},rf={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},of={};var Aw=function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(u){try{l(r.next(u))}catch(d){i(d)}}function c(u){try{l(r.throw(u))}catch(d){i(d)}}function l(u){u.done?s(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},kw=t=>{let e;return t?e=t:typeof fetch>"u"?e=Kn:e=fetch,(...n)=>e(...n)},Pw=()=>typeof Headers>"u"?$a:Headers,sf=(t,e,n)=>{let r=kw(n),o=Pw();return(s,i)=>Aw(void 0,void 0,void 0,function*(){var a;let c=(a=yield e())!==null&&a!==void 0?a:t,l=new o(i?.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(s,Object.assign(Object.assign({},i),{headers:l}))})};function af(t){return t.replace(/\/$/,"")}function cf(t,e){let{db:n,auth:r,realtime:o,global:s}=t,{db:i,auth:a,realtime:c,global:l}=e;return{db:Object.assign(Object.assign({},i),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign({},l),s)}}function lf(t){return Math.round(Date.now()/1e3)+t}function uf(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}var _e=()=>typeof document<"u",vt={tested:!1,writable:!1},We=()=>{if(!_e())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vt.tested)return vt.writable;let t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),vt.tested=!0,vt.writable=!0}catch{vt.tested=!0,vt.writable=!1}return vt.writable};function Wo(t){let e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,s)=>{e[s]=o})}catch{}return n.searchParams.forEach((r,o)=>{e[o]=r}),e}var Go=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-2UTJ4IR6.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},df=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ge=(t,e,n)=>p(void 0,null,function*(){yield t.setItem(e,JSON.stringify(n))}),zn=(t,e)=>p(void 0,null,function*(){let n=yield t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),zo=(t,e)=>p(void 0,null,function*(){yield t.removeItem(e)});function Rw(t){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="",r,o,s,i,a,c,l,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)i=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),r=i<<2|a>>4,o=(a&15)<<4|c>>2,s=(c&3)<<6|l,n=n+String.fromCharCode(r),c!=64&&o!=0&&(n=n+String.fromCharCode(o)),l!=64&&s!=0&&(n=n+String.fromCharCode(s));return n}var Gn=class t{constructor(){this.promise=new t.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};Gn.promiseConstructor=Promise;function La(t){let e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");let r=n[1];return JSON.parse(Rw(r))}function ff(t){return p(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),t)})})}function hf(t,e){return new Promise((r,o)=>{p(this,null,function*(){for(let s=0;s<1/0;s++)try{let i=yield t(s);if(!e(s,null,i)){r(i);return}}catch(i){if(!e(s,i)){o(i);return}}})})}function Lw(t){return("0"+t.toString(16)).substr(-2)}function yt(){let e=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,o="";for(let s=0;s<56;s++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,Lw).join("")}function jw(t){return p(this,null,function*(){let n=new TextEncoder().encode(t),r=yield crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(s=>String.fromCharCode(s)).join("")})}function Fw(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function wt(t){return p(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;let n=yield jw(t);return Fw(n)})}var Qn=class extends Error{constructor(e,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n}};function C(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}var Qo=class extends Qn{constructor(e,n){super(e,n),this.name="AuthApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}};function pf(t){return C(t)&&t.name==="AuthApiError"}var Xt=class extends Qn{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}},Ae=class extends Qn{constructor(e,n,r){super(e),this.name=n,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}},ke=class extends Ae{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}},en=class extends Ae{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}},_t=class extends Ae{constructor(e){super(e,"AuthInvalidCredentialsError",400)}},bt=class extends Ae{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Jn=class extends Ae{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},tn=class extends Ae{constructor(e,n){super(e,"AuthRetryableFetchError",n)}};function Yo(t){return C(t)&&t.name==="AuthRetryableFetchError"}var Jo=class extends Ae{constructor(e,n,r){super(e,"AuthWeakPasswordError",n),this.reasons=r}};var Vw=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},nn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),$w=[502,503,504];function mf(t){return p(this,null,function*(){if(!df(t))throw new tn(nn(t),0);if($w.includes(t.status))throw new tn(nn(t),t.status);let e;try{e=yield t.json()}catch(n){throw new Xt(nn(n),n)}throw typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)?new Jo(nn(e),t.status,e.weak_password.reasons):new Qo(nn(e),t.status||500)})}var Hw=(t,e,n,r)=>{let o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};function S(t,e,n,r){return p(this,null,function*(){var o;let s=Object.assign({},r?.headers);r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);let i=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(i.redirect_to=r.redirectTo);let a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=yield Uw(t,e,n+a,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function Uw(t,e,n,r,o,s){return p(this,null,function*(){let i=Hw(e,r,o,s),a;try{a=yield t(n,i)}catch(c){throw console.error(c),new tn(nn(c),0)}if(a.ok||(yield mf(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield mf(c)}})}function ze(t){var e;let n=null;Bw(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=lf(t.expires_in)));let r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function ja(t){let e=ze(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Te(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function gf(t){return{data:t,error:null}}function vf(t){let{action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:s}=t,i=Vw(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:s},c=Object.assign({},i);return{data:{properties:a,user:c},error:null}}function yf(t){return t}function Bw(t){return t.access_token&&t.refresh_token&&t.expires_in}var qw=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},rn=class{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Go(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(e,n="global"){return p(this,null,function*(){try{return yield S(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(C(r))return{data:null,error:r};throw r}})}inviteUserByEmail(r){return p(this,arguments,function*(e,n={}){try{return yield S(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Te})}catch(o){if(C(o))return{data:{user:null},error:o};throw o}})}generateLink(e){return p(this,null,function*(){try{let{options:n}=e,r=qw(e,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),yield S(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:vf,redirectTo:n?.redirectTo})}catch(n){if(C(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(e){return p(this,null,function*(){try{return yield S(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Te})}catch(n){if(C(n))return{data:{user:null},error:n};throw n}})}listUsers(e){return p(this,null,function*(){var n,r,o,s,i,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield S(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&s!==void 0?s:""},xform:yf});if(u.error)throw u.error;let d=yield u.json(),h=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(m=>{let g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);l[`${v}Page`]=g}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(C(l))return{data:{users:[]},error:l};throw l}})}getUserById(e){return p(this,null,function*(){try{return yield S(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Te})}catch(n){if(C(n))return{data:{user:null},error:n};throw n}})}updateUserById(e,n){return p(this,null,function*(){try{return yield S(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Te})}catch(r){if(C(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,n=!1){return p(this,null,function*(){try{return yield S(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Te})}catch(r){if(C(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return p(this,null,function*(){try{let{data:n,error:r}=yield S(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(C(n))return{data:null,error:n};throw n}})}_deleteFactor(e){return p(this,null,function*(){try{return{data:yield S(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(C(n))return{data:null,error:n};throw n}})}};var Ko="2.61.0";var wf="http://localhost:9999",_f="supabase.auth.token";var bf={"X-Client-Info":`gotrue-js/${Ko}`},Fa=10;var If={getItem:t=>We()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{We()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{We()&&globalThis.localStorage.removeItem(t)}};function Va(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Ef(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var Ww={debug:!!(globalThis&&We()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Zo=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}};Ef();var Gw={url:wf,storageKey:_f,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bf,flowType:"implicit",debug:!1},Yn=30*1e3,xf=3;function zw(t,e,n){return p(this,null,function*(){return yield n()})}var Xo=(()=>{class t{constructor(n){var r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=t.nextInstanceID,t.nextInstanceID+=1,this.instanceID>0&&_e()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},Gw),n);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new rn({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Go(o.fetch),this.lock=o.lock||zw,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:We()?this.storage=If:(this.memoryStorage={},this.storage=Va(this.memoryStorage)):(this.memoryStorage={},this.storage=Va(this.memoryStorage)),_e()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",s=>p(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ko}) ${new Date().toISOString()}`,...n),this}initialize(){return p(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=p(this,null,function*(){return yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return p(this,null,function*(){try{let n=_e()?yield this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",n),n||this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:r,error:o}=yield this._getSessionFromURL(n);if(o)return this._debug("#_initialize()","error detecting session from URL",o),o?.message==="Identity is already linked"||o?.message==="Identity is already linked to another user"?{error:o}:(yield this._removeSession(),{error:o});let{session:s,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),yield this._saveSession(s),setTimeout(()=>p(this,null,function*(){i==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",s):yield this._notifyAllSubscribers("SIGNED_IN",s)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(n){return C(n)?{error:n}:{error:new Xt("Unexpected error during initialization",n)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signUp(n){return p(this,null,function*(){var r,o,s;try{yield this._removeSession();let i;if("email"in n){let{email:d,password:h,options:f}=n,m=null,g=null;if(this.flowType==="pkce"){let v=yt();yield Ge(this.storage,`${this.storageKey}-code-verifier`,v),m=yield wt(v),g=v===m?"plain":"s256"}i=yield S(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:m,code_challenge_method:g},xform:ze})}else if("phone"in n){let{phone:d,password:h,options:f}=n;i=yield S(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(s=f?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:ze})}else throw new _t("You must provide either an email or phone number and a password");let{data:a,error:c}=i;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(C(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithPassword(n){return p(this,null,function*(){try{yield this._removeSession();let r;if("email"in n){let{email:i,password:a,options:c}=n;r=yield S(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:ja})}else if("phone"in n){let{phone:i,password:a,options:c}=n;r=yield S(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:ja})}else throw new _t("You must provide either an email or phone number and a password");let{data:o,error:s}=r;return s?{data:{user:null,session:null},error:s}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new en}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:s})}catch(r){if(C(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(n){return p(this,null,function*(){var r,o,s,i;return yield this._removeSession(),yield this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(s=n.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=n.options)===null||i===void 0?void 0:i.skipBrowserRedirect})})}exchangeCodeForSession(n){return p(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return this._exchangeCodeForSession(n)}))})}_exchangeCodeForSession(n){return p(this,null,function*(){let r=yield zn(this.storage,`${this.storageKey}-code-verifier`),[o,s]=(r??"").split("/"),{data:i,error:a}=yield S(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:ze});return yield zo(this.storage,`${this.storageKey}-code-verifier`),a?{data:{user:null,session:null,redirectType:null},error:a}:!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new en}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})})}signInWithIdToken(n){return p(this,null,function*(){yield this._removeSession();try{let{options:r,provider:o,token:s,access_token:i,nonce:a}=n,c=yield S(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:ze}),{data:l,error:u}=c;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new en}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(C(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(n){return p(this,null,function*(){var r,o,s,i,a;try{if(yield this._removeSession(),"email"in n){let{email:c,options:l}=n,u=null,d=null;if(this.flowType==="pkce"){let f=yt();yield Ge(this.storage,`${this.storageKey}-code-verifier`,f),u=yield wt(f),d=f===u?"plain":"s256"}let{error:h}=yield S(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in n){let{phone:c,options:l}=n,{data:u,error:d}=yield S(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=l?.data)!==null&&s!==void 0?s:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new _t("You must provide either an email or phone number.")}catch(c){if(C(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(n){return p(this,null,function*(){var r,o;try{n.type!=="email_change"&&n.type!=="phone_change"&&(yield this._removeSession());let s,i;"options"in n&&(s=(r=n.options)===null||r===void 0?void 0:r.redirectTo,i=(o=n.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=yield S(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ze});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(C(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithSSO(n){return p(this,null,function*(){var r,o,s;try{yield this._removeSession();let i=null,a=null;if(this.flowType==="pkce"){let c=yt();yield Ge(this.storage,`${this.storageKey}-code-verifier`,c),i=yield wt(c),a=c===i?"plain":"s256"}return yield S(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((s=n?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:gf})}catch(i){if(C(i))return{data:null,error:i};throw i}})}reauthenticate(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return p(this,null,function*(){try{return yield this._useSession(n=>p(this,null,function*(){let{data:{session:r},error:o}=n;if(o)throw o;if(!r)throw new ke;let{error:s}=yield S(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}}))}catch(n){if(C(n))return{data:{user:null,session:null},error:n};throw n}})}resend(n){return p(this,null,function*(){try{n.type!="email_change"&&n.type!="phone_change"&&(yield this._removeSession());let r=`${this.url}/resend`;if("email"in n){let{email:o,type:s,options:i}=n,{error:a}=yield S(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:s,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in n){let{phone:o,type:s,options:i}=n,{data:a,error:c}=yield S(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:s,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new _t("You must provide either an email or phone number and a type")}catch(r){if(C(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return p(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return this._useSession(n=>p(this,null,function*(){return n}))}))})}_acquireLock(n,r){return p(this,null,function*(){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=p(this,null,function*(){return yield o,yield r()});return this.pendingInLock.push(p(this,null,function*(){try{yield s}catch{}})),s}return yield this.lock(`lock:${this.storageKey}`,n,()=>p(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push(p(this,null,function*(){try{yield o}catch{}})),yield o;this.pendingInLock.length;){let s=[...this.pendingInLock];yield Promise.all(s),this.pendingInLock.splice(0,s.length)}return yield o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(n){return p(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield n(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return p(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=yield zn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!n)return{data:{session:null},error:null};let o=n.expires_at?n.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o)return{data:{session:n},error:null};let{session:s,error:i}=yield this._callRefreshToken(n.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(n){return p(this,null,function*(){return n?yield this._getUser(n):(yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return yield this._getUser()})))})}_getUser(n){return p(this,null,function*(){try{return n?yield S(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Te}):yield this._useSession(r=>p(this,null,function*(){var o,s;let{data:i,error:a}=r;if(a)throw a;return yield S(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=i.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:Te})}))}catch(r){if(C(r))return{data:{user:null},error:r};throw r}})}updateUser(o){return p(this,arguments,function*(n,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._updateUser(n,r)}))})}_updateUser(o){return p(this,arguments,function*(n,r={}){try{return yield this._useSession(s=>p(this,null,function*(){let{data:i,error:a}=s;if(a)throw a;if(!i.session)throw new ke;let c=i.session,l=null,u=null;if(this.flowType==="pkce"&&n.email!=null){let f=yt();yield Ge(this.storage,`${this.storageKey}-code-verifier`,f),l=yield wt(f),u=f===l?"plain":"s256"}let{data:d,error:h}=yield S(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:l,code_challenge_method:u}),jwt:c.access_token,xform:Te});if(h)throw h;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(s){if(C(s))return{data:{user:null},error:s};throw s}})}_decodeJWT(n){return La(n)}setSession(n){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._setSession(n)}))})}_setSession(n){return p(this,null,function*(){try{if(!n.access_token||!n.refresh_token)throw new ke;let r=Date.now()/1e3,o=r,s=!0,i=null,a=La(n.access_token);if(a.exp&&(o=a.exp,s=o<=r),s){let{session:c,error:l}=yield this._callRefreshToken(n.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};i=c}else{let{data:c,error:l}=yield this._getUser(n.access_token);if(l)throw l;i={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},yield this._saveSession(i),yield this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(C(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(n){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._refreshSession(n)}))})}_refreshSession(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(o=a.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new ke;let{session:s,error:i}=yield this._callRefreshToken(n.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(C(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(n){return p(this,null,function*(){try{if(!_e())throw new bt("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new bt("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!n)throw new Jn("Not a valid PKCE flow url.");let r=Wo(window.location.href);if(n){if(!r.code)throw new Jn("No code detected.");let{data:R,error:k}=yield this._exchangeCodeForSession(r.code);if(k)throw k;let K=new URL(window.location.href);return K.searchParams.delete("code"),window.history.replaceState(window.history.state,"",K.toString()),{data:{session:R.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new bt(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});let{provider_token:o,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=r;if(!i||!c||!a||!u)throw new bt("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;l&&(f=parseInt(l));let m=f-d;m*1e3<=Yn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);let g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",g,f,d);let{data:v,error:b}=yield this._getUser(i);if(b)throw b;let B={provider_token:o,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:B,redirectType:r.type},error:null}}catch(r){if(C(r))return{data:{session:null,redirectType:null},error:r};throw r}})}_isImplicitGrantFlow(){let n=Wo(window.location.href);return!!(_e()&&(n.access_token||n.error_description))}_isPKCEFlow(){return p(this,null,function*(){let n=Wo(window.location.href),r=yield zn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)})}signOut(){return p(this,arguments,function*(n={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._signOut(n)}))})}_signOut(){return p(this,arguments,function*({scope:n}={scope:"global"}){return yield this._useSession(r=>p(this,null,function*(){var o;let{data:s,error:i}=r;if(i)return{error:i};let a=(o=s.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=yield this.admin.signOut(a,n);if(c&&!(pf(c)&&(c.status===404||c.status===401)))return{error:c}}return n!=="others"&&(yield this._removeSession(),yield zo(this.storage,`${this.storageKey}-code-verifier`),yield this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}}))})}onAuthStateChange(n){let r=uf(),o={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),p(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:o}}}_emitInitialSession(n){return p(this,null,function*(){return yield this._useSession(r=>p(this,null,function*(){var o,s;try{let{data:{session:i},error:a}=r;if(a)throw a;yield(o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",i),this._debug("INITIAL_SESSION","callback id",n,"session",i)}catch(i){yield(s=this.stateChangeEmitters.get(n))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",n,"error",i),console.error(i)}}))})}resetPasswordForEmail(o){return p(this,arguments,function*(n,r={}){let s=null,i=null;if(this.flowType==="pkce"){let a=yt();yield Ge(this.storage,`${this.storageKey}-code-verifier`,`${a}/PASSWORD_RECOVERY`),s=yield wt(a),i=a===s?"plain":"s256"}try{return yield S(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(C(a))return{data:null,error:a};throw a}})}getUserIdentities(){return p(this,null,function*(){var n;try{let{data:r,error:o}=yield this.getUser();if(o)throw o;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(C(r))return{data:null,error:r};throw r}})}linkIdentity(n){return p(this,null,function*(){var r;try{let{data:o,error:s}=yield this._useSession(i=>p(this,null,function*(){var a,c,l,u,d;let{data:h,error:f}=i;if(f)throw f;let m=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield S(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(s)throw s;return _e()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:n.provider,url:o?.url},error:null}}catch(o){if(C(o))return{data:{provider:n.provider,url:null},error:o};throw o}})}unlinkIdentity(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o,s;let{data:i,error:a}=r;if(a)throw a;return yield S(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(s=(o=i.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0})}))}catch(r){if(C(r))return{data:null,error:r};throw r}})}_refreshAccessToken(n){return p(this,null,function*(){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return yield hf(s=>p(this,null,function*(){return yield ff(s*200),this._debug(r,"refreshing attempt",s),yield S(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:ze})}),(s,i,a)=>a&&a.error&&Yo(a.error)&&Date.now()+(s+1)*200-o<Yn)}catch(o){if(this._debug(r,"error",o),C(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,r){return p(this,null,function*(){let o=yield this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",o),_e()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}})}_recoverAndRefresh(){return p(this,null,function*(){var n;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let o=yield zn(this.storage,this.storageKey);if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&(yield this._removeSession());return}let s=Math.round(Date.now()/1e3),i=((n=o.expires_at)!==null&&n!==void 0?n:1/0)<s+Fa;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Fa}s`),i){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),Yo(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}})}_callRefreshToken(n){return p(this,null,function*(){var r,o;if(!n)throw new ke;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let s=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Gn;let{data:i,error:a}=yield this._refreshAccessToken(n);if(a)throw a;if(!i.session)throw new ke;yield this._saveSession(i.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);let c={session:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(s,"error",i),C(i)){let a={session:null,error:i};return Yo(i)||(yield this._removeSession(),yield this._notifyAllSubscribers("SIGNED_OUT",null)),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}})}_notifyAllSubscribers(n,r,o=!0){return p(this,null,function*(){let s=`#_notifyAllSubscribers(${n})`;this._debug(s,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:r});let i=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>p(this,null,function*(){try{yield c.callback(n,r)}catch(l){i.push(l)}}));if(yield Promise.all(a),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(s,"end")}})}_saveSession(n){return p(this,null,function*(){this._debug("#_saveSession()",n),yield Ge(this.storage,this.storageKey,n)})}_removeSession(){return p(this,null,function*(){this._debug("#_removeSession()"),yield zo(this.storage,this.storageKey)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&_e()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return p(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Yn);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(()=>p(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return p(this,null,function*(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)})}startAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return p(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>p(this,null,function*(){try{let n=Date.now();try{return yield this._useSession(r=>p(this,null,function*(){let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let s=Math.floor((o.expires_at*1e3-n)/Yn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Yn}ms, refresh threshold is ${xf} ticks`),s<=xf&&(yield this._callRefreshToken(o.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(n){if(n.isAcquireTimeout||n instanceof Zo)this._debug("auto refresh token tick lock not available");else throw n}})}_handleVisibilityChange(){return p(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!_e()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>p(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return p(this,null,function*(){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,r,o){return p(this,null,function*(){let s=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&s.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let i=yt();yield Ge(this.storage,`${this.storageKey}-code-verifier`,i);let a=yield wt(i),c=i===a?"plain":"s256";this._debug("PKCE","code verifier",`${i.substring(0,5)}...`,"code challenge",a,"method",c);let l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});s.push(l.toString())}if(o?.queryParams){let i=new URLSearchParams(o.queryParams);s.push(i.toString())}return o?.skipBrowserRedirect&&s.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${s.join("&")}`})}_unenroll(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:s,error:i}=r;return i?{data:null,error:i}:yield S(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(C(r))return{data:null,error:r};throw r}})}_enroll(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o,s;let{data:i,error:a}=r;if(a)return{data:null,error:a};let{data:c,error:l}=yield S(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:n.friendlyName,factor_type:n.factorType,issuer:n.issuer},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return l?{data:null,error:l}:(!((s=c?.totp)===null||s===void 0)&&s.qr_code&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(r){if(C(r))return{data:null,error:r};throw r}})}_verify(n){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:s,error:i}=r;if(i)return{data:null,error:i};let{data:a,error:c}=yield S(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})}))}catch(r){if(C(r))return{data:null,error:r};throw r}}))})}_challenge(n){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:s,error:i}=r;return i?{data:null,error:i}:yield S(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(C(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(n){return p(this,null,function*(){let{data:r,error:o}=yield this._challenge({factorId:n.factorId});return o?{data:null,error:o}:yield this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})})}_listFactors(){return p(this,null,function*(){let{data:{user:n},error:r}=yield this.getUser();if(r)return{data:null,error:r};let o=n?.factors||[],s=o.filter(i=>i.factor_type==="totp"&&i.status==="verified");return{data:{all:o,totp:s},error:null}})}_getAuthenticatorAssuranceLevel(){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){return yield this._useSession(n=>p(this,null,function*(){var r,o;let{data:{session:s},error:i}=n;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(s.access_token),c=null;a.aal&&(c=a.aal);let l=c;((o=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(l="aal2");let d=a.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}))})}}return t.nextInstanceID=0,t})();var es=class extends Xo{constructor(e){super(e)}};var Qw=function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(u){try{l(r.next(u))}catch(d){i(d)}}function c(u){try{l(r.throw(u))}catch(d){i(d)}}function l(u){u.done?s(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},ts=class{constructor(e,n,r){var o,s,i,a,c,l,u,d;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");let h=af(e);this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`,this.functionsUrl=`${h}/functions/v1`;let f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,m={db:nf,realtime:of,auth:Object.assign(Object.assign({},rf),{storageKey:f}),global:tf},g=cf(r??{},m);this.storageKey=(s=(o=g.auth)===null||o===void 0?void 0:o.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=(i=g.global)===null||i===void 0?void 0:i.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((c=g.auth)!==null&&c!==void 0?c:{},this.headers,(l=g.global)===null||l===void 0?void 0:l.fetch),this.fetch=sf(n,this._getAccessToken.bind(this),(u=g.global)===null||u===void 0?void 0:u.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},g.realtime)),this.rest=new Fn(`${h}/rest/v1`,{headers:this.headers,schema:(d=g.db)===null||d===void 0?void 0:d.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new Pn(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new qn(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Qw(this,void 0,void 0,function*(){let{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,storageKey:s,flowType:i,debug:a},c,l){let u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new es({url:this.authUrl,headers:Object.assign(Object.assign({},u),c),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,flowType:i,debug:a,fetch:l})}_initRealtimeClient(e){return new Hn(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var Cf=(t,e,n)=>new ts(t,e,n);var ns={production:!0,supabaseUrl:"https://righgbrlcduncufxrtmn.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJpZ2hnYnJsY2R1bmN1ZnhydG1uIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDg5NjY2NDgsImV4cCI6MjAyNDU0MjY0OH0.ngcDEtc1fieTvdm2Fc7KH2sDRaEsATYKZezpYCQDXCs",publicUrl:"https://tmac12.github.io/supabase-angular/"};var tN=(()=>{let e=class e{constructor(){this._session=null,this.sessionSignal=Ao(null),this.user=new Ze(null),this.getURL=()=>{let r=ns.publicUrl??window.location.origin;return r=r.charAt(r.length-1)==="/"?r:`${r}/`,r},this.friendRequests=Ao(""),this.supabase=Cf(ns.supabaseUrl,ns.supabaseKey),this.supabase.auth.onAuthStateChange((r,o)=>{if(console.log(r),console.log(o),this.sessionSignal.set(o),r==="SIGNED_IN"||r==="TOKEN_REFRESHED"){if(this.user.next(o.user),r==="SIGNED_IN"){console.log("save user to db");let s=o.user;console.log(s),this.updateProfile({id:s?.id,avatar_url:s?.user_metadata.avatar_url,username:s?.user_metadata.name,website:"",provider_refresh_token:o?.provider_refresh_token}).then(a=>{console.log("completed"),console.log(a)})}}else this.user.next(null)})}get session(){return this.supabase.auth.getSession().then(({data:r})=>{this._session=r.session}),this._session}getUser(){return p(this,null,function*(){return yield this.supabase.auth.getUser()})}profile(r){return this.supabase.from("profiles").select("username, website, avatar_url, provider_refresh_token").eq("id",r.id).single()}authChanges(r){return this.supabase.auth.onAuthStateChange(r)}signInGoogle(){return p(this,null,function*(){return this.supabase.auth.signInWithOAuth({provider:"google",options:{scopes:"https://www.googleapis.com/auth/calendar",queryParams:{access_type:"offline",prompt:"consent"},redirectTo:this.getURL()}})})}signIn(r){return this.supabase.auth.signInWithOtp({email:r})}signOut(){return this.supabase.auth.signOut()}updateProfile(r){let o=le(ce({},r),{updated_at:new Date});return this.supabase.from("profiles").upsert(o)}downLoadImage(r){return this.supabase.storage.from("avatars").download(r)}uploadAvatar(r,o){return this.supabase.storage.from("avatars").upload(r,o)}updateShift(r){let o=le(ce({},r),{updated_at:new Date});return this.supabase.from("shifts").upsert(o)}getShifts(){return this.supabase.from("shifts").select().returns()}updateEvent(r){let o=le(ce({},r),{updated_at:new Date,owner_id:r.owner_id??this._session?.user.id});return this.supabase.from("events").upsert(o)}getEvents(){return this.supabase.from("events").select().returns()}subscribeToEventChanges(){let r=this.supabase.channel("events-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"events"},o=>console.log(o)).subscribe();this.eventsChannel=r}unsubscribeEventChanges(){this.eventsChannel&&this.supabase.removeChannel(this.eventsChannel)}updateFriend(r){let o={owner_id:this._session?.user.id,user_id:r};return this.supabase.from("friends").upsert(o)}getFriends(){return this.supabase.from("friends").select().eq("status","accepted").returns()}getAllFriends(){return this.supabase.from("friends").select().returns()}getFriendsRequest(){return this.supabase.from("friends").select().eq("status","pending").returns()}userExistByEmail(r){return p(this,null,function*(){let{data:o,error:s}=yield this.supabase.rpc("check_user_exists_by_email",{user_email:r});return s?(console.error(s),!1):o})}addFriendByEmail(r){return p(this,null,function*(){return yield this.supabase.rpc("add_friend_by_email",{user_email:r})})}subscribeToFriendChanges(){let r=this.supabase.channel("friends-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"friends"},o=>{console.log(o),this.friendRequests.set("new friend request "+o)}).subscribe();this.friendsChannel=r}unsubscribeFriendsChanges(){this.friendsChannel&&this.supabase.removeChannel(this.friendsChannel)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();export{q as a,Of as b,O as c,ps as d,ms as e,Tt as f,Ze as g,an as h,Le as i,Hf as j,Uf as k,Bf as l,Xe as m,me as n,Kf as o,Ke as p,fs as q,hs as r,mr as s,Xf as t,eh as u,cn as v,uc as w,th as x,ln as y,gs as z,nh as A,oh as B,sh as C,fc as D,ys as E,ih as F,ah as G,ac as H,br as I,ch as J,lh as K,uh as L,M,mn as N,XC as O,N as P,oe as Q,vn as R,Rt as S,eD as T,tD as U,nD as V,rD as W,oD as X,sD as Y,iD as Z,aD as _,vo as $,cD as aa,z as ba,lD as ca,uD as da,F as ea,dD as fa,Cp as ga,fD as ha,hD as ia,Jl as ja,$e as ka,H as la,Up as ma,lu as na,He as oa,pD as pa,em as qa,nm as ra,mD as sa,gD as ta,ua,ut as va,Dm as wa,vD as xa,oi as ya,yD as za,Co as Aa,Zr as Ba,fi as Ca,bD as Da,fd as Ea,xe as Fa,Ca as Ga,Ao as Ha,ED as Ia,xD as Ja,kv as Ka,CD as La,Ii as Ma,Vv as Na,Ma as Oa,Ci as Pa,zv as Qa,ty as Ra,ny as Sa,ry as Ta,DD as Ua,TD as Va,MD as Wa,SD as Xa,Td as Ya,Md as Za,vy as _a,Sd as $a,Nd as ab,_y as bb,ND as cb,OD as db,xy as eb,My as fb,AD as gb,kD as hb,PD as ib,RD as jb,LD as kb,jD as lb,FD as mb,VD as nb,$D as ob,HD as pb,ky as qb,Ad as rb,Py as sb,UD as tb,Ry as ub,BD as vb,qD as wb,WD as xb,GD as yb,zD as zb,QD as Ab,JD as Bb,YD as Cb,KD as Db,Ld as Eb,zy as Fb,Fd as Gb,ZD as Hb,Vd as Ib,aw as Jb,dw as Kb,fw as Lb,XD as Mb,eT as Nb,tT as Ob,nT as Pb,mw as Qb,tN as Rb};
