import{b as Kn,c as Ra}from"./chunk-JENGY3ED.js";import{a as ce,b as le,d as p}from"./chunk-PYQTE2ZK.js";function La(t,e){return Object.is(t,e)}var $=null,on=!1,Zn=1,X=Symbol("SIGNAL");function M(t){let e=$;return $=t,e}function Df(){return on}var an={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function cn(t){if(on)throw new Error("");if($===null)return;$.consumerOnSignalRead(t);let e=$.nextProducerIndex++;if(It($),e<$.producerNode.length&&$.producerNode[e]!==t&&sn($)){let n=$.producerNode[e];rr(n,$.producerIndexOfThis[e])}$.producerNode[e]!==t&&($.producerNode[e]=t,$.producerIndexOfThis[e]=sn($)?Ha(t,$,e):0),$.producerLastReadVersion[e]=t.version}function Cf(){Zn++}function ja(t){if(!(sn(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Zn)){if(!t.producerMustRecompute(t)&&!nr(t)){t.dirty=!1,t.lastCleanEpoch=Zn;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Zn}}function Fa(t){if(t.liveConsumerNode===void 0)return;let e=on;on=!0;try{for(let n of t.liveConsumerNode)n.dirty||$a(n)}finally{on=e}}function Va(){return $?.consumerAllowSignalWrites!==!1}function $a(t){t.dirty=!0,Fa(t),t.consumerMarkedDirty?.(t)}function er(t){return t&&(t.nextProducerIndex=0),M(t)}function tr(t,e){if(M(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(sn(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)rr(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function nr(t){It(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(ja(n),r!==n.version))return!0}return!1}function ri(t){if(It(t),sn(t))for(let e=0;e<t.producerNode.length;e++)rr(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ha(t,e,n){if(Ua(t),It(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Ha(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function rr(t,e){if(Ua(t),It(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)rr(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],o=t.liveConsumerNode[e];It(o),o.producerIndexOfThis[r]=e}}function sn(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function It(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Ua(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function oi(t){let e=Object.create(Tf);e.computation=t;let n=()=>{if(ja(e),cn(e),e.value===Xn)throw e.error;return e.value};return n[X]=e,n}var ei=Symbol("UNSET"),ti=Symbol("COMPUTING"),Xn=Symbol("ERRORED"),Tf=le(ce({},an),{value:ei,dirty:!0,error:null,equal:La,producerMustRecompute(t){return t.value===ei||t.value===ti},producerRecomputeValue(t){if(t.value===ti)throw new Error("Detected cycle in computations.");let e=t.value;t.value=ti;let n=er(t),r;try{r=t.computation()}catch(o){r=Xn,t.error=o}finally{tr(t,n)}if(e!==ei&&e!==Xn&&r!==Xn&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function Mf(){throw new Error}var Ba=Mf;function qa(){Ba()}function Wa(t){Ba=t}var Sf=null;function Ga(t){let e=Object.create(ii);e.value=t;let n=()=>(cn(e),e.value);return n[X]=e,n}function ln(t,e){Va()||qa(),t.equal(t.value,e)||(t.value=e,Nf(t))}function za(t,e){Va()||qa(),ln(t,e(t.value))}var ii=le(ce({},an),{equal:La,value:void 0});function Nf(t){t.version++,Cf(),Fa(t),Sf?.()}function Qa(t,e,n){let r=Object.create(Of);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let o=c=>{r.cleanupFn=c};function i(c){return c.fn===null&&c.schedule===null}function s(c){i(c)||(ri(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=ni)}let a=()=>{if(r.fn===null)return;if(Df())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!nr(r))return;r.hasRun=!0;let c=er(r);try{r.cleanupFn(),r.cleanupFn=ni,r.fn(o)}finally{tr(r,c)}};return r.ref={notify:()=>$a(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>s(r),[X]:r},r.ref}var ni=()=>{},Of=le(ce({},an),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:ni});function _(t){return typeof t=="function"}function Et(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var or=Et(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function un(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var q=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(_(r))try{r()}catch(i){e=i instanceof or?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{Ja(i)}catch(s){e=e??[],s instanceof or?e=[...e,...s.errors]:e.push(s)}}if(e)throw new or(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Ja(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&un(n,e)}remove(e){let{_finalizers:n}=this;n&&un(n,e),e instanceof t&&e._removeParent(this)}};q.EMPTY=(()=>{let t=new q;return t.closed=!0,t})();var si=q.EMPTY;function ir(t){return t instanceof q||t&&"closed"in t&&_(t.remove)&&_(t.add)&&_(t.unsubscribe)}function Ja(t){_(t)?t():t.unsubscribe()}var pe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var xt={setTimeout(t,e,...n){let{delegate:r}=xt;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=xt;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function sr(t){xt.setTimeout(()=>{let{onUnhandledError:e}=pe;if(e)e(t);else throw t})}function dn(){}var Ya=ai("C",void 0,void 0);function Ka(t){return ai("E",void 0,t)}function Za(t){return ai("N",t,void 0)}function ai(t,e,n){return{kind:t,value:e,error:n}}var Qe=null;function Dt(t){if(pe.useDeprecatedSynchronousErrorHandling){let e=!Qe;if(e&&(Qe={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Qe;if(Qe=null,n)throw r}}else t()}function Xa(t){pe.useDeprecatedSynchronousErrorHandling&&Qe&&(Qe.errorThrown=!0,Qe.error=t)}var Je=class extends q{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ir(e)&&e.add(this)):this.destination=Pf}static create(e,n,r){return new Ct(e,n,r)}next(e){this.isStopped?li(Za(e),this):this._next(e)}error(e){this.isStopped?li(Ka(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?li(Ya,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Af=Function.prototype.bind;function ci(t,e){return Af.call(t,e)}var ui=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ar(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ar(r)}else ar(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ar(n)}}},Ct=class extends Je{constructor(e,n,r){super();let o;if(_(e)||!e)o={next:e??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&pe.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&ci(e.next,i),error:e.error&&ci(e.error,i),complete:e.complete&&ci(e.complete,i)}):o=e}this.destination=new ui(o)}};function ar(t){pe.useDeprecatedSynchronousErrorHandling?Xa(t):sr(t)}function kf(t){throw t}function li(t,e){let{onStoppedNotification:n}=pe;n&&xt.setTimeout(()=>n(t,e))}var Pf={closed:!0,next:dn,error:kf,complete:dn};var Tt=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ne(t){return t}function Rf(...t){return di(t)}function di(t){return t.length===0?ne:t.length===1?t[0]:function(n){return t.reduce((r,o)=>o(r),n)}}var O=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=jf(n)?n:new Ct(n,r,o);return Dt(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=ec(r),new r((o,i)=>{let s=new Ct({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Tt](){return this}pipe(...n){return di(n)(this)}toPromise(n){return n=ec(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=e=>new t(e),t})();function ec(t){var e;return(e=t??pe.Promise)!==null&&e!==void 0?e:Promise}function Lf(t){return t&&_(t.next)&&_(t.error)&&_(t.complete)}function jf(t){return t&&t instanceof Je||Lf(t)&&ir(t)}function fi(t){return _(t?.lift)}function N(t){return e=>{if(fi(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function D(t,e,n,r,o){return new hi(t,e,n,r,o)}var hi=class extends Je{constructor(e,n,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function pi(){return N((t,e)=>{let n=null;t._refCount++;let r=D(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let o=t._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var mi=class extends O{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,fi(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new q;let n=this.getSubject();e.add(this.source.subscribe(D(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=q.EMPTY)}return e}refCount(){return pi()(this)}};var tc=Et(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Mt=(()=>{class t extends O{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new cr(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new tc}next(n){Dt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Dt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Dt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?si:(this.currentObservers=null,i.push(n),new q(()=>{this.currentObservers=null,un(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new O;return n.source=this,n}}return t.create=(e,n)=>new cr(e,n),t})(),cr=class extends Mt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:si}};var Ye=class extends Mt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var fn=new O(t=>t.complete());function nc(t){return t&&_(t.schedule)}function rc(t){return t[t.length-1]}function lr(t){return _(rc(t))?t.pop():void 0}function Pe(t){return nc(rc(t))?t.pop():void 0}function ic(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function oc(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ke(t){return this instanceof Ke?(this.v=t,this):new Ke(t)}function sc(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(h){r[h]&&(o[h]=function(f){return new Promise(function(m,g){i.push([h,f,m,g])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(m){d(i[0][3],m)}}function c(h){h.value instanceof Ke?Promise.resolve(h.value.v).then(l,u):d(i[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),i.shift(),i.length&&a(i[0][0],i[0][1])}}function ac(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof oc=="function"?oc(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(s){return new Promise(function(a,c){s=t[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},s)}}var ur=t=>t&&typeof t.length=="number"&&typeof t!="function";function dr(t){return _(t?.then)}function fr(t){return _(t[Tt])}function hr(t){return Symbol.asyncIterator&&_(t?.[Symbol.asyncIterator])}function pr(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Ff(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var mr=Ff();function gr(t){return _(t?.[mr])}function vr(t){return sc(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:o}=yield Ke(n.read());if(o)return yield Ke(void 0);yield yield Ke(r)}}finally{n.releaseLock()}})}function yr(t){return _(t?.getReader)}function j(t){if(t instanceof O)return t;if(t!=null){if(fr(t))return Vf(t);if(ur(t))return $f(t);if(dr(t))return Hf(t);if(hr(t))return cc(t);if(gr(t))return Uf(t);if(yr(t))return Bf(t)}throw pr(t)}function Vf(t){return new O(e=>{let n=t[Tt]();if(_(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function $f(t){return new O(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Hf(t){return new O(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,sr)})}function Uf(t){return new O(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function cc(t){return new O(e=>{qf(t,e).catch(n=>e.error(n))})}function Bf(t){return cc(vr(t))}function qf(t,e){var n,r,o,i;return ic(this,void 0,void 0,function*(){try{for(n=ac(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}e.complete()})}function ee(t,e,n,r=0,o=!1){let i=e.schedule(function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function wr(t,e=0){return N((n,r)=>{n.subscribe(D(r,o=>ee(r,t,()=>r.next(o),e),()=>ee(r,t,()=>r.complete(),e),o=>ee(r,t,()=>r.error(o),e)))})}function _r(t,e=0){return N((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function lc(t,e){return j(t).pipe(_r(e),wr(e))}function uc(t,e){return j(t).pipe(_r(e),wr(e))}function dc(t,e){return new O(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function fc(t,e){return new O(n=>{let r;return ee(n,e,()=>{r=t[mr](),ee(n,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>_(r?.return)&&r.return()})}function br(t,e){if(!t)throw new Error("Iterable cannot be null");return new O(n=>{ee(n,e,()=>{let r=t[Symbol.asyncIterator]();ee(n,e,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function hc(t,e){return br(vr(t),e)}function pc(t,e){if(t!=null){if(fr(t))return lc(t,e);if(ur(t))return dc(t,e);if(dr(t))return uc(t,e);if(hr(t))return br(t,e);if(gr(t))return fc(t,e);if(yr(t))return hc(t,e)}throw pr(t)}function Re(t,e){return e?pc(t,e):j(t)}function Wf(...t){let e=Pe(t);return Re(t,e)}function Gf(t,e){let n=_(t)?t:()=>t,r=o=>o.error(n());return new O(e?o=>e.schedule(r,0,o):r)}function zf(t){return!!t&&(t instanceof O||_(t.lift)&&_(t.subscribe))}var Ze=Et(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ce(t,e){return N((n,r)=>{let o=0;n.subscribe(D(r,i=>{r.next(t.call(e,i,o++))}))})}var{isArray:Qf}=Array;function Jf(t,e){return Qf(e)?t(...e):t(e)}function Ir(t){return Ce(e=>Jf(t,e))}var{isArray:Yf}=Array,{getPrototypeOf:Kf,prototype:Zf,keys:Xf}=Object;function Er(t){if(t.length===1){let e=t[0];if(Yf(e))return{args:e,keys:null};if(eh(e)){let n=Xf(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function eh(t){return t&&typeof t=="object"&&Kf(t)===Zf}function xr(t,e){return t.reduce((n,r,o)=>(n[r]=e[o],n),{})}function th(...t){let e=Pe(t),n=lr(t),{args:r,keys:o}=Er(t);if(r.length===0)return Re([],e);let i=new O(nh(r,e,o?s=>xr(o,s):ne));return n?i.pipe(Ir(n)):i}function nh(t,e,n=ne){return r=>{mc(e,()=>{let{length:o}=t,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)mc(e,()=>{let l=Re(t[c],e),u=!1;l.subscribe(D(r,d=>{i[c]=d,u||(u=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function mc(t,e,n){t?ee(n,t,e):e()}function gc(t,e,n,r,o,i,s,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&e.complete()},f=g=>l<r?m(g):c.push(g),m=g=>{i&&e.next(g),l++;let v=!1;j(n(g,u++)).subscribe(D(e,b=>{o?.(b),i?f(b):e.next(b)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<r;){let b=c.shift();s?ee(e,s,()=>m(b)):m(b)}h()}catch(b){e.error(b)}}))};return t.subscribe(D(e,f,()=>{d=!0,h()})),()=>{a?.()}}function Xe(t,e,n=1/0){return _(e)?Xe((r,o)=>Ce((i,s)=>e(r,i,o,s))(j(t(r,o))),n):(typeof e=="number"&&(n=e),N((r,o)=>gc(r,o,t,n)))}function vc(t=1/0){return Xe(ne,t)}function yc(){return vc(1)}function Dr(...t){return yc()(Re(t,Pe(t)))}function rh(t){return new O(e=>{j(t()).subscribe(e)})}function oh(...t){let e=lr(t),{args:n,keys:r}=Er(t),o=new O(i=>{let{length:s}=n;if(!s){i.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;j(n[u]).subscribe(D(i,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||i.next(r?xr(r,a):a),i.complete())}))}});return e?o.pipe(Ir(e)):o}function hn(t,e){return N((n,r)=>{let o=0;n.subscribe(D(r,i=>t.call(e,i,o++)&&r.next(i)))})}function wc(t){return N((e,n)=>{let r=null,o=!1,i;r=e.subscribe(D(n,void 0,void 0,s=>{i=j(t(s,wc(t)(e))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function _c(t,e,n,r,o){return(i,s)=>{let a=n,c=e,l=0;i.subscribe(D(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function ih(t,e){return _(e)?Xe(t,e,1):Xe(t,1)}function pn(t){return N((e,n)=>{let r=!1;e.subscribe(D(n,o=>{r=!0,n.next(o)},()=>{r||n.next(t),n.complete()}))})}function gi(t){return t<=0?()=>fn:N((e,n)=>{let r=0;e.subscribe(D(n,o=>{++r<=t&&(n.next(o),t<=r&&n.complete())}))})}function sh(t){return Ce(()=>t)}function Cr(t=ah){return N((e,n)=>{let r=!1;e.subscribe(D(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(t())))})}function ah(){return new Ze}function ch(t){return N((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function bc(t,e){let n=arguments.length>=2;return r=>r.pipe(t?hn((o,i)=>t(o,i,r)):ne,gi(1),n?pn(e):Cr(()=>new Ze))}function vi(t){return t<=0?()=>fn:N((e,n)=>{let r=[];e.subscribe(D(n,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function lh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?hn((o,i)=>t(o,i,r)):ne,vi(1),n?pn(e):Cr(()=>new Ze))}function uh(t,e){return N(_c(t,e,arguments.length>=2,!0))}function dh(...t){let e=Pe(t);return N((n,r)=>{(e?Dr(t,n,e):Dr(t,n)).subscribe(r)})}function Ic(t,e){return N((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(D(r,c=>{o?.unsubscribe();let l=0,u=i++;j(t(c,u)).subscribe(o=D(r,d=>r.next(e?e(c,d,u,l++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function fh(t){return N((e,n)=>{j(t).subscribe(D(n,()=>n.complete(),dn)),!n.closed&&e.subscribe(n)})}function hh(t,e,n){let r=_(t)||e||n?{next:t,error:e,complete:n}:t;return r?N((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(D(i,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),i.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):ne}var fl="https://g.co/ng/security#xss",C=class extends Error{constructor(e,n){super(ph(e,n)),this.code=e}};function ph(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var ao=Symbol("InputSignalNode#UNSET"),hl=le(ce({},ii),{transformFn:void 0,applyValueToInputSignal(t,e){ln(t,e)}});function pl(t,e){let n=Object.create(hl);n.value=t,n.transformFn=e?.transform;function r(){if(cn(n),n.value===ao)throw new C(-950,!1);return n.value}return r[X]=n,r}var Ri=class extends Mt{constructor(e=!1){super(),this.__isAsync=e}emit(e){let n=M(null);try{super.next(e)}finally{M(n)}}subscribe(e,n,r){let o=e,i=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=yi(i),o&&(o=yi(o)),s&&(s=yi(s)));let a=super.subscribe({next:o,error:i,complete:s});return e instanceof q&&e.add(a),a}};function yi(t){return e=>{setTimeout(t,void 0,e)}}var mn=Ri;function Ec(t,e){return pl(t,e)}function mh(t){return pl(ao,t)}var OD=(Ec.required=mh,Ec),S=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(S||{});function oe(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(oe).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function xc(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var ml=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ml||{}),vn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(vn||{});function Nn(t){return{toString:t}.toString()}var we=globalThis;var Pt={},re=[];function A(t){for(let e in t)if(t[e]===A)return e;throw Error("Could not find renamed property on target object.")}function gh(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var vh=A({\u0275cmp:A}),yh=A({\u0275dir:A}),wh=A({\u0275pipe:A}),_h=A({\u0275mod:A}),Fr=A({\u0275fac:A}),gn=A({__NG_ELEMENT_ID__:A}),Dc=A({__NG_ENV_ID__:A}),Rt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Rt||{});function gl(t,e,n){let r=t.length;for(;;){let o=t.indexOf(e,n);if(o===-1)return o;if(o===0||t.charCodeAt(o-1)<=32){let i=e.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}n=o+1}}function Li(t,e,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,i)}else{let i=o,s=n[++r];bh(i)?t.setProperty(e,i,s):t.setAttribute(e,i,s),r++}}return r}function vl(t){return t===3||t===4||t===6}function bh(t){return t.charCodeAt(0)===64}function yn(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let o=e[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?Cc(t,n,o,null,e[++r]):Cc(t,n,o,null,null))}}return t}function Cc(t,e,n,r,o){let i=0,s=t.length;if(e===-1)s=-1;else for(;i<t.length;){let a=t[i++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=i-1;break}}}for(;i<t.length;){let a=t[i];if(typeof a=="number")break;if(a===n){if(r===null){o!==null&&(t[i+1]=o);return}else if(r===t[i+1]){t[i+2]=o;return}}i++,r!==null&&i++,o!==null&&i++}s!==-1&&(t.splice(s,0,e),i=s+1),t.splice(i++,0,n),r!==null&&t.splice(i++,0,r),o!==null&&t.splice(i++,0,o)}var yl="ng-template";function Ih(t,e,n){let r=0,o=!0;for(;r<t.length;){let i=t[r++];if(typeof i=="string"&&o){let s=t[r++];if(n&&i==="class"&&gl(s.toLowerCase(),e,0)!==-1)return!0}else if(i===1){for(;r<t.length&&typeof(i=t[r++])=="string";)if(i.toLowerCase()===e)return!0;return!1}else typeof i=="number"&&(o=!1)}return!1}function wl(t){return t.type===4&&t.value!==yl}function Eh(t,e,n){let r=t.type===4&&!n?yl:t.value;return e===r}function xh(t,e,n){let r=4,o=t.attrs||[],i=Th(o),s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!me(r)&&!me(c))return!1;if(s&&me(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!Eh(t,c,n)||c===""&&e.length===1){if(me(r))return!1;s=!0}}else{let l=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!Ih(t.attrs,l,n)){if(me(r))return!1;s=!0}continue}let u=r&8?"class":c,d=Dh(u,o,wl(t),n);if(d===-1){if(me(r))return!1;s=!0;continue}if(l!==""){let h;d>i?h="":h=o[d+1].toLowerCase();let f=r&8?h:null;if(f&&gl(f,l,0)!==-1||r&2&&l!==h){if(me(r))return!1;s=!0}}}}return me(r)||s}function me(t){return(t&1)===0}function Dh(t,e,n,r){if(e===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<e.length;){let s=e[o];if(s===t)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=e[++o];for(;typeof a=="string";)a=e[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return Mh(e,t)}function _l(t,e,n=!1){for(let r=0;r<e.length;r++)if(xh(t,e[r],n))return!0;return!1}function Ch(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function Th(t){for(let e=0;e<t.length;e++){let n=t[e];if(vl(n))return e}return t.length}function Mh(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Sh(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let o=0;o<t.length;o++)if(t[o]!==r[o])continue e;return!0}}return!1}function Tc(t,e){return t?":not("+e.trim()+")":e}function Nh(t){let e=t[0],n=1,r=2,o="",i=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!me(s)&&(e+=Tc(i,o),o=""),r=s,i=i||!me(r);n++}return o!==""&&(e+=Tc(i,o)),e}function Oh(t){return t.map(Nh).join(",")}function Ah(t){let e=[],n=[],r=1,o=2;for(;r<t.length;){let i=t[r];if(typeof i=="string")o===2?i!==""&&e.push(i,t[++r]):o===8&&n.push(i);else{if(!me(o))break;o=i}r++}return{attrs:e,classes:n}}function AD(t){return Nn(()=>{let e=xl(t),n=le(ce({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ml.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||vn.Emulated,styles:t.styles||re,_:null,schemas:t.schemas||null,tView:null,id:""});Dl(n);let r=t.dependencies;return n.directiveDefs=Sc(r,!1),n.pipeDefs=Sc(r,!0),n.id=Lh(n),n})}function kh(t){return rt(t)||bl(t)}function Ph(t){return t!==null}function kD(t){return Nn(()=>({type:t.type,bootstrap:t.bootstrap||re,declarations:t.declarations||re,imports:t.imports||re,exports:t.exports||re,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Mc(t,e){if(t==null)return Pt;let n={};for(let r in t)if(t.hasOwnProperty(r)){let o=t[r],i,s,a=Rt.None;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i):(i=o,s=o),e?(n[i]=a!==Rt.None?[r,a]:r,e[i]=s):n[i]=r}return n}function PD(t){return Nn(()=>{let e=xl(t);return Dl(e),e})}function RD(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function rt(t){return t[vh]||null}function bl(t){return t[yh]||null}function Il(t){return t[wh]||null}function Rh(t){let e=rt(t)||bl(t)||Il(t);return e!==null?e.standalone:!1}function El(t,e){let n=t[_h]||null;if(!n&&e===!0)throw new Error(`Type ${oe(t)} does not have '\u0275mod' property.`);return n}function xl(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Pt,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||re,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Mc(t.inputs,e),outputs:Mc(t.outputs),debugInfo:null}}function Dl(t){t.features?.forEach(e=>e(t))}function Sc(t,e){if(!t)return null;let n=e?Il:kh;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Ph)}function Lh(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let o of n)e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var Se=0,w=1,y=2,W=3,ge=4,ie=5,Lt=6,wn=7,K=8,jt=9,Te=10,L=11,_n=12,Nc=13,Ut=14,ue=15,On=16,St=17,Me=18,co=19,Cl=20,je=21,Or=22,ot=23,Z=25,Tl=1;var it=7,Vr=8,Ft=9,z=10,$s=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}($s||{});function tt(t){return Array.isArray(t)&&typeof t[Tl]=="object"}function Ne(t){return Array.isArray(t)&&t[Tl]===!0}function Hs(t){return(t.flags&4)!==0}function lo(t){return t.componentOffset>-1}function uo(t){return(t.flags&1)===1}function Fe(t){return!!t.template}function jh(t){return(t[y]&512)!==0}var Ml="svg",Fh="math",Vh=!1;function $h(){return Vh}function Ee(t){for(;Array.isArray(t);)t=t[Se];return t}function Sl(t,e){return Ee(e[t])}function de(t,e){return Ee(e[t.index])}function Us(t,e){return t.data[e]}function Hh(t,e){return t[e]}function Ue(t,e){let n=e[t];return tt(n)?n:n[Se]}function Uh(t){return(t[y]&4)===4}function Bs(t){return(t[y]&128)===128}function Bh(t){return Ne(t[W])}function Vt(t,e){return e==null?null:t[e]}function Nl(t){t[St]=0}function qh(t){t[y]&1024||(t[y]|=1024,Bs(t)&&bn(t))}function Wh(t,e){for(;t>0;)e=e[Ut],t--;return e}function qs(t){return!!(t[y]&9216||t[ot]?.dirty)}function ji(t){qs(t)?bn(t):t[y]&64&&($h()?(t[y]|=1024,bn(t)):t[Te].changeDetectionScheduler?.notify())}function bn(t){t[Te].changeDetectionScheduler?.notify();let e=In(t);for(;e!==null&&!(e[y]&8192||(e[y]|=8192,!Bs(e)));)e=In(e)}function Ol(t,e){if((t[y]&256)===256)throw new C(911,!1);t[je]===null&&(t[je]=[]),t[je].push(e)}function Gh(t,e){if(t[je]===null)return;let n=t[je].indexOf(e);n!==-1&&t[je].splice(n,1)}function In(t){let e=t[W];return Ne(e)?e[W]:e}var E={lFrame:jl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function zh(){return E.lFrame.elementDepthCount}function Qh(){E.lFrame.elementDepthCount++}function Jh(){E.lFrame.elementDepthCount--}function Al(){return E.bindingsEnabled}function kl(){return E.skipHydrationRootTNode!==null}function Yh(t){return E.skipHydrationRootTNode===t}function Kh(){E.skipHydrationRootTNode=null}function I(){return E.lFrame.lView}function V(){return E.lFrame.tView}function Q(){let t=Pl();for(;t!==null&&t.type===64;)t=t.parent;return t}function Pl(){return E.lFrame.currentTNode}function Zh(){let t=E.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function pt(t,e){let n=E.lFrame;n.currentTNode=t,n.isParent=e}function Ws(){return E.lFrame.isParent}function Gs(){E.lFrame.isParent=!1}function zs(){let t=E.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Xh(t){return E.lFrame.bindingIndex=t}function Bt(){return E.lFrame.bindingIndex++}function ep(t){let e=E.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function tp(){return E.lFrame.inI18n}function np(t,e){let n=E.lFrame;n.bindingIndex=n.bindingRootIndex=t,Fi(e)}function rp(){return E.lFrame.currentDirectiveIndex}function Fi(t){E.lFrame.currentDirectiveIndex=t}function op(t){let e=E.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Qs(){return E.lFrame.currentQueryIndex}function fo(t){E.lFrame.currentQueryIndex=t}function ip(t){let e=t[w];return e.type===2?e.declTNode:e.type===1?t[ie]:null}function Rl(t,e,n){if(n&S.SkipSelf){let o=e,i=t;for(;o=o.parent,o===null&&!(n&S.Host);)if(o=ip(i),o===null||(i=i[Ut],o.type&10))break;if(o===null)return!1;e=o,t=i}let r=E.lFrame=Ll();return r.currentTNode=e,r.lView=t,!0}function Js(t){let e=Ll(),n=t[w];E.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Ll(){let t=E.lFrame,e=t===null?null:t.child;return e===null?jl(t):e}function jl(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Fl(){let t=E.lFrame;return E.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Vl=Fl;function Ys(){let t=Fl();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function sp(t){return(E.lFrame.contextLView=Wh(t,E.lFrame.contextLView))[K]}function mt(){return E.lFrame.selectedIndex}function st(t){E.lFrame.selectedIndex=t}function Ks(){let t=E.lFrame;return Us(t.tView,t.selectedIndex)}function LD(){E.lFrame.currentNamespace=Ml}function jD(){ap()}function ap(){E.lFrame.currentNamespace=null}function cp(){return E.lFrame.currentNamespace}var $l=!0;function ho(){return $l}function po(t){$l=t}function lp(){return qt(Q(),I())}function qt(t,e){return new mo(de(t,e))}var mo=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=lp;let t=e;return t})();function Hl(t){return t instanceof mo?t.nativeElement:t}function up(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let o=t[r],i=e[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}function dp(t){return t.flat(Number.POSITIVE_INFINITY)}function Zs(t,e){t.forEach(n=>Array.isArray(n)?Zs(n,e):e(n))}function Ul(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function $r(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function fp(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function hp(t,e,n,r){let o=t.length;if(o==e)t.push(n,r);else if(o===1)t.push(r,t[0]),t[0]=n;else{for(o--,t.push(t[o-1],t[o]);o>e;){let i=o-2;t[o]=t[i],o--}t[e]=n,t[e+1]=r}}function pp(t,e,n){let r=An(t,e);return r>=0?t[r|1]=n:(r=~r,hp(t,r,e,n)),r}function wi(t,e){let n=An(t,e);if(n>=0)return t[n|1]}function An(t,e){return mp(t,e,1)}function mp(t,e,n){let r=0,o=t.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=t[i<<n];if(e===s)return i<<n;s>e?o=i:r=i+1}return~(o<<n)}function gp(){return this._results[Symbol.iterator]()}var Vi=class t{get changes(){return this._changes??=new mn}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=gp)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=dp(e);(this._changesDetected=!up(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function Bl(t){return(t.flags&128)===128}var $i;function FD(t){$i=t}function vp(){if($i!==void 0)return $i;if(typeof document<"u")return document;throw new C(210,!1)}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function VD(t){return{providers:t.providers||[],imports:t.imports||[]}}function go(t){return Oc(t,ql)||Oc(t,Wl)}function $D(t){return go(t)!==null}function Oc(t,e){return t.hasOwnProperty(e)?t[e]:null}function yp(t){let e=t&&(t[ql]||t[Wl]);return e||null}function Ac(t){return t&&(t.hasOwnProperty(kc)||t.hasOwnProperty(wp))?t[kc]:null}var ql=A({\u0275prov:A}),kc=A({\u0275inj:A}),Wl=A({ngInjectableDef:A}),wp=A({ngInjectorDef:A}),F=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},HD=new F("",{providedIn:"root",factory:()=>_p}),_p="ng",bp=new F(""),UD=new F("",{providedIn:"platform",factory:()=>"unknown"});var BD=new F("",{providedIn:"root",factory:()=>vp().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Ip=A({__forward_ref__:A});function Gl(t){return t.__forward_ref__=Gl,t.toString=function(){return oe(this())},t}function Y(t){return zl(t)?t():t}function zl(t){return typeof t=="function"&&t.hasOwnProperty(Ip)&&t.__forward_ref__===Gl}function Ql(t){return t&&!!t.\u0275providers}function vo(t){return typeof t=="string"?t:t==null?"":String(t)}function Ep(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():vo(t)}function xp(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new C(-200,t)}function Xs(t,e){throw new C(-201,!1)}var Hi;function Jl(){return Hi}function te(t){let e=Hi;return Hi=t,e}function Yl(t,e,n){let r=go(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&S.Optional)return null;if(e!==void 0)return e;Xs(t,"Injector")}var Dp={},En=Dp,Ui="__NG_DI_FLAG__",Hr="ngTempTokenPath",Cp="ngTokenPath",Tp=/\n/gm,Mp="\u0275",Pc="__source",At;function Sp(){return At}function Le(t){let e=At;return At=t,e}function Np(t,e=S.Default){if(At===void 0)throw new C(-203,!1);return At===null?Yl(t,void 0,e):At.get(t,e&S.Optional?null:void 0,e)}function Ve(t,e=S.Default){return(Jl()||Np)(Y(t),e)}function H(t,e=S.Default){return Ve(t,yo(e))}function yo(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Bi(t){let e=[];for(let n=0;n<t.length;n++){let r=Y(t[n]);if(Array.isArray(r)){if(r.length===0)throw new C(900,!1);let o,i=S.Default;for(let s=0;s<r.length;s++){let a=r[s],c=Op(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}e.push(Ve(o,i))}else e.push(Ve(r))}return e}function Kl(t,e){return t[Ui]=e,t.prototype[Ui]=e,t}function Op(t){return t[Ui]}function Ap(t,e,n,r){let o=t[Hr];throw e[Pc]&&o.unshift(e[Pc]),t.message=kp(`
`+t.message,o,n,r),t[Cp]=o,t[Hr]=null,t}function kp(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Mp?t.slice(2):t;let o=oe(e);if(Array.isArray(e))o=e.map(oe).join(" -> ");else if(typeof e=="object"){let i=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];i.push(s+":"+(typeof a=="string"?JSON.stringify(a):oe(a)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${t.replace(Tp,`
  `)}`}var Pp="h",Rp="b";var Lp=()=>null;function ea(t,e,n=!1){return Lp(t,e,n)}var Tr="__parameters__";function jp(t){return function(...n){if(t){let r=t(...n);for(let o in r)this[o]=r[o]}}}function Zl(t,e,n){return Nn(()=>{let r=jp(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;let s=new o(...i);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Tr)?c[Tr]:Object.defineProperty(c,Tr,{value:[]})[Tr];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}var Xl=Kl(Zl("Optional"),8);var eu=Kl(Zl("SkipSelf"),4);function at(t,e){let n=t.hasOwnProperty(Fr);return n?t[Fr]:null}var Ur=new F(""),tu=new F("",-1),nu=new F(""),Br=class{get(e,n=En){if(n===En){let r=new Error(`NullInjectorError: No provider for ${oe(e)}!`);throw r.name="NullInjectorError",r}return n}};function Fp(t){return{\u0275providers:t}}function Vp(...t){return{\u0275providers:ru(!0,t),\u0275fromNgModule:!0}}function ru(t,...e){let n=[],r=new Set,o,i=s=>{n.push(s)};return Zs(e,s=>{let a=s;qi(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&ou(o,i),n}function ou(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:o}=t[n];ta(o,i=>{e(i,r)})}}function qi(t,e,n,r){if(t=Y(t),!t)return!1;let o=null,i=Ac(t),s=!i&&rt(t);if(!i&&!s){let c=t.ngModule;if(i=Ac(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=t}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)qi(l,e,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let l;try{Zs(i.imports,u=>{qi(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&ou(l,e)}if(!a){let l=at(o)||(()=>new o);e({provide:o,useFactory:l,deps:re},o),e({provide:nu,useValue:o,multi:!0},o),e({provide:Ur,useValue:()=>Ve(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let l=t;ta(c,u=>{e(u,l)})}}else return!1;return o!==t&&t.providers!==void 0}function ta(t,e){for(let n of t)Ql(n)&&(n=n.\u0275providers),Array.isArray(n)?ta(n,e):e(n)}var $p=A({provide:String,useValue:A});function iu(t){return t!==null&&typeof t=="object"&&$p in t}function Hp(t){return!!(t&&t.useExisting)}function Up(t){return!!(t&&t.useFactory)}function $t(t){return typeof t=="function"}function Bp(t){return!!t.useClass}var su=new F(""),Ar={},qp={},_i;function na(){return _i===void 0&&(_i=new Br),_i}var $e=class{},xn=class extends $e{get destroyed(){return this._destroyed}constructor(e,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gi(e,s=>this.processProvider(s)),this.records.set(tu,Nt(void 0,this)),o.has("environment")&&this.records.set($e,Nt(void 0,this));let i=this.records.get(su);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(nu,re,S.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=M(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),M(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Le(this),r=te(void 0),o;try{return e()}finally{Le(n),te(r)}}get(e,n=En,r=S.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Dc))return e[Dc](this);r=yo(r);let o,i=Le(this),s=te(void 0);try{if(!(r&S.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=Jp(e)&&go(e);l&&this.injectableDefInScope(l)?c=Nt(Wi(e),Ar):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&S.Self?na():this.parent;return n=r&S.Optional&&n===En?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Hr]=a[Hr]||[]).unshift(oe(e)),i)throw a;return Ap(a,e,"R3InjectorError",this.source)}else throw a}finally{te(s),Le(i)}}resolveInjectorInitializers(){let e=M(null),n=Le(this),r=te(void 0),o;try{let i=this.get(Ur,re,S.Self);for(let s of i)s()}finally{Le(n),te(r),M(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(oe(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new C(205,!1)}processProvider(e){e=Y(e);let n=$t(e)?e:Y(e&&e.provide),r=Gp(e);if(!$t(e)&&e.multi===!0){let o=this.records.get(n);o||(o=Nt(void 0,Ar,!0),o.factory=()=>Bi(o.multi),this.records.set(n,o)),n=e,o.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=M(null);try{return n.value===Ar&&(n.value=qp,n.value=n.factory()),typeof n.value=="object"&&n.value&&Qp(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{M(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Y(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Wi(t){let e=go(t),n=e!==null?e.factory:at(t);if(n!==null)return n;if(t instanceof F)throw new C(204,!1);if(t instanceof Function)return Wp(t);throw new C(204,!1)}function Wp(t){if(t.length>0)throw new C(204,!1);let n=yp(t);return n!==null?()=>n.factory(t):()=>new t}function Gp(t){if(iu(t))return Nt(void 0,t.useValue);{let e=au(t);return Nt(e,Ar)}}function au(t,e,n){let r;if($t(t)){let o=Y(t);return at(o)||Wi(o)}else if(iu(t))r=()=>Y(t.useValue);else if(Up(t))r=()=>t.useFactory(...Bi(t.deps||[]));else if(Hp(t))r=()=>Ve(Y(t.useExisting));else{let o=Y(t&&(t.useClass||t.provide));if(zp(t))r=()=>new o(...Bi(t.deps));else return at(o)||Wi(o)}return r}function Nt(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function zp(t){return!!t.deps}function Qp(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Jp(t){return typeof t=="function"||typeof t=="object"&&t instanceof F}function Gi(t,e){for(let n of t)Array.isArray(n)?Gi(n,e):n&&Ql(n)?Gi(n.\u0275providers,e):e(n)}function qD(t,e){t instanceof xn&&t.assertNotDestroyed();let n,r=Le(t),o=te(void 0);try{return e()}finally{Le(r),te(o)}}function Yp(t){if(!Jl()&&!Sp())throw new C(-203,!1)}function Kp(t){return typeof t=="function"}var zi=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function cu(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Zp(){return lu}function lu(t){return t.type.prototype.ngOnChanges&&(t.setInput=em),Xp}Zp.ngInherit=!0;function Xp(){let t=du(this),e=t?.current;if(e){let n=t.previous;if(n===Pt)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function em(t,e,n,r,o){let i=this.declaredInputs[r],s=du(t)||tm(t,{previous:Pt,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[i];a[i]=new zi(l&&l.currentValue,n,c===Pt),cu(t,e,o,n)}var uu="__ngSimpleChanges__";function du(t){return t[uu]||null}function tm(t,e){return t[uu]=e}var Rc=null;var _e=function(t,e,n){Rc?.(t,e,n)};function nm(t,e,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){let s=lu(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}o&&(n.preOrderHooks??=[]).push(0-t,o),i&&((n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i))}function wo(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let i=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=i;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function kr(t,e,n){fu(t,e,3,n)}function Pr(t,e,n,r){(t[y]&3)===n&&fu(t,e,n,r)}function bi(t,e){let n=t[y];(n&3)===e&&(n&=16383,n+=1,t[y]=n)}function fu(t,e,n,r){let o=r!==void 0?t[St]&65535:0,i=r??-1,s=e.length-1,a=0;for(let c=o;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[St]+=65536),(a<i||i==-1)&&(rm(t,n,e,c),t[St]=(t[St]&4294901760)+c+2),c++}function Lc(t,e){_e(4,t,e);let n=M(null);try{e.call(t)}finally{M(n),_e(5,t,e)}}function rm(t,e,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=t[s];o?t[y]>>14<t[St]>>16&&(t[y]&3)===e&&(t[y]+=16384,Lc(a,i)):Lc(a,i)}var kt=-1,ct=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function om(t){return t instanceof ct}function im(t){return(t.flags&8)!==0}function sm(t){return(t.flags&16)!==0}function hu(t){return t!==kt}function qr(t){return t&32767}function am(t){return t>>16}function Wr(t,e){let n=am(t),r=e;for(;n>0;)r=r[Ut],n--;return r}var Qi=!0;function Gr(t){let e=Qi;return Qi=t,e}var cm=256,pu=cm-1,mu=5,lm=0,be={};function um(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(gn)&&(r=n[gn]),r==null&&(r=n[gn]=lm++);let o=r&pu,i=1<<o;e.data[t+(o>>mu)]|=i}function zr(t,e){let n=gu(t,e);if(n!==-1)return n;let r=e[w];r.firstCreatePass&&(t.injectorIndex=e.length,Ii(r.data,t),Ii(e,null),Ii(r.blueprint,null));let o=ra(t,e),i=t.injectorIndex;if(hu(o)){let s=qr(o),a=Wr(o,e),c=a[w].data;for(let l=0;l<8;l++)e[i+l]=a[s+l]|c[s+l]}return e[i+8]=o,i}function Ii(t,e){t.push(0,0,0,0,0,0,0,0,e)}function gu(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function ra(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,o=e;for(;o!==null;){if(r=bu(o),r===null)return kt;if(n++,o=o[Ut],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return kt}function Ji(t,e,n){um(t,e,n)}function dm(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,o=0;for(;o<r;){let i=n[o];if(vl(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof n[o]=="string";)o++;else{if(i===e)return n[o+1];o=o+2}}}return null}function vu(t,e,n){if(n&S.Optional||t!==void 0)return t;Xs(e,"NodeInjector")}function yu(t,e,n,r){if(n&S.Optional&&r===void 0&&(r=null),!(n&(S.Self|S.Host))){let o=t[jt],i=te(void 0);try{return o?o.get(e,r,n&S.Optional):Yl(e,r,n&S.Optional)}finally{te(i)}}return vu(r,e,n)}function wu(t,e,n,r=S.Default,o){if(t!==null){if(e[y]&2048&&!(r&S.Self)){let s=mm(t,e,n,r,be);if(s!==be)return s}let i=_u(t,e,n,r,be);if(i!==be)return i}return yu(e,n,r,o)}function _u(t,e,n,r,o){let i=hm(n);if(typeof i=="function"){if(!Rl(e,t,r))return r&S.Host?vu(o,n,r):yu(e,n,r,o);try{let s;if(s=i(r),s==null&&!(r&S.Optional))Xs(n);else return s}finally{Vl()}}else if(typeof i=="number"){let s=null,a=gu(t,e),c=kt,l=r&S.Host?e[ue][ie]:null;for((a===-1||r&S.SkipSelf)&&(c=a===-1?ra(t,e):e[a+8],c===kt||!Fc(r,!1)?a=-1:(s=e[w],a=qr(c),e=Wr(c,e)));a!==-1;){let u=e[w];if(jc(i,a,u.data)){let d=fm(a,e,n,s,r,l);if(d!==be)return d}c=e[a+8],c!==kt&&Fc(r,e[w].data[a+8]===l)&&jc(i,a,e)?(s=u,a=qr(c),e=Wr(c,e)):a=-1}}return o}function fm(t,e,n,r,o,i){let s=e[w],a=s.data[t+8],c=r==null?lo(a)&&Qi:r!=s&&(a.type&3)!==0,l=o&S.Host&&i===a,u=Rr(a,s,n,c,l);return u!==null?lt(e,s,u,a):be}function Rr(t,e,n,r,o){let i=t.providerIndexes,s=e.data,a=i&1048575,c=t.directiveStart,l=t.directiveEnd,u=i>>20,d=r?a:a+u,h=o?a+u:l;for(let f=d;f<h;f++){let m=s[f];if(f<c&&n===m||f>=c&&m.type===n)return f}if(o){let f=s[c];if(f&&Fe(f)&&f.type===n)return c}return null}function lt(t,e,n,r){let o=t[n],i=e.data;if(om(o)){let s=o;s.resolving&&xp(Ep(i[n]));let a=Gr(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?te(s.injectImpl):null,u=Rl(t,r,S.Default);try{o=t[n]=s.factory(void 0,i,t,r),e.firstCreatePass&&n>=r.directiveStart&&nm(n,i[n],e)}finally{l!==null&&te(l),Gr(a),s.resolving=!1,Vl()}}return o}function hm(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(gn)?t[gn]:void 0;return typeof e=="number"?e>=0?e&pu:pm:e}function jc(t,e,n){let r=1<<t;return!!(n[e+(t>>mu)]&r)}function Fc(t,e){return!(t&S.Self)&&!(t&S.Host&&e)}var nt=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return wu(this._tNode,this._lView,e,yo(r),n)}};function pm(){return new nt(Q(),I())}function WD(t){return Nn(()=>{let e=t.prototype.constructor,n=e[Fr]||Yi(e),r=Object.prototype,o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){let i=o[Fr]||Yi(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Yi(t){return zl(t)?()=>{let e=Yi(Y(t));return e&&e()}:at(t)}function mm(t,e,n,r,o){let i=t,s=e;for(;i!==null&&s!==null&&s[y]&2048&&!(s[y]&512);){let a=_u(i,s,n,r|S.Self,be);if(a!==be)return a;let c=i.parent;if(!c){let l=s[Cl];if(l){let u=l.get(n,be,r);if(u!==be)return u}c=bu(s),s=s[Ut]}i=c}return o}function bu(t){let e=t[w],n=e.type;return n===2?e.declTNode:n===1?t[ie]:null}function GD(t){return dm(Q(),t)}function Vc(t,e=null,n=null,r){let o=Iu(t,e,n,r);return o.resolveInjectorInitializers(),o}function Iu(t,e=null,n=null,r,o=new Set){let i=[n||re,Vp(t)];return r=r||(typeof t=="object"?void 0:oe(t)),new xn(i,e||na(),r||null,o)}var oa=(()=>{let e=class e{static create(r,o){if(Array.isArray(r))return Vc({name:""},o,r,"");{let i=r.name??"";return Vc({name:i},r.parent,r.providers,i)}}};e.THROW_IF_NOT_FOUND=En,e.NULL=new Br,e.\u0275prov=G({token:e,providedIn:"any",factory:()=>Ve(tu)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),gm="ngOriginalError";function Ei(t){return t[gm]}var ut=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Ei(e);for(;n&&Ei(n);)n=Ei(n);return n||null}},Eu=new F("",{providedIn:"root",factory:()=>H(ut).handleError.bind(void 0)});var xu=!1,vm=new F("",{providedIn:"root",factory:()=>xu});var Mr;function ym(){if(Mr===void 0&&(Mr=null,we.trustedTypes))try{Mr=we.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Mr}function $c(t){return ym()?.createScriptURL(t)||t}var Qr=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fl})`}};function ia(t){return t instanceof Qr?t.changingThisBreaksApplicationSecurity:t}function Du(t,e){let n=wm(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${fl})`)}return n===e}function wm(t){return t instanceof Qr&&t.getTypeName()||null}var _m=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bm(t){return t=String(t),t.match(_m)?t:"unsafe:"+t}var sa=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(sa||{});function Im(t){let e=Cu();return e?e.sanitize(sa.URL,t)||"":Du(t,"URL")?ia(t):bm(vo(t))}function Em(t){let e=Cu();if(e)return $c(e.sanitize(sa.RESOURCE_URL,t)||"");if(Du(t,"ResourceURL"))return $c(ia(t));throw new C(904,!1)}function xm(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?Em:Im}function zD(t,e,n){return xm(e,n)(t)}function Cu(){let t=I();return t&&t[Te].sanitizer}var Dm=/^>|^->|<!--|-->|--!>|<!-$/g,Cm=/(<|>)/g,Tm="\u200B$1\u200B";function Mm(t){return t.replace(Dm,e=>e.replace(Cm,Tm))}var Tu=new Map,Sm=0;function Nm(){return Sm++}function Om(t){Tu.set(t[co],t)}function Am(t){Tu.delete(t[co])}var Hc="__ngContext__";function He(t,e){tt(e)?(t[Hc]=e[co],Om(e)):t[Hc]=e}function Mu(t){return t instanceof Function?t():t}var Ki=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ki||{}),km;function aa(t,e){return km(t,e)}function Ot(t,e,n,r,o){if(r!=null){let i,s=!1;Ne(r)?i=r:tt(r)&&(s=!0,r=r[Se]);let a=Ee(r);t===0&&n!==null?o==null?ku(e,n,a):Jr(e,n,a,o||null,!0):t===1&&n!==null?Jr(e,n,a,o||null,!0):t===2?Jm(e,a,s):t===3&&e.destroyNode(a),i!=null&&Km(e,t,i,n,o)}}function Pm(t,e){return t.createText(e)}function Rm(t,e,n){t.setValue(e,n)}function Lm(t,e){return t.createComment(Mm(e))}function Su(t,e,n){return t.createElement(e,n)}function jm(t,e){Nu(t,e),e[Se]=null,e[ie]=null}function Fm(t,e,n,r,o,i){r[Se]=o,r[ie]=e,Io(t,r,n,1,o,i)}function Nu(t,e){Io(t,e,e[L],2,null,null)}function Vm(t){let e=t[_n];if(!e)return xi(t[w],t);for(;e;){let n=null;if(tt(e))n=e[_n];else{let r=e[z];r&&(n=r)}if(!n){for(;e&&!e[ge]&&e!==t;)tt(e)&&xi(e[w],e),e=e[W];e===null&&(e=t),tt(e)&&xi(e[w],e),n=e&&e[ge]}e=n}}function $m(t,e,n,r){let o=z+r,i=n.length;r>0&&(n[o-1][ge]=e),r<i-z?(e[ge]=n[o],Ul(n,z+r,e)):(n.push(e),e[ge]=null),e[W]=n;let s=e[On];s!==null&&n!==s&&Hm(s,e);let a=e[Me];a!==null&&a.insertView(t),ji(e),e[y]|=128}function Hm(t,e){let n=t[Ft],o=e[W][W][ue];e[ue]!==o&&(t[y]|=$s.HasTransplantedViews),n===null?t[Ft]=[e]:n.push(e)}function Ou(t,e){let n=t[Ft],r=n.indexOf(e);n.splice(r,1)}function Dn(t,e){if(t.length<=z)return;let n=z+e,r=t[n];if(r){let o=r[On];o!==null&&o!==t&&Ou(o,r),e>0&&(t[n-1][ge]=r[ge]);let i=$r(t,z+e);jm(r[w],r);let s=i[Me];s!==null&&s.detachView(i[w]),r[W]=null,r[ge]=null,r[y]&=-129}return r}function _o(t,e){if(!(e[y]&256)){let n=e[L];n.destroyNode&&Io(t,e,n,3,null,null),Vm(e)}}function xi(t,e){if(e[y]&256)return;let n=M(null);try{e[y]&=-129,e[y]|=256,e[ot]&&ri(e[ot]),Bm(t,e),Um(t,e),e[w].type===1&&e[L].destroy();let r=e[On];if(r!==null&&Ne(e[W])){r!==e[W]&&Ou(r,e);let o=e[Me];o!==null&&o.detachView(t)}Am(e)}finally{M(n)}}function Um(t,e){let n=t.cleanup,r=e[wn];if(n!==null)for(let i=0;i<n.length-1;i+=2)if(typeof n[i]=="string"){let s=n[i+3];s>=0?r[s]():r[-s].unsubscribe(),i+=2}else{let s=r[n[i+1]];n[i].call(s)}r!==null&&(e[wn]=null);let o=e[je];if(o!==null){e[je]=null;for(let i=0;i<o.length;i++){let s=o[i];s()}}}function Bm(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=e[n[r]];if(!(o instanceof ct)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];_e(4,a,c);try{c.call(a)}finally{_e(5,a,c)}}else{_e(4,o,i);try{i.call(o)}finally{_e(5,o,i)}}}}}function Au(t,e,n){return qm(t,e.parent,n)}function qm(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Se];{let{componentOffset:o}=r;if(o>-1){let{encapsulation:i}=t.data[r.directiveStart+o];if(i===vn.None||i===vn.Emulated)return null}return de(r,n)}}function Jr(t,e,n,r,o){t.insertBefore(e,n,r,o)}function ku(t,e,n){t.appendChild(e,n)}function Uc(t,e,n,r,o){r!==null?Jr(t,e,n,r,o):ku(t,e,n)}function Wm(t,e,n,r){t.removeChild(e,n,r)}function ca(t,e){return t.parentNode(e)}function Gm(t,e){return t.nextSibling(e)}function Pu(t,e,n){return Qm(t,e,n)}function zm(t,e,n){return t.type&40?de(t,n):null}var Qm=zm,Bc;function bo(t,e,n,r){let o=Au(t,r,e),i=e[L],s=r.parent||e[ie],a=Pu(s,r,e);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Uc(i,o,n[c],a,!1);else Uc(i,o,n,a,!1);Bc!==void 0&&Bc(i,r,e,n,o)}function Lr(t,e){if(e!==null){let n=e.type;if(n&3)return de(e,t);if(n&4)return Zi(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Lr(t,r);{let o=t[e.index];return Ne(o)?Zi(-1,o):Ee(o)}}else{if(n&32)return aa(e,t)()||Ee(t[e.index]);{let r=Ru(t,e);if(r!==null){if(Array.isArray(r))return r[0];let o=In(t[ue]);return Lr(o,r)}else return Lr(t,e.next)}}}return null}function Ru(t,e){if(e!==null){let r=t[ue][ie],o=e.projection;return r.projection[o]}return null}function Zi(t,e){let n=z+t+1;if(n<e.length){let r=e[n],o=r[w].firstChild;if(o!==null)return Lr(r,o)}return e[it]}function Jm(t,e,n){let r=ca(t,e);r&&Wm(t,r,e,n)}function la(t,e,n,r,o,i,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&He(Ee(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)la(t,e,n.child,r,o,i,!1),Ot(e,t,o,a,i);else if(c&32){let l=aa(n,r),u;for(;u=l();)Ot(e,t,o,u,i);Ot(e,t,o,a,i)}else c&16?Lu(t,e,r,n,o,i):Ot(e,t,o,a,i);n=s?n.projectionNext:n.next}}function Io(t,e,n,r,o,i){la(n,r,t.firstChild,e,o,i,!1)}function Ym(t,e,n){let r=e[L],o=Au(t,n,e),i=n.parent||e[ie],s=Pu(i,n,e);Lu(r,0,e,n,o,s)}function Lu(t,e,n,r,o,i){let s=n[ue],c=s[ie].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Ot(e,t,o,u,i)}else{let l=c,u=s[W];Bl(r)&&(l.flags|=128),la(t,e,l,u,o,i,!0)}}function Km(t,e,n,r,o){let i=n[it],s=Ee(n);i!==s&&Ot(e,t,r,i,o);for(let a=z;a<n.length;a++){let c=n[a];Io(c[w],c,t,e,r,i)}}function Zm(t,e,n,r,o){if(e)o?t.addClass(n,r):t.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:Ki.DashCase;o==null?t.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Ki.Important),t.setStyle(n,r,o,i))}}function Xm(t,e,n){t.setAttribute(e,"style",n)}function ju(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Fu(t,e,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&Li(t,e,r),o!==null&&ju(t,e,o),i!==null&&Xm(t,e,i)}var Be={};function QD(t=1){Vu(V(),I(),mt()+t,!1)}function Vu(t,e,n,r){if(!r)if((e[y]&3)===3){let i=t.preOrderCheckHooks;i!==null&&kr(e,i,n)}else{let i=t.preOrderHooks;i!==null&&Pr(e,i,0,n)}st(n)}function Eo(t,e=S.Default){let n=I();if(n===null)return Ve(t,e);let r=Q();return wu(r,n,Y(t),e)}function $u(t,e,n,r,o,i){let s=M(null);try{let a=null;o&Rt.SignalBased&&(a=e[r][X]),a!==null&&a.transformFn!==void 0&&(i=a.transformFn(i)),o&Rt.HasDecoratorInputTransform&&(i=t.inputTransforms[r].call(e,i)),t.setInput!==null?t.setInput(e,a,i,n,r):cu(e,a,r,i)}finally{M(s)}}function eg(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)st(~o);else{let i=o,s=n[++r],a=n[++r];np(s,i);let c=e[i];a(2,c)}}}finally{st(-1)}}function xo(t,e,n,r,o,i,s,a,c,l,u){let d=e.blueprint.slice();return d[Se]=o,d[y]=r|4|128|8|64,(l!==null||t&&t[y]&2048)&&(d[y]|=2048),Nl(d),d[W]=d[Ut]=t,d[K]=n,d[Te]=s||t&&t[Te],d[L]=a||t&&t[L],d[jt]=c||t&&t[jt]||null,d[ie]=i,d[co]=Nm(),d[Lt]=u,d[Cl]=l,d[ue]=e.type==2?t[ue]:d,d}function Wt(t,e,n,r,o){let i=t.data[e];if(i===null)i=tg(t,e,n,r,o),tp()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=Zh();i.injectorIndex=s===null?-1:s.injectorIndex}return pt(i,!0),i}function tg(t,e,n,r,o){let i=Pl(),s=Ws(),a=s?i:i&&i.parent,c=t.data[e]=ag(t,a,n,e,r,o);return t.firstChild===null&&(t.firstChild=c),i!==null&&(s?i.child==null&&c.parent!==null&&(i.child=c):i.next===null&&(i.next=c,c.prev=i)),c}function Hu(t,e,n,r){if(n===0)return-1;let o=e.length;for(let i=0;i<n;i++)e.push(r),t.blueprint.push(r),t.data.push(null);return o}function Uu(t,e,n,r,o){let i=mt(),s=r&2;try{st(-1),s&&e.length>Z&&Vu(t,e,Z,!1),_e(s?2:0,o),n(r,o)}finally{st(i),_e(s?3:1,o)}}function ua(t,e,n){if(Hs(e)){let r=M(null);try{let o=e.directiveStart,i=e.directiveEnd;for(let s=o;s<i;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{M(r)}}}function da(t,e,n){Al()&&(hg(t,e,n,de(n,e)),(n.flags&64)===64&&Gu(t,e,n))}function fa(t,e,n=de){let r=e.localNames;if(r!==null){let o=e.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(e,t):t[s];t[o++]=a}}}function Bu(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=ha(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function ha(t,e,n,r,o,i,s,a,c,l,u){let d=Z+r,h=d+o,f=ng(d,h),m=typeof l=="function"?l():l;return f[w]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:u}}function ng(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Be);return n}function rg(t,e,n,r){let i=r.get(vm,xu)||n===vn.ShadowDom,s=t.selectRootElement(e,i);return og(s),s}function og(t){ig(t)}var ig=()=>null;function sg(t,e,n,r){let o=Ju(e);o.push(n),t.firstCreatePass&&Yu(t).push(r,o.length-1)}function ag(t,e,n,r,o,i){let s=e?e.injectorIndex:-1,a=0;return kl()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function qc(t,e,n,r,o){for(let i in e){if(!e.hasOwnProperty(i))continue;let s=e[i];if(s===void 0)continue;r??={};let a,c=Rt.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=i;if(o!==null){if(!o.hasOwnProperty(i))continue;l=o[i]}t===0?Wc(r,n,l,a,c):Wc(r,n,l,a)}return r}function Wc(t,e,n,r,o){let i;t.hasOwnProperty(n)?(i=t[n]).push(e,r):i=t[n]=[e,r],o!==void 0&&i.push(o)}function cg(t,e,n){let r=e.directiveStart,o=e.directiveEnd,i=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<o;u++){let d=i[u],h=n?n.get(d):null,f=h?h.inputs:null,m=h?h.outputs:null;c=qc(0,d.inputs,u,c,f),l=qc(1,d.outputs,u,l,m);let g=c!==null&&s!==null&&!wl(e)?xg(c,u,s):null;a.push(g)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function lg(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function qu(t,e,n,r,o,i,s,a){let c=de(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(ma(t,n,u,r,o),lo(e)&&ug(n,e.index)):e.type&3?(r=lg(r),o=s!=null?s(o,e.value||"",r):o,i.setProperty(c,r,o)):e.type&12}function ug(t,e){let n=Ue(e,t);n[y]&16||(n[y]|=64)}function pa(t,e,n,r){if(Al()){let o=r===null?null:{"":-1},i=mg(t,n),s,a;i===null?s=a=null:[s,a]=i,s!==null&&Wu(t,e,n,s,o,a),o&&gg(n,r,o)}n.mergedAttrs=yn(n.mergedAttrs,n.attrs)}function Wu(t,e,n,r,o,i){for(let l=0;l<r.length;l++)Ji(zr(n,e),t,r[l].type);yg(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=Hu(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=yn(n.mergedAttrs,u.hostAttrs),wg(t,n,e,c,u),vg(c,u,o),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}cg(t,n,i)}function dg(t,e,n,r,o){let i=o.hostBindings;if(i){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;fg(s)!=a&&s.push(a),s.push(n,r,i)}}function fg(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function hg(t,e,n,r){let o=n.directiveStart,i=n.directiveEnd;lo(n)&&_g(e,n,t.data[o+n.componentOffset]),t.firstCreatePass||zr(n,e),He(r,e);let s=n.initialInputs;for(let a=o;a<i;a++){let c=t.data[a],l=lt(e,t,a,n);if(He(l,e),s!==null&&Eg(e,a-o,l,c,n,s),Fe(c)){let u=Ue(n.index,e);u[K]=lt(e,t,a,n)}}}function Gu(t,e,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=rp();try{st(i);for(let a=r;a<o;a++){let c=t.data[a],l=e[a];Fi(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&pg(c,l)}}finally{st(-1),Fi(s)}}function pg(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function mg(t,e){let n=t.directiveRegistry,r=null,o=null;if(n)for(let i=0;i<n.length;i++){let s=n[i];if(_l(e,s.selectors,!1))if(r||(r=[]),Fe(s))if(s.findHostDirectiveDefs!==null){let a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),r.unshift(...a,s);let c=a.length;Xi(t,e,c)}else r.unshift(s),Xi(t,e,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return r===null?null:[r,o]}function Xi(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function gg(t,e,n){if(e){let r=t.localNames=[];for(let o=0;o<e.length;o+=2){let i=n[e[o+1]];if(i==null)throw new C(-301,!1);r.push(e[o],i)}}}function vg(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Fe(e)&&(n[""]=t)}}function yg(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function wg(t,e,n,r,o){t.data[r]=o;let i=o.factory||(o.factory=at(o.type,!0)),s=new ct(i,Fe(o),Eo);t.blueprint[r]=s,n[r]=s,dg(t,e,r,Hu(t,n,o.hostVars,Be),o)}function _g(t,e,n){let r=de(e,t),o=Bu(n),i=t[Te].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Do(t,xo(t,o,null,s,r,e,null,i.createRenderer(r,n),null,null,null));t[e.index]=a}function bg(t,e,n,r,o,i){let s=de(t,e);Ig(e[L],s,i,t.value,n,r,o)}function Ig(t,e,n,r,o,i,s){if(i==null)t.removeAttribute(e,o,n);else{let a=s==null?vo(i):s(i,r||"",o);t.setAttribute(e,o,a,n)}}function Eg(t,e,n,r,o,i){let s=i[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];$u(r,n,c,l,u,d)}}function xg(t,e,n){let r=null,o=0;for(;o<n.length;){let i=n[o];if(i===0){o+=4;continue}else if(i===5){o+=2;continue}if(typeof i=="number")break;if(t.hasOwnProperty(i)){r===null&&(r=[]);let s=t[i];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(i,s[a+1],s[a+2],n[o+1]);break}}o+=2}return r}function zu(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Qu(t,e){let n=t.contentQueries;if(n!==null){let r=M(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=t.data[s];fo(i),a.contentQueries(2,e[s],s)}}}finally{M(r)}}}function Do(t,e){return t[_n]?t[Nc][ge]=e:t[_n]=e,t[Nc]=e,e}function es(t,e,n){fo(0);let r=M(null);try{e(t,n)}finally{M(r)}}function Ju(t){return t[wn]||(t[wn]=[])}function Yu(t){return t.cleanup||(t.cleanup=[])}function Ku(t,e){let n=t[jt],r=n?n.get(ut,null):null;r&&r.handleError(e)}function ma(t,e,n,r,o){for(let i=0;i<n.length;){let s=n[i++],a=n[i++],c=n[i++],l=e[s],u=t.data[s];$u(u,l,r,a,c,o)}}function Dg(t,e,n){let r=Sl(e,t);Rm(t[L],r,n)}function Cg(t,e){let n=Ue(e,t),r=n[w];Tg(r,n);let o=n[Se];o!==null&&n[Lt]===null&&(n[Lt]=ea(o,n[jt])),ga(r,n,n[K])}function Tg(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function ga(t,e,n){Js(e);try{let r=t.viewQuery;r!==null&&es(1,r,n);let o=t.template;o!==null&&Uu(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Me]?.finishViewCreation(t),t.staticContentQueries&&Qu(t,e),t.staticViewQueries&&es(2,t.viewQuery,n);let i=t.components;i!==null&&Mg(e,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[y]&=-5,Ys()}}function Mg(t,e){for(let n=0;n<e.length;n++)Cg(t,e[n])}function Co(t,e,n,r){let o=M(null);try{let i=e.tView,a=t[y]&4096?4096:16,c=xo(t,i,n,a,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),l=t[e.index];c[On]=l;let u=t[Me];return u!==null&&(c[Me]=u.createEmbeddedView(i)),ga(i,c,n),c}finally{M(o)}}function Zu(t,e){let n=z+e;if(n<t.length)return t[n]}function Cn(t,e){return!e||e.firstChild===null||Bl(t)}function To(t,e,n,r=!0){let o=e[w];if($m(o,e,t,n),r){let s=Zi(n,t),a=e[L],c=ca(a,t[it]);c!==null&&Fm(o,t[ie],a,e,c,s)}let i=e[Lt];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function Xu(t,e){let n=Dn(t,e);return n!==void 0&&_o(n[w],n),n}function Yr(t,e,n,r,o=!1){for(;n!==null;){let i=e[n.index];i!==null&&r.push(Ee(i)),Ne(i)&&Sg(i,r);let s=n.type;if(s&8)Yr(t,e,n.child,r);else if(s&32){let a=aa(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=Ru(e,n);if(Array.isArray(a))r.push(...a);else{let c=In(e[ue]);Yr(c[w],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function Sg(t,e){for(let n=z;n<t.length;n++){let r=t[n],o=r[w].firstChild;o!==null&&Yr(r[w],r,o,e)}t[it]!==t[Se]&&e.push(t[it])}var ed=[];function Ng(t){return t[ot]??Og(t)}function Og(t){let e=ed.pop()??Object.create(kg);return e.lView=t,e}function Ag(t){t.lView[ot]!==t&&(t.lView=null,ed.push(t))}var kg=le(ce({},an),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{bn(t.lView)},consumerOnSignalRead(){this.lView[ot]=this}});function td(t){return rd(t[_n])}function nd(t){return rd(t[ge])}function rd(t){for(;t!==null&&!Ne(t);)t=t[ge];return t}var od=100;function id(t,e=!0,n=0){let r=t[Te],o=r.rendererFactory,i=!1;i||o.begin?.();try{Pg(t,n)}catch(s){throw e&&Ku(t,s),s}finally{i||(o.end?.(),r.inlineEffectRunner?.flush())}}function Pg(t,e){ts(t,e);let n=0;for(;qs(t);){if(n===od)throw new C(103,!1);n++,ts(t,1)}}function Rg(t,e,n,r){let o=e[y];if((o&256)===256)return;let i=!1;!i&&e[Te].inlineEffectRunner?.flush(),Js(e);let s=null,a=null;!i&&Lg(t)&&(a=Ng(e),s=er(a));try{Nl(e),Xh(t.bindingStartIndex),n!==null&&Uu(t,e,n,2,r);let c=(o&3)===3;if(!i)if(c){let d=t.preOrderCheckHooks;d!==null&&kr(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Pr(e,d,0,null),bi(e,0)}if(jg(e),sd(e,0),t.contentQueries!==null&&Qu(t,e),!i)if(c){let d=t.contentCheckHooks;d!==null&&kr(e,d)}else{let d=t.contentHooks;d!==null&&Pr(e,d,1),bi(e,1)}eg(t,e);let l=t.components;l!==null&&cd(e,l,0);let u=t.viewQuery;if(u!==null&&es(2,u,r),!i)if(c){let d=t.viewCheckHooks;d!==null&&kr(e,d)}else{let d=t.viewHooks;d!==null&&Pr(e,d,2),bi(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Or]){for(let d of e[Or])d();e[Or]=null}i||(e[y]&=-73)}catch(c){throw bn(e),c}finally{a!==null&&(tr(a,s),Ag(a)),Ys()}}function Lg(t){return t.type!==2}function sd(t,e){for(let n=td(t);n!==null;n=nd(n))for(let r=z;r<n.length;r++){let o=n[r];ad(o,e)}}function jg(t){for(let e=td(t);e!==null;e=nd(e)){if(!(e[y]&$s.HasTransplantedViews))continue;let n=e[Ft];for(let r=0;r<n.length;r++){let o=n[r],i=o[W];qh(o)}}}function Fg(t,e,n){let r=Ue(e,t);ad(r,n)}function ad(t,e){Bs(t)&&ts(t,e)}function ts(t,e){let r=t[w],o=t[y],i=t[ot],s=!!(e===0&&o&16);if(s||=!!(o&64&&e===0),s||=!!(o&1024),s||=!!(i?.dirty&&nr(i)),i&&(i.dirty=!1),t[y]&=-9217,s)Rg(r,t,r.template,t[K]);else if(o&8192){sd(t,1);let a=r.components;a!==null&&cd(t,a,1)}}function cd(t,e,n){for(let r=0;r<e.length;r++)Fg(t,e[r],n)}function va(t){for(t[Te].changeDetectionScheduler?.notify();t;){t[y]|=64;let e=In(t);if(jh(t)&&!e)return t;t=e}return null}var dt=class{get rootNodes(){let e=this._lView,n=e[w];return Yr(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[K]}set context(e){this._lView[K]=e}get destroyed(){return(this._lView[y]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[W];if(Ne(e)){let n=e[Vr],r=n?n.indexOf(this):-1;r>-1&&(Dn(e,r),$r(n,r))}this._attachedToViewContainer=!1}_o(this._lView[w],this._lView)}onDestroy(e){Ol(this._lView,e)}markForCheck(){va(this._cdRefInjectingView||this._lView)}detach(){this._lView[y]&=-129}reattach(){ji(this._lView),this._lView[y]|=128}detectChanges(){this._lView[y]|=1024,id(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Nu(this._lView[w],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=e,ji(this._lView)}},Kr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Hg;let t=e;return t})(),Vg=Kr,$g=class extends Vg{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let o=Co(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new dt(o)}};function Hg(){return Mo(Q(),I())}function Mo(t,e){return t.type&4?new $g(e,t,qt(t,e)):null}var YD=new RegExp(`^(\\d+)*(${Rp}|${Pp})*(.*)`);var Ug=()=>null;function Tn(t,e){return Ug(t,e)}var ns=class{},rs=class{},Zr=class{};function Bg(t){let e=Error(`No component factory found for ${oe(t)}.`);return e[qg]=t,e}var qg="ngComponent";var os=class{resolveComponentFactory(e){throw Bg(e)}},So=(()=>{let e=class e{};e.NULL=new os;let t=e;return t})(),is=class{},KD=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Wg();let t=e;return t})();function Wg(){let t=I(),e=Q(),n=Ue(e.index,t);return(tt(n)?n:t)[L]}var Gg=(()=>{let e=class e{};e.\u0275prov=G({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Di={},ld=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=zg,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),ss=class extends ld{constructor(e){super(),this._lView=e}onDestroy(e){return Ol(this._lView,e),()=>Gh(this._lView,e)}};function zg(){return new ss(I())}var Gc=new Set;function Gt(t){Gc.has(t)||(Gc.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function zc(...t){}function Qg(){let t=typeof we.requestAnimationFrame=="function",e=we[t?"requestAnimationFrame":"setTimeout"],n=we[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Ie=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new mn(!1),this.onMicrotaskEmpty=new mn(!1),this.onStable=new mn(!1),this.onError=new mn(!1),typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=Qg().nativeRequestAnimationFrame,Kg(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new C(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,Jg,zc,zc);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Jg={};function ya(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Yg(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(we,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,as(t),t.isCheckStableRunning=!0,ya(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),as(t))}function Kg(t){let e=()=>{Yg(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,i,s,a)=>{if(Zg(a))return n.invokeTask(o,i,s,a);try{return Qc(t),n.invokeTask(o,i,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&i.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Jc(t)}},onInvoke:(n,r,o,i,s,a,c)=>{try{return Qc(t),n.invoke(o,i,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Jc(t)}},onHasTask:(n,r,o,i)=>{n.hasTask(o,i),r===o&&(i.change=="microTask"?(t._hasPendingMicrotasks=i.microTask,as(t),ya(t)):i.change=="macroTask"&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(n,r,o,i)=>(n.handleError(o,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}function as(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Qc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Jc(t){t._nesting--,ya(t)}function Zg(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var ud=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let o of r)o()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=G({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Xr(t,e,n){let r=n?t.styles:null,o=n?t.classes:null,i=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")i=a;else if(i==1)o=xc(o,a);else if(i==2){let c=a,l=e[++s];r=xc(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=o:t.classesWithoutHost=o}var eo=class extends So{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=rt(e);return new Mn(n,this.ngModule)}};function Yc(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function Xg(t){let e=t.toLowerCase();return e==="svg"?Ml:e==="math"?Fh:null}var cs=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=yo(r);let o=this.injector.get(e,Di,r);return o!==Di||n===Di?o:this.parentInjector.get(e,n,r)}},Mn=class extends Zr{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Yc(e.inputs);if(n!==null)for(let o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return Yc(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Oh(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,o){let i=M(null);try{o=o||this.ngModule;let s=o instanceof $e?o:o?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new cs(e,s):e,c=a.get(is,null);if(c===null)throw new C(407,!1);let l=a.get(Gg,null),u=a.get(ud,null),d=a.get(ns,null),h={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},f=c.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",g=r?rg(f,r,this.componentDef.encapsulation,a):Su(f,m,Xg(m)),v=512;this.componentDef.signals?v|=4096:this.componentDef.onPush||(v|=16);let b=null;g!==null&&(b=ea(g,a,!0));let B=ha(0,null,null,1,0,null,null,null,null,null,null),R=xo(null,B,null,v,null,null,h,f,a,null,b);Js(R);let k,J;try{let ae=this.componentDef,ke,Xo=null;ae.findHostDirectiveDefs?(ke=[],Xo=new Map,ae.findHostDirectiveDefs(ae,ke,Xo),ke.push(ae)):ke=[ae];let Ef=ev(R,g),xf=tv(Ef,g,ae,ke,R,h,f);J=Us(B,Z),g&&ov(f,ae,g,r),n!==void 0&&iv(J,this.ngContentSelectors,n),k=rv(xf,ae,ke,Xo,R,[sv]),ga(B,R,null)}finally{Ys()}return new ls(this.componentType,k,qt(J,R),R,J)}finally{M(i)}}},ls=class extends rs{constructor(e,n,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new dt(o,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,o;if(r!==null&&(o=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView;ma(i[w],i,o,e,n),this.previousInputValues.set(e,n);let s=Ue(this._tNode.index,i);va(s)}}get injector(){return new nt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function ev(t,e){let n=t[w],r=Z;return t[r]=e,Wt(n,r,2,"#host",null)}function tv(t,e,n,r,o,i,s){let a=o[w];nv(r,t,e,s);let c=null;e!==null&&(c=ea(e,o[jt]));let l=i.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=xo(o,Bu(n),null,u,o[t.index],t,i,l,null,null,c);return a.firstCreatePass&&Xi(a,t,r.length-1),Do(o,d),o[t.index]=d}function nv(t,e,n,r){for(let o of t)e.mergedAttrs=yn(e.mergedAttrs,o.hostAttrs);e.mergedAttrs!==null&&(Xr(e,e.mergedAttrs,!0),n!==null&&Fu(r,n,e))}function rv(t,e,n,r,o,i){let s=Q(),a=o[w],c=de(s,o);Wu(a,o,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,h=lt(o,a,d,s);He(h,o)}Gu(a,o,s),c&&He(c,o);let l=lt(o,a,s.directiveStart+s.componentOffset,s);if(t[K]=o[K]=l,i!==null)for(let u of i)u(l,e);return ua(a,s,o),l}function ov(t,e,n,r){if(r)Li(t,n,["ng-version","17.2.4"]);else{let{attrs:o,classes:i}=Ah(e.selectors[0]);o&&Li(t,n,o),i&&i.length>0&&ju(t,n,i.join(" "))}}function iv(t,e,n){let r=t.projection=[];for(let o=0;o<e.length;o++){let i=n[o];r.push(i!=null?Array.from(i):null)}}function sv(){let t=Q();wo(I()[w],t)}var wa=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=av;let t=e;return t})();function av(){let t=Q();return fd(t,I())}var cv=wa,dd=class extends cv{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return qt(this._hostTNode,this._hostLView)}get injector(){return new nt(this._hostTNode,this._hostLView)}get parentInjector(){let e=ra(this._hostTNode,this._hostLView);if(hu(e)){let n=Wr(e,this._hostLView),r=qr(e),o=n[w].data[r+8];return new nt(o,n)}else return new nt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Kc(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-z}createEmbeddedView(e,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=Tn(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,Cn(this._hostTNode,s)),a}createComponent(e,n,r,o,i){let s=e&&!Kp(e),a;if(s)a=n;else{let m=n||{};a=m.index,r=m.injector,o=m.projectableNodes,i=m.environmentInjector||m.ngModuleRef}let c=s?e:new Mn(rt(e)),l=r||this.parentInjector;if(!i&&c.ngModule==null){let g=(s?l:this.parentInjector).get($e,null);g&&(i=g)}let u=rt(c.componentType??{}),d=Tn(this._lContainer,u?.id??null),h=d?.firstChild??null,f=c.create(l,o,h,i);return this.insertImpl(f.hostView,a,Cn(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let o=e._lView;if(Bh(o)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=o[W],l=new dd(c,c[ie],c[W]);l.detach(l.indexOf(e))}}let i=this._adjustIndex(n),s=this._lContainer;return To(s,o,i,r),e.attachToViewContainerRef(),Ul(Ci(s),i,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Kc(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Dn(this._lContainer,n);r&&($r(Ci(this._lContainer),n),_o(r[w],r))}detach(e){let n=this._adjustIndex(e,-1),r=Dn(this._lContainer,n);return r&&$r(Ci(this._lContainer),n)!=null?new dt(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Kc(t){return t[Vr]}function Ci(t){return t[Vr]||(t[Vr]=[])}function fd(t,e){let n,r=e[t.index];return Ne(r)?n=r:(n=zu(r,e,null,t),e[t.index]=n,Do(e,n)),uv(n,e,t,r),new dd(n,t,e)}function lv(t,e){let n=t[L],r=n.createComment(""),o=de(e,t),i=ca(n,o);return Jr(n,i,r,Gm(n,o),!1),r}var uv=hv,dv=()=>!1;function fv(t,e,n){return dv(t,e,n)}function hv(t,e,n,r){if(t[it])return;let o;n.type&8?o=Ee(r):o=lv(e,n),t[it]=o}var us=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},ds=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){let s=n.getByIndex(i),a=this.queries[s.indexInDeclarationView];o.push(a.clone())}return new t(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)ba(e,n).matches!==null&&this.queries[n].setDirty()}},to=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=wv(e):this.predicate=e}},fs=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let o=n!==null?n.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,n!==null?n.push(i):n=[i])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},hs=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(e,n,pv(n,i)),this.matchTNodeWithReadOption(e,n,Rr(n,e,i,!1,!1))}else r===Kr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Rr(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===mo||o===wa||o===Kr&&n.type&4)this.addMatch(n.index,-2);else{let i=Rr(n,e,o,!1,!1);i!==null&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function pv(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function mv(t,e){return t.type&11?qt(t,e):t.type&4?Mo(t,e):null}function gv(t,e,n,r){return n===-1?mv(e,t):n===-2?vv(t,e,r):lt(t,t[w],n,e)}function vv(t,e,n){if(n===mo)return qt(e,t);if(n===Kr)return Mo(e,t);if(n===wa)return fd(e,t)}function hd(t,e,n,r){let o=e[Me].queries[r];if(o.matches===null){let i=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=i[l];a.push(gv(e,u,s[c+1],n.metadata.read))}}o.matches=a}return o.matches}function ps(t,e,n,r){let o=t.queries.getByIndex(n),i=o.matches;if(i!==null){let s=hd(t,e,o,n);for(let a=0;a<i.length;a+=2){let c=i[a];if(c>0)r.push(s[a/2]);else{let l=i[a+1],u=e[-c];for(let d=z;d<u.length;d++){let h=u[d];h[On]===h[W]&&ps(h[w],h,l,r)}if(u[Ft]!==null){let d=u[Ft];for(let h=0;h<d.length;h++){let f=d[h];ps(f[w],f,l,r)}}}}}return r}function _a(t,e){return t[Me].queries[e].queryList}function pd(t,e,n){let r=new Vi((n&4)===4);return sg(t,e,r,r.destroy),(e[Me]??=new ds).queries.push(new us(r))-1}function md(t,e,n){let r=V();return r.firstCreatePass&&(gd(r,new to(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),pd(r,I(),e)}function yv(t,e,n,r){let o=V();if(o.firstCreatePass){let i=Q();gd(o,new to(e,n,r),i.index),_v(o,t),(n&2)===2&&(o.staticContentQueries=!0)}return pd(o,I(),n)}function wv(t){return t.split(",").map(e=>e.trim())}function gd(t,e,n){t.queries===null&&(t.queries=new fs),t.queries.track(new hs(e,n))}function _v(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function ba(t,e){return t.queries.getByIndex(e)}function vd(t,e){let n=t[w],r=ba(n,e);return r.crossesNgTemplate?ps(n,t,e,[]):hd(n,t,r,e)}function bv(t){return typeof t=="function"&&t[X]!==void 0}function Ia(t,e){Gt("NgSignals");let n=Ga(t),r=n[X];return e?.equal&&(r.equal=e.equal),n.set=o=>ln(r,o),n.update=o=>za(r,o),n.asReadonly=yd.bind(n),n}function yd(){let t=this[X];if(t.readonlyFn===void 0){let e=()=>this();e[X]=t,t.readonlyFn=e}return t.readonlyFn}function wd(t){return bv(t)&&typeof t.set=="function"}function _d(t,e){let n,r=oi(()=>{n._dirtyCounter();let o=Dv(n,t);if(e&&o===void 0)throw new C(-951,!1);return o});return n=r[X],n._dirtyCounter=Ia(0),n._flatValue=void 0,r}function Iv(){return _d(!0,!1)}function Ev(){return _d(!0,!0)}function xv(t,e){let n=t[X];n._lView=I(),n._queryIndex=e,n._queryList=_a(n._lView,e),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function Dv(t,e){let n=t._lView,r=t._queryIndex;if(n===void 0||r===void 0||n[y]&4)return e?void 0:re;let o=_a(n,r),i=vd(n,r);return o.reset(i,Hl),e?o.first:o._changesDetected||t._flatValue===void 0?t._flatValue=o.toArray():t._flatValue}function Zc(t,e){return Iv()}function Cv(t,e){return Ev()}var XD=(Zc.required=Cv,Zc);function bd(t){let e=[],n=Object.create(hl);n.value=t;function r(){return cn(n),Xc(n.value),n.value}function o(i){for(let s=0;s<e.length;s++)e[s](i)}return r[X]=n,r.asReadonly=yd.bind(r),r.set=i=>{n.equal(n.value,i)||(ln(n,i),o(i))},r.update=i=>{Xc(n.value),r.set(i(n.value))},r.subscribe=i=>(e.push(i),()=>{let s=e.indexOf(i);s>-1&&e.splice(s,1)}),r}function Xc(t){if(t===ao)throw new C(-952,!1)}function el(t){return bd(t)}function Tv(){return bd(ao)}var eC=(el.required=Tv,el);function Mv(t){return Object.getPrototypeOf(t.prototype).constructor}function Sv(t){let e=Mv(t.type),n=!0,r=[t];for(;e;){let o;if(Fe(t))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new C(903,!1);o=e.\u0275dir}if(o){if(n){r.push(o);let s=t;s.inputs=Sr(t.inputs),s.inputTransforms=Sr(t.inputTransforms),s.declaredInputs=Sr(t.declaredInputs),s.outputs=Sr(t.outputs);let a=o.hostBindings;a&&Pv(t,a);let c=o.viewQuery,l=o.contentQueries;if(c&&Av(t,c),l&&kv(t,l),Nv(t,o),gh(t.outputs,o.outputs),Fe(o)&&o.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(t),a===Sv&&(n=!1)}}e=Object.getPrototypeOf(e)}Ov(r)}function Nv(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let o=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(o))continue;t.inputTransforms??={},t.inputTransforms[o]=e.inputTransforms[o]}}}function Ov(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let o=t[r];o.hostVars=e+=o.hostVars,o.hostAttrs=yn(o.hostAttrs,n=yn(n,o.hostAttrs))}}function Sr(t){return t===Pt?{}:t===re?[]:t}function Av(t,e){let n=t.viewQuery;n?t.viewQuery=(r,o)=>{e(r,o),n(r,o)}:t.viewQuery=e}function kv(t,e){let n=t.contentQueries;n?t.contentQueries=(r,o,i)=>{e(r,o,i),n(r,o,i)}:t.contentQueries=e}function Pv(t,e){let n=t.hostBindings;n?t.hostBindings=(r,o)=>{e(r,o),n(r,o)}:t.hostBindings=e}function tC(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)&&o[3]&&(n[r]=o[3])}t.inputTransforms=n}var ft=class{},ms=class{};var gs=class extends ft{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new eo(this);let o=El(e);this._bootstrapComponents=Mu(o.bootstrap),this._r3Injector=Iu(e,n,[{provide:ft,useValue:this},{provide:So,useValue:this.componentFactoryResolver},...r],oe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},vs=class extends ms{constructor(e){super(),this.moduleType=e}create(e){return new gs(this.moduleType,e,[])}};var no=class extends ft{constructor(e){super(),this.componentFactoryResolver=new eo(this),this.instance=null;let n=new xn([...e.providers,{provide:ft,useValue:this},{provide:So,useValue:this.componentFactoryResolver}],e.parent||na(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Rv(t,e,n=null){return new no({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Ea=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ye(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Id(t){return xa(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Lv(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function xa(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Ed(t,e,n){return t[e]=n}function jv(t,e){return t[e]}function qe(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Fv(t,e,n,r,o,i,s,a,c){let l=e.consts,u=Wt(e,t,4,s||null,Vt(l,a));pa(e,n,u,Vt(l,c)),wo(e,u);let d=u.tView=ha(2,u,r,o,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function ys(t,e,n,r,o,i,s,a){let c=I(),l=V(),u=t+Z,d=l.firstCreatePass?Fv(u,l,c,e,n,r,o,i,s):l.data[u];pt(d,!1);let h=Vv(l,c,d,t);ho()&&bo(l,c,h,d),He(h,c);let f=zu(h,c,h,d);return c[u]=f,Do(c,f),fv(f,d,c),uo(d)&&da(l,c,d),s!=null&&fa(c,d,a),ys}var Vv=$v;function $v(t,e,n,r){return po(!0),e[L].createComment("")}function Hv(t,e,n,r){let o=I(),i=Bt();if(qe(o,i,e)){let s=V(),a=Ks();bg(a,o,t,e,n,r)}return Hv}function Uv(t,e,n,r){return qe(t,Bt(),n)?e+vo(n)+r:Be}function Nr(t,e){return t<<17|e<<2}function ht(t){return t>>17&32767}function Bv(t){return(t&2)==2}function qv(t,e){return t&131071|e<<17}function ws(t){return t|2}function Ht(t){return(t&131068)>>2}function Ti(t,e){return t&-131069|e<<2}function Wv(t){return(t&1)===1}function _s(t){return t|1}function Gv(t,e,n,r,o,i){let s=i?e.classBindings:e.styleBindings,a=ht(s),c=Ht(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||An(d,u)>0)&&(l=!0)}else u=n;if(o)if(c!==0){let h=ht(t[a+1]);t[r+1]=Nr(h,a),h!==0&&(t[h+1]=Ti(t[h+1],r)),t[a+1]=qv(t[a+1],r)}else t[r+1]=Nr(a,0),a!==0&&(t[a+1]=Ti(t[a+1],r)),a=r;else t[r+1]=Nr(c,0),a===0?a=r:t[c+1]=Ti(t[c+1],r),c=r;l&&(t[r+1]=ws(t[r+1])),tl(t,u,r,!0),tl(t,u,r,!1),zv(e,u,t,r,i),s=Nr(a,c),i?e.classBindings=s:e.styleBindings=s}function zv(t,e,n,r,o){let i=o?t.residualClasses:t.residualStyles;i!=null&&typeof e=="string"&&An(i,e)>=0&&(n[r+1]=_s(n[r+1]))}function tl(t,e,n,r){let o=t[n+1],i=e===null,s=r?ht(o):Ht(o),a=!1;for(;s!==0&&(a===!1||i);){let c=t[s],l=t[s+1];Qv(c,e)&&(a=!0,t[s+1]=r?_s(l):ws(l)),s=r?ht(l):Ht(l)}a&&(t[n+1]=r?ws(o):_s(o))}function Qv(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?An(t,e)>=0:!1}function Jv(t,e,n){let r=I(),o=Bt();if(qe(r,o,e)){let i=V(),s=Ks();qu(i,s,r,t,e,r[L],n,!1)}return Jv}function nl(t,e,n,r,o){let i=e.inputs,s=o?"class":"style";ma(t,n,i[s],s,r)}function Yv(t,e,n){return xd(t,e,n,!1),Yv}function Kv(t,e){return xd(t,e,null,!0),Kv}function xd(t,e,n,r){let o=I(),i=V(),s=ep(2);if(i.firstUpdatePass&&Xv(i,t,s,r),e!==Be&&qe(o,s,e)){let a=i.data[mt()];oy(i,a,o,o[L],t,o[s+1]=iy(e,n),r,s)}}function Zv(t,e){return e>=t.expandoStartIndex}function Xv(t,e,n,r){let o=t.data;if(o[n+1]===null){let i=o[mt()],s=Zv(t,n);sy(i,r)&&e===null&&!s&&(e=!1),e=ey(o,i,e,r),Gv(o,i,e,n,s,r)}}function ey(t,e,n,r){let o=op(t),i=r?e.residualClasses:e.residualStyles;if(o===null)(r?e.classBindings:e.styleBindings)===0&&(n=Mi(null,t,e,n,r),n=Sn(n,e.attrs,r),i=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==o)if(n=Mi(o,t,e,n,r),i===null){let c=ty(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Mi(null,t,e,c[1],r),c=Sn(c,e.attrs,r),ny(t,e,r,c))}else i=ry(t,e,r)}return i!==void 0&&(r?e.residualClasses=i:e.residualStyles=i),n}function ty(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ht(r)!==0)return t[ht(r)]}function ny(t,e,n,r){let o=n?e.classBindings:e.styleBindings;t[ht(o)]=r}function ry(t,e,n){let r,o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++){let s=t[i].hostAttrs;r=Sn(r,s,n)}return Sn(r,e.attrs,n)}function Mi(t,e,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=e[a],r=Sn(r,i.hostAttrs,o),i!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Sn(t,e,n){let r=n?1:2,o=-1;if(e!==null)for(let i=0;i<e.length;i++){let s=e[i];typeof s=="number"?o=s:o===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),pp(t,s,n?!0:e[++i]))}return t===void 0?null:t}function oy(t,e,n,r,o,i,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=Wv(l)?rl(c,e,n,o,Ht(l),s):void 0;if(!ro(u)){ro(i)||Bv(l)&&(i=rl(c,null,n,o,a,s));let d=Sl(mt(),n);Zm(r,s,d,o,i)}}function rl(t,e,n,r,o,i){let s=e===null,a;for(;o>0;){let c=t[o],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[o+1];h===Be&&(h=d?re:void 0);let f=d?wi(h,r):u===r?h:void 0;if(l&&!ro(f)&&(f=wi(c,r)),ro(f)&&(a=f,s))return a;let m=t[o+1];o=s?ht(m):Ht(m)}if(e!==null){let c=i?e.residualClasses:e.residualStyles;c!=null&&(a=wi(c,r))}return a}function ro(t){return t!==void 0}function iy(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=oe(ia(t)))),t}function sy(t,e){return(t.flags&(e?8:16))!==0}var bs=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),o=Math.max(e,n),i=this.detach(o);if(o-r>1){let s=this.detach(r);this.attach(r,i),this.attach(o,s)}else this.attach(r,i)}move(e,n){this.attach(n,this.detach(e))}};function Si(t,e,n,r,o){return t===n&&Object.is(e,r)?1:Object.is(o(t,e),o(n,r))?-1:0}function ay(t,e,n){let r,o,i=0,s=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;i<=s&&i<=a;){let c=t.at(i),l=e[i],u=Si(i,c,i,l,n);if(u!==0){u<0&&t.updateValue(i,l),i++;continue}let d=t.at(s),h=e[a],f=Si(s,d,a,h,n);if(f!==0){f<0&&t.updateValue(s,h),s--,a--;continue}let m=n(i,c),g=n(s,d),v=n(i,l);if(Object.is(v,g)){let b=n(a,h);Object.is(b,m)?(t.swap(i,s),t.updateValue(s,h),a--,s--):t.move(s,i),t.updateValue(i,l),i++;continue}if(r??=new oo,o??=il(t,i,s,n),Is(t,r,i,v))t.updateValue(i,l),i++,s++;else if(o.has(v))r.set(m,t.detach(i)),s--;else{let b=t.create(i,e[i]);t.attach(i,b),i++,s++}}for(;i<=a;)ol(t,r,n,i,e[i]),i++}else if(e!=null){let a=e[Symbol.iterator](),c=a.next();for(;!c.done&&i<=s;){let l=t.at(i),u=c.value,d=Si(i,l,i,u,n);if(d!==0)d<0&&t.updateValue(i,u),i++,c=a.next();else{r??=new oo,o??=il(t,i,s,n);let h=n(i,u);if(Is(t,r,i,h))t.updateValue(i,u),i++,s++,c=a.next();else if(!o.has(h))t.attach(i,t.create(i,u)),i++,s++,c=a.next();else{let f=n(i,l);r.set(f,t.detach(i)),s--}}}for(;!c.done;)ol(t,r,n,t.length,c.value),c=a.next()}for(;i<=s;)t.destroy(t.detach(s--));r?.forEach(a=>{t.destroy(a)})}function Is(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function ol(t,e,n,r,o){if(Is(t,e,r,n(r,o)))t.updateValue(r,o);else{let i=t.create(r,o);t.attach(r,i)}}function il(t,e,n,r){let o=new Set;for(let i=e;i<=n;i++)o.add(r(i,t.at(i)));return o}var oo=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(r);)r=o.get(r);o.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let o=this._vMap;for(;o.has(r);)r=o.get(r),e(r,n)}}};function nC(t,e,n){Gt("NgControlFlow");let r=I(),o=Bt(),i=Cs(r,Z+t),s=0;if(qe(r,o,e)){let a=M(null);try{if(Xu(i,s),e!==-1){let c=Ts(r[w],Z+e),l=Tn(i,c.tView.ssrId),u=Co(r,c,n,{dehydratedView:l});To(i,u,s,Cn(c,l))}}finally{M(a)}}else{let a=Zu(i,s);a!==void 0&&(a[K]=n)}}var Es=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-z}};function rC(t){return t}var xs=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function oC(t,e,n,r,o,i,s,a,c,l,u,d,h){Gt("NgControlFlow");let f=c!==void 0,m=I(),g=a?s.bind(m[ue][K]):s,v=new xs(f,g);m[Z+t]=v,ys(t+1,e,n,r,o,i),f&&ys(t+2,c,l,u,d,h)}var Ds=class extends bs{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-z}at(e){return this.getLView(e)[K].$implicit}attach(e,n){let r=n[Lt];this.needsIndexUpdate||=e!==this.length,To(this.lContainer,n,e,Cn(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,cy(this.lContainer,e)}create(e,n){let r=Tn(this.lContainer,this.templateTNode.tView.ssrId);return Co(this.hostLView,this.templateTNode,new Es(this.lContainer,n,e),{dehydratedView:r})}destroy(e){_o(e[w],e)}updateValue(e,n){this.getLView(e)[K].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[K].$index=e}getLView(e){return ly(this.lContainer,e)}};function iC(t){let e=M(null),n=mt();try{let r=I(),o=r[w],i=r[n];if(i.liveCollection===void 0){let a=n+1,c=Cs(r,a),l=Ts(o,a);i.liveCollection=new Ds(c,r,l)}else i.liveCollection.reset();let s=i.liveCollection;if(ay(s,t,i.trackByFn),s.updateIndexes(),i.hasEmptyBlock){let a=Bt(),c=s.length===0;if(qe(r,a,c)){let l=n+2,u=Cs(r,l);if(c){let d=Ts(o,l),h=Tn(u,d.tView.ssrId),f=Co(r,d,void 0,{dehydratedView:h});To(u,f,0,Cn(d,h))}else Xu(u,0)}}}finally{M(e)}}function Cs(t,e){return t[e]}function cy(t,e){return Dn(t,e)}function ly(t,e){return Zu(t,e)}function Ts(t,e){return Us(t,e)}function uy(t,e,n,r,o,i){let s=e.consts,a=Vt(s,o),c=Wt(e,t,2,r,a);return pa(e,n,c,Vt(s,i)),c.attrs!==null&&Xr(c,c.attrs,!1),c.mergedAttrs!==null&&Xr(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function Dd(t,e,n,r){let o=I(),i=V(),s=Z+t,a=o[L],c=i.firstCreatePass?uy(s,i,o,e,n,r):i.data[s],l=fy(i,o,c,a,e,t);o[s]=l;let u=uo(c);return pt(c,!0),Fu(a,l,c),(c.flags&32)!==32&&ho()&&bo(i,o,l,c),zh()===0&&He(l,o),Qh(),u&&(da(i,o,c),ua(i,c,o)),r!==null&&fa(o,c),Dd}function Cd(){let t=Q();Ws()?Gs():(t=t.parent,pt(t,!1));let e=t;Yh(e)&&Kh(),Jh();let n=V();return n.firstCreatePass&&(wo(n,t),Hs(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&im(e)&&nl(n,e,I(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&sm(e)&&nl(n,e,I(),e.stylesWithoutHost,!1),Cd}function dy(t,e,n,r){return Dd(t,e,n,r),Cd(),dy}var fy=(t,e,n,r,o,i)=>(po(!0),Su(r,o,cp()));function hy(t,e,n,r,o){let i=e.consts,s=Vt(i,r),a=Wt(e,t,8,"ng-container",s);s!==null&&Xr(a,s,!0);let c=Vt(i,o);return pa(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Td(t,e,n){let r=I(),o=V(),i=t+Z,s=o.firstCreatePass?hy(i,o,r,e,n):o.data[i];pt(s,!0);let a=my(o,r,s,t);return r[i]=a,ho()&&bo(o,r,a,s),He(a,r),uo(s)&&(da(o,r,s),ua(o,s,r)),n!=null&&fa(r,s),Td}function Md(){let t=Q(),e=V();return Ws()?Gs():(t=t.parent,pt(t,!1)),e.firstCreatePass&&(wo(e,t),Hs(t)&&e.queries.elementEnd(t)),Md}function py(t,e,n){return Td(t,e,n),Md(),py}var my=(t,e,n,r)=>(po(!0),Lm(e[L],""));var et=void 0;function gy(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var vy=["en",[["a","p"],["AM","PM"],et],[["AM","PM"],et,et],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],et,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],et,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",et,"{1} 'at' {0}",et],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",gy],Ni={};function sC(t){let e=wy(t),n=sl(e);if(n)return n;let r=e.split("-")[0];if(n=sl(r),n)return n;if(r==="en")return vy;throw new C(701,!1)}function sl(t){return t in Ni||(Ni[t]=we.ng&&we.ng.common&&we.ng.common.locales&&we.ng.common.locales[t]),Ni[t]}var yy=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(yy||{});function wy(t){return t.toLowerCase().replace(/_/g,"-")}var io="en-US";var _y=io;function by(t){typeof t=="string"&&(_y=t.toLowerCase().replace(/_/g,"-"))}function Iy(t,e,n,r){let o=I(),i=V(),s=Q();return Sd(i,o,o[L],s,t,e,r),Iy}function Ey(t,e,n,r){let o=t.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=e[wn],c=o[i+2];return a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function Sd(t,e,n,r,o,i,s){let a=uo(r),l=t.firstCreatePass&&Yu(t),u=e[K],d=Ju(e),h=!0;if(r.type&3||s){let g=de(r,e),v=s?s(g):g,b=d.length,B=s?k=>s(Ee(k[r.index])):r.index,R=null;if(!s&&a&&(R=Ey(t,e,o,r.index)),R!==null){let k=R.__ngLastListenerFn__||R;k.__ngNextListenerFn__=i,R.__ngLastListenerFn__=i,h=!1}else{i=cl(r,e,u,i,!1);let k=n.listen(v,o,i);d.push(i,k),l&&l.push(o,B,b,b+1)}}else i=cl(r,e,u,i,!1);let f=r.outputs,m;if(h&&f!==null&&(m=f[o])){let g=m.length;if(g)for(let v=0;v<g;v+=2){let b=m[v],B=m[v+1],J=e[b][B].subscribe(i),ae=d.length;if(d.push(i,J),l){let ke=typeof J=="function"?ae+1:-(ae+1);l.push(o,r.index,ae,ke)}}}}function al(t,e,n,r){let o=M(null);try{return _e(6,e,n),n(r)!==!1}catch(i){return Ku(t,i),!1}finally{_e(7,e,n),M(o)}}function cl(t,e,n,r,o){return function i(s){if(s===Function)return r;let a=t.componentOffset>-1?Ue(t.index,e):e;va(a);let c=al(e,n,r,s),l=i.__ngNextListenerFn__;for(;l;)c=al(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return o&&c===!1&&s.preventDefault(),c}}function aC(t=1){return sp(t)}function xy(t,e){let n=null,r=Ch(t);for(let o=0;o<e.length;o++){let i=e[o];if(i==="*"){n=o;continue}if(r===null?_l(t,i,!0):Sh(r,i))return o}return n}function cC(t){let e=I()[ue][ie];if(!e.projection){let n=t?t.length:1,r=e.projection=fp(n,null),o=r.slice(),i=e.child;for(;i!==null;){let s=t?xy(i,t):0;s!==null&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i),i=i.next}}}function lC(t,e=0,n){let r=I(),o=V(),i=Wt(o,Z+t,16,null,n||null);i.projection===null&&(i.projection=e),Gs(),(!r[Lt]||kl())&&(i.flags&32)!==32&&Ym(o,r,i)}function uC(t,e,n,r){yv(t,e,n,r)}function dC(t,e,n){md(t,e,n)}function fC(t){let e=I(),n=V(),r=Qs();fo(r+1);let o=ba(n,r);if(t.dirty&&Uh(e)===((o.metadata.flags&2)===2)){if(o.matches===null)t.reset([]);else{let i=vd(e,r);t.reset(i,Hl),t.notifyOnChanges()}return!0}return!1}function hC(){return _a(I(),Qs())}function pC(t,e,n,r){xv(t,md(e,n,r))}function mC(t=1){fo(Qs()+t)}function Dy(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function gC(t,e=""){let n=I(),r=V(),o=t+Z,i=r.firstCreatePass?Wt(r,o,1,e,null):r.data[o],s=Cy(r,n,i,e,t);n[o]=s,ho()&&bo(r,n,s,i),pt(i,!1)}var Cy=(t,e,n,r,o)=>(po(!0),Pm(e[L],r));function Ty(t){return Nd("",t,""),Ty}function Nd(t,e,n){let r=I(),o=Uv(r,t,e,n);return o!==Be&&Dg(r,mt(),o),Nd}function My(t,e,n){wd(e)&&(e=e());let r=I(),o=Bt();if(qe(r,o,e)){let i=V(),s=Ks();qu(i,s,r,t,e,r[L],n,!1)}return My}function vC(t,e){let n=wd(t);return n&&t.set(e),n}function Sy(t,e){let n=I(),r=V(),o=Q();return Sd(r,n,n[L],o,t,e),Sy}function Ny(t,e,n){let r=V();if(r.firstCreatePass){let o=Fe(t);Ms(n,r.data,r.blueprint,o,!0),Ms(e,r.data,r.blueprint,o,!1)}}function Ms(t,e,n,r,o){if(t=Y(t),Array.isArray(t))for(let i=0;i<t.length;i++)Ms(t[i],e,n,r,o);else{let i=V(),s=I(),a=Q(),c=$t(t)?t:Y(t.provide),l=au(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if($t(t)||!t.multi){let f=new ct(l,o,Eo),m=Ai(c,e,o?u:u+h,d);m===-1?(Ji(zr(a,s),i,c),Oi(i,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[m]=f,s[m]=f)}else{let f=Ai(c,e,u+h,d),m=Ai(c,e,u,u+h),g=f>=0&&n[f],v=m>=0&&n[m];if(o&&!v||!o&&!g){Ji(zr(a,s),i,c);let b=ky(o?Ay:Oy,n.length,o,r,l);!o&&v&&(n[m].providerFactory=b),Oi(i,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(b),s.push(b)}else{let b=Od(n[o?m:f],l,!o&&r);Oi(i,t,f>-1?f:m,b)}!o&&r&&v&&n[m].componentProviders++}}}function Oi(t,e,n,r){let o=$t(e),i=Bp(e);if(o||i){let c=(i?Y(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!o&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function Od(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ai(t,e,n,r){for(let o=n;o<r;o++)if(e[o]===t)return o;return-1}function Oy(t,e,n,r){return Ss(this.multi,[])}function Ay(t,e,n,r){let o=this.multi,i;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=lt(n,n[w],this.providerFactory.index,r);i=a.slice(0,s),Ss(o,i);for(let c=s;c<a.length;c++)i.push(a[c])}else i=[],Ss(o,i);return i}function Ss(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function ky(t,e,n,r,o){let i=new ct(t,n,Eo);return i.multi=[],i.index=e,i.componentProviders=0,Od(i,o,r&&!n),i}function yC(t,e=[]){return n=>{n.providersResolver=(r,o)=>Ny(r,o?o(t):t,e)}}var Py=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let o=ru(!1,r.type),i=o.length>0?Rv([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,i)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=G({token:e,providedIn:"environment",factory:()=>new e(Ve($e))});let t=e;return t})();function wC(t){Gt("NgStandalone"),t.getStandaloneInjector=e=>e.get(Py).getOrCreateStandaloneInjector(t)}function _C(t,e,n){let r=zs()+t,o=I();return o[r]===Be?Ed(o,r,n?e.call(n):e()):jv(o,r)}function bC(t,e,n,r){return Ad(I(),zs(),t,e,n,r)}function Ry(t,e){let n=t[e];return n===Be?void 0:n}function Ad(t,e,n,r,o,i){let s=e+n;return qe(t,s,o)?Ed(t,s+1,i?r.call(i,o):r(o)):Ry(t,s+1)}function IC(t,e){let n=V(),r,o=t+Z;n.firstCreatePass?(r=Ly(e,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];let i=r.factory||(r.factory=at(r.type,!0)),s,a=te(Eo);try{let c=Gr(!1),l=i();return Gr(c),Dy(n,I(),o,l),l}finally{te(a)}}function Ly(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function EC(t,e,n){let r=t+Z,o=I(),i=Hh(o,r);return jy(o,r)?Ad(o,zs(),e,i.transform,n,i):i.transform(n)}function jy(t,e){return t[w].data[e].pure}function xC(t,e){return Mo(t,e)}var DC=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Fy=new F("");function kd(t){return!!t&&typeof t.then=="function"}function Vy(t){return!!t&&typeof t.subscribe=="function"}var $y=new F(""),Pd=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o}),this.appInits=H($y,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let i of this.appInits){let s=i();if(kd(s))r.push(s);else if(Vy(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}let o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(i=>{this.reject(i)}),r.length===0&&o(),this.initialized=!0}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Hy=new F("");function Uy(){Wa(()=>{throw new C(600,!1)})}function By(t){return t.isBoundToModule}function qy(t,e,n){try{let r=n();return kd(r)?r.catch(o=>{throw e.runOutsideAngular(()=>t.handleError(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Rd=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=H(Eu),this.afterRenderEffectManager=H(ud),this.componentTypes=[],this.components=[],this.isStable=H(Ea).hasPendingTasks.pipe(Ce(r=>!r)),this._injector=H($e)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,o){let i=r instanceof Zr;if(!this._injector.get(Pd).done){let f=!i&&Rh(r),m=!1;throw new C(405,m)}let a;i?a=r:a=this._injector.get(So).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=By(a)?void 0:this._injector.get(ft),l=o||a.selector,u=a.create(oa.NULL,[],l,c),d=u.location.nativeElement,h=u.injector.get(Fy,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),ki(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new C(101,!1);let r=M(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,M(r)}}detectChangesInAttachedViews(){let r=0,o=this.afterRenderEffectManager;for(;;){if(r===od)throw new C(103,!1);let i=r===0;for(let{_lView:s,notifyErrorHandler:a}of this._views)!i&&!Pi(s)||this.detectChangesInView(s,a,i);if(r++,o.executeInternalCallbacks(),!this._views.some(({_lView:s})=>Pi(s))&&(o.execute(),!this._views.some(({_lView:s})=>Pi(s))))break}}detectChangesInView(r,o,i){let s;i?(s=0,r[y]|=1024):r[y]&64?s=0:s=1,id(r,o,s)}attachView(r){let o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){let o=r;ki(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let o=this._injector.get(Hy,[]);[...this._bootstrapListeners,...o].forEach(i=>i(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>ki(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new C(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ki(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Pi(t){return qs(t)}var Ns=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},CC=(()=>{let e=class e{compileModuleSync(r){return new vs(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let o=this.compileModuleSync(r),i=El(r),s=Mu(i.declarations).reduce((a,c)=>{let l=rt(c);return l&&a.push(new Mn(l)),a},[]);return new Ns(o,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Wy=(()=>{let e=class e{constructor(){this.zone=H(Ie),this.applicationRef=H(Rd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Gy(t){return[{provide:Ie,useFactory:t},{provide:Ur,multi:!0,useFactory:()=>{let e=H(Wy,{optional:!0});return()=>e.initialize()}},{provide:Ur,multi:!0,useFactory:()=>{let e=H(Yy);return()=>{e.initialize()}}},{provide:Eu,useFactory:zy}]}function zy(){let t=H(Ie),e=H(ut);return n=>t.runOutsideAngular(()=>e.handleError(n))}function Qy(t){let e=Gy(()=>new Ie(Jy(t)));return Fp([[],e])}function Jy(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Yy=(()=>{let e=class e{constructor(){this.subscription=new q,this.initialized=!1,this.zone=H(Ie),this.pendingTasks=H(Ea)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ky(){return typeof $localize<"u"&&$localize.locale||io}var Ld=new F("",{providedIn:"root",factory:()=>H(Ld,S.Optional|S.SkipSelf)||Ky()});var jd=new F("");var jr=null;function Zy(t=[],e){return oa.create({name:e,providers:[{provide:su,useValue:"platform"},{provide:jd,useValue:new Set([()=>jr=null])},...t]})}function Xy(t=[]){if(jr)return jr;let e=Zy(t);return jr=e,Uy(),ew(e),e}function ew(t){t.get(bp,null)?.forEach(n=>n())}var tw=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=nw;let t=e;return t})();function nw(t){return rw(Q(),I(),(t&16)===16)}function rw(t,e,n){if(lo(t)&&!n){let r=Ue(t.index,e);return new dt(r,r)}else if(t.type&47){let r=e[ue];return new dt(r,e)}return null}var Os=class{constructor(){}supports(e){return Id(e)}create(e){return new As(e)}},ow=(t,e)=>e,As=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ow}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){let s=!r||n&&n.currentIndex<ll(r,o,i)?n:r,a=ll(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)o++;else{i||(i=[]);let l=a-o,u=c-o;if(l!=u){for(let h=0;h<l;h++){let f=h<i.length?i[h]:i[h]=0,m=f+h;u<=m&&m<l&&(i[h]=f+1)}let d=s.previousIndex;i[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Id(e))throw new C(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,o,i,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],s=this._trackByFn(a,i),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,i,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)),n=n._next}else o=0,Lv(e,a=>{s=this._trackByFn(o,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,o),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,o){let i;return e===null?i=this._itTail:(i=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,i,o)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,o),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,i,o)):e=this._addAfter(new ks(n,r),i,o)),e}_verifyReinsertion(e,n,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let o=e._prevRemoved,i=e._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let o=n===null?this._itHead:n._next;return e._next=o,e._prev=n,o===null?this._itTail=e:o._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new so),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new so),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},ks=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Ps=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},so=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Ps,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,o=this.map.get(r);return o?o.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function ll(t,e,n){let r=t.previousIndex;if(r===null)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+e+o}var Rs=class{constructor(){}supports(e){return e instanceof Map||xa(e)}create(){return new Ls}},Ls=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||xa(e)))throw new C(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,o)=>{if(n&&n.key===o)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let i=this._getOrCreateRecordForKey(o,r);n=this._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let o=this._records.get(e);this._maybeAddToChanges(o,n);let i=o._prev,s=o._next;return i&&(i._next=s),s&&(s._prev=i),o._next=null,o._prev=null,o}let r=new js(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},js=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function ul(){return new iw([new Os])}var iw=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,o){if(o!=null){let i=o.factories.slice();r=r.concat(i)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||ul()),deps:[[e,new eu,new Xl]]}}find(r){let o=this.factories.find(i=>i.supports(r));if(o!=null)return o;throw new C(901,!1)}};e.\u0275prov=G({token:e,providedIn:"root",factory:ul});let t=e;return t})();function dl(){return new sw([new Rs])}var sw=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,o){if(o){let i=o.factories.slice();r=r.concat(i)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||dl()),deps:[[e,new eu,new Xl]]}}find(r){let o=this.factories.find(i=>i.supports(r));if(o)return o;throw new C(901,!1)}};e.\u0275prov=G({token:e,providedIn:"root",factory:dl});let t=e;return t})();function TC(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,o=Xy(r),i=[Qy(),...n||[]],a=new no({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Ie);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(ut,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:f=>{l.handleError(f)}})});let d=()=>a.destroy(),h=o.get(jd);return h.add(d),a.onDestroy(()=>{u.unsubscribe(),h.delete(d)}),qy(l,c,()=>{let f=a.get(Pd);return f.runInitializers(),f.donePromise.then(()=>{let m=a.get(Ld,io);by(m||io);let g=a.get(Rd);return e!==void 0&&g.bootstrap(e),g})})})}catch(e){return Promise.reject(e)}}function MC(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function SC(t,e){Gt("NgSignals");let n=oi(t);return e?.equal&&(n[X].equal=e.equal),n}var aw=new F("",{providedIn:"root",factory:()=>H(cw)}),cw=(()=>{let e=class e{};e.\u0275prov=G({token:e,providedIn:"root",factory:()=>new Fs});let t=e;return t})(),Fs=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=H(Ea),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},Vs=class{constructor(e,n,r,o,i,s){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=i,this.watcher=Qa(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(ut,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function lw(t,e){Gt("NgSignals"),!e?.injector&&Yp(lw);let n=e?.injector??H(oa),r=e?.manualCleanup!==!0?n.get(ld):null,o=new Vs(n.get(aw),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),i=n.get(tw,null,{optional:!0});return!i||!(i._lView[y]&8)?o.watcher.notify():(i._lView[Or]??=[]).push(o.watcher.notify),o}var Fd=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-2UTJ4IR6.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};var kn=class extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}},No=class extends kn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Oo=class extends kn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Ao=class extends kn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var dw=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},Pn=class{constructor(e,{headers:n={},customFetch:r}={}){this.url=e,this.headers=n,this.fetch=Fd(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return dw(this,void 0,void 0,function*(){try{let{headers:o,method:i,body:s}=n,a={},c;s&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(a["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(a["Content-Type"]="application/json",c=JSON.stringify(s)));let l=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),o),body:c}).catch(f=>{throw new No(f)}),u=l.headers.get("x-relay-error");if(u&&u==="true")throw new Oo(l);if(!l.ok)throw new Ao(l);let d=((r=l.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return d==="application/json"?h=yield l.json():d==="application/octet-stream"?h=yield l.blob():d==="multipart/form-data"?h=yield l.formData():h=yield l.text(),{data:h,error:null}}catch(o){return{data:null,error:o}}})}};var ko=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};var Rn=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Kn:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(i=>p(this,null,function*(){var s,a,c;let l=null,u=null,d=null,h=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){let b=yield i.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=b:u=JSON.parse(b))}let g=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),v=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&v&&v.length>1&&(d=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let g=yield i.text();try{l=JSON.parse(g),Array.isArray(l)&&i.status===404&&(u=[],l=null,h=200,f="OK")}catch{i.status===404&&g===""?(h=204,f="No Content"):l={message:g}}if(l&&this.isMaybeSingle&&(!((c=l?.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,h=200,f="OK"),l&&this.shouldThrowOnError)throw new ko(l)}return{error:l,data:u,count:d,status:h,statusText:f}}));return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,c;return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:`${(a=i?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(e,n)}};var Ln=class extends Rn{select(e){let n=!1,r=(e??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;let c=[e?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${l}"; options=${c};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};var ve=class extends Ln{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){let r=n.map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${s}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};var jn=class{constructor(e,{headers:n={},schema:r,fetch:o}){this.url=e,this.headers=n,this.schema=r,this.fetch=o}select(e,{head:n=!1,count:r}={}){let o=n?"HEAD":"GET",i=!1,s=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new ve({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){let o="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){let s=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new ve({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),o&&a.push(`count=${o}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){let c=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){let l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new ve({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){let r="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),this.headers.Prefer=o.join(","),new ve({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){let n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ve({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};var Vd="1.9.2";var $d={"X-Client-Info":`postgrest-js/${Vd}`};var Fn=class t{constructor(e,{headers:n={},schema:r,fetch:o}={}){this.url=e,this.headers=Object.assign(Object.assign({},$d),n),this.schemaName=r,this.fetch=o}from(e){let n=new URL(`${this.url}/${e}`);return new jn(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new t(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,count:o}={}){let i,s=new URL(`${this.url}/rpc/${e}`),a;r?(i="HEAD",Object.entries(n).forEach(([l,u])=>{s.searchParams.append(l,`${u}`)})):(i="POST",a=n);let c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new ve({method:i,url:s,headers:c,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};var Hd="2.9.3";var Ud={"X-Client-Info":`realtime-js/${Hd}`},Bd="1.0.0",Po=1e4,qd=1e3,zt=function(t){return t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed",t}(zt||{}),se=function(t){return t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving",t}(se||{}),fe=function(t){return t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token",t}(fe||{}),Da=function(t){return t.websocket="websocket",t}(Da||{}),gt=function(t){return t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed",t}(gt||{});var Qt=class{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Ro=class{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){let n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){let o=n.getUint8(1),i=n.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(e.slice(s,s+o));s=s+o;let c=r.decode(e.slice(s,s+i));s=s+i;let l=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:a,event:c,payload:l}}};var Jt=class{constructor(e,n,r={},o=Po){this.channel=e,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var Vn=class t{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=t.syncState(this.state,o,i,s),this.pendingDiffs.forEach(c=>{this.state=t.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=t.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,o){let i=this.cloneDeep(e),s=this.transformState(n),a={},c={};return this.map(i,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let d=i[l];if(d){let h=u.map(v=>v.presence_ref),f=d.map(v=>v.presence_ref),m=u.filter(v=>f.indexOf(v.presence_ref)<0),g=d.filter(v=>h.indexOf(v.presence_ref)<0);m.length>0&&(a[l]=m),g.length>0&&(c[l]=g)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},r,o)}static syncDiff(e,n,r,o){let{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,c)=>{var l;let u=(l=e[a])!==null&&l!==void 0?l:[];if(e[a]=this.cloneDeep(c),u.length>0){let d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,u,c)}),this.map(s,(a,c)=>{let l=e[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=l,o(a,l,c),l.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{let o=e[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var P=function(t){return t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange",t}(P||{}),Ta=(t,e,n={})=>{var r;let o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,s)=>(i[s]=fw(s,t,e,o),i),{})},fw=(t,e,n,r)=>{let o=e.find(a=>a.name===t),i=o?.type,s=n[t];return i&&!r.includes(i)?Wd(i,s):Ca(s)},Wd=(t,e)=>{if(t.charAt(0)==="_"){let n=t.slice(1,t.length);return gw(e,n)}switch(t){case P.bool:return hw(e);case P.float4:case P.float8:case P.int2:case P.int4:case P.int8:case P.numeric:case P.oid:return pw(e);case P.json:case P.jsonb:return mw(e);case P.timestamp:return vw(e);case P.abstime:case P.date:case P.daterange:case P.int4range:case P.int8range:case P.money:case P.reltime:case P.text:case P.time:case P.timestamptz:case P.timetz:case P.tsrange:case P.tstzrange:return Ca(e);default:return Ca(e)}},Ca=t=>t,hw=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},pw=t=>{if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return e}return t},mw=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},gw=(t,e)=>{if(typeof t!="string")return t;let n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i,s=t.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>Wd(e,a))}return t},vw=t=>typeof t=="string"?t.replace(" ","T"):t;var $n=class t{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=se.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},n.config),this.timeout=this.socket.timeout,this.joinPush=new Jt(this,fe.join,this.params,this.timeout),this.rejoinTimer=new Qt(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=se.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=se.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fe.reply,{},(o,i)=>{this._trigger(this._replyEventName(i),o)}),this.presence=new Vn(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,n=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:i,presence:s}}=this.params;this._onError(l=>e&&e("CHANNEL_ERROR",l)),this._onClose(()=>e&&e("CLOSED"));let a={},c={broadcast:i,presence:s,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(l=>l.filter))!==null&&o!==void 0?o:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:l})=>{var u;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),l===void 0){e&&e("SUBSCRIBED");return}else{let d=this.bindings.postgres_changes,h=(u=d?.length)!==null&&u!==void 0?u:0,f=[];for(let m=0;m<h;m++){let g=d[m],{filter:{event:v,schema:b,table:B,filter:R}}=g,k=l&&l[m];if(k&&k.event===v&&k.schema===b&&k.table===B&&k.filter===R)f.push(Object.assign(Object.assign({},g),{id:k.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,e&&e("SUBSCRIBED");return}}).receive("error",l=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(l).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(r){return p(this,arguments,function*(e,n={}){return yield this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)})}untrack(){return p(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,n,r){return this._on(e,n,r)}send(r){return p(this,arguments,function*(e,n={}){var o,i;if(!this._canPush()&&e.type==="broadcast"){let{event:s,payload:a}=e,c={method:"POST",headers:{apikey:(o=this.socket.apiKey)!==null&&o!==void 0?o:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a}]})};try{return(yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=n.timeout)!==null&&i!==void 0?i:this.timeout)).ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,l;let u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=se.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fe.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let o=new Jt(this,fe.leave,{},e);o.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}_broadcastEndpointURL(){let e=this.socket.endPoint;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"}_fetchWithTimeout(e,n,r){return p(this,null,function*(){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=yield this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),s})}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Jt(this,e,n,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var o,i;let s=e.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=fe;if(r&&[a,c,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var m,g,v;return((m=f.filter)===null||m===void 0?void 0:m.event)==="*"||((v=(g=f.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(i=this.bindings[s])===null||i===void 0||i.filter(f=>{var m,g,v,b,B,R;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let k=f.id,J=(m=f.filter)===null||m===void 0?void 0:m.event;return k&&((g=n.ids)===null||g===void 0?void 0:g.includes(k))&&(J==="*"||J?.toLocaleLowerCase()===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{let k=(B=(b=f?.filter)===null||b===void 0?void 0:b.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return k==="*"||k===((R=n?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let m=h.data,{schema:g,table:v,commit_timestamp:b,type:B,errors:R}=m;h=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:b,eventType:B,new:{},old:{},errors:R}),this._getPayloadRecords(m))}f.callback(h,r)})}_isClosed(){return this.state===se.closed}_isJoined(){return this.state===se.joined}_isJoining(){return this.state===se.joining}_isLeaving(){return this.state===se.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){let o=e.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(e,n){let r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&t.isEqual(o.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(let r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(fe.close,{},e)}_onError(e){this._on(fe.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=se.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Ta(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Ta(e.columns,e.old_record)),n}};var ww=()=>{},_w=typeof WebSocket<"u",Hn=class{constructor(e,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=Ud,this.params={},this.timeout=Po,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ww,this.conn=null,this.sendBuffer=[],this.serializer=new Ro,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>import("./chunk-2UTJ4IR6.js").then(({default:c})=>c(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${e}/${Da.websocket}`,n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);let o=(r=n?.params)===null||r===void 0?void 0:r.apikey;o&&(this.accessToken=o,this.apiKey=o),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n?.encode?n.encode:(i,s)=>s(JSON.stringify(i)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Qt(()=>p(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(_w){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Ma(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-7EJ4JCZP.js").then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(e){return p(this,null,function*(){let n=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return p(this,null,function*(){let e=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e})}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case zt.connecting:return gt.Connecting;case zt.open:return gt.Open;case zt.closing:return gt.Closing;default:return gt.Closed}}isConnected(){return this.connectionState()===gt.Open}channel(e,n={config:{}}){let r=new $n(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){let{topic:n,event:r,payload:o,ref:i}=e,s=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(e){this.accessToken=e,this.channels.forEach(n=>{e&&n.updateJoinPayload({access_token:e}),n.joinedOnce&&n._isJoined()&&n._push(fe.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Bd}))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:o,payload:i,ref:s}=n;(s&&s===this.pendingHeartbeatRef||o===i?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${o} ${s&&"("+s+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(o,i,s)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(fe.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;let r=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${r}${o}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(qd,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}};var Ma=class{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=zt.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}};var Yt=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function U(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Lo=class extends Yt{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Un=class extends Yt{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}};var bw=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},jo=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-2UTJ4IR6.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Gd=()=>bw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-2UTJ4IR6.js")).Response:Response});var Kt=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},Sa=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Iw=(t,e)=>Kt(void 0,void 0,void 0,function*(){let n=yield Gd();t instanceof n?t.json().then(r=>{e(new Lo(Sa(r),t.status||500))}).catch(r=>{e(new Un(Sa(r),r))}):e(new Un(Sa(t),t))}),Ew=(t,e,n,r)=>{let o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};function Fo(t,e,n,r,o,i){return Kt(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,Ew(e,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>Iw(c,a))})})}function Bn(t,e,n,r){return Kt(this,void 0,void 0,function*(){return Fo(t,"GET",e,n,r)})}function xe(t,e,n,r,o){return Kt(this,void 0,void 0,function*(){return Fo(t,"POST",e,r,o,n)})}function zd(t,e,n,r,o){return Kt(this,void 0,void 0,function*(){return Fo(t,"PUT",e,r,o,n)})}function Vo(t,e,n,r,o){return Kt(this,void 0,void 0,function*(){return Fo(t,"DELETE",e,r,o,n)})}var he=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},xw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},$o=class{constructor(e,n={},r,o){this.url=e,this.headers=n,this.bucketId=r,this.fetch=jo(o)}uploadOrUpdate(e,n,r,o){return he(this,void 0,void 0,function*(){try{let i,s=Object.assign(Object.assign({},Qd),o),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl)):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType);let c=this._removeEmptyFolders(n),l=this._getFinalPath(c),u=yield this.fetch(`${this.url}/object/${l}`,Object.assign({method:e,body:i,headers:a},s?.duplex?{duplex:s.duplex}:{})),d=yield u.json();return u.ok?{data:{path:c,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(i){if(U(i))return{data:null,error:i};throw i}})}upload(e,n,r){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,o){return he(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(e),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let c,l=Object.assign({upsert:Qd.upsert},o),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);let d=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:u}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(U(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e){return he(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),r=yield xe(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:this.headers}),o=new URL(this.url+r.url),i=o.searchParams.get("token");if(!i)throw new Yt("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:i},error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}})}update(e,n,r){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n){return he(this,void 0,void 0,function*(){try{return{data:yield xe(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n},{headers:this.headers}),error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}})}copy(e,n){return he(this,void 0,void 0,function*(){try{return{data:{path:(yield xe(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n},{headers:this.headers})).Key},error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,r){return he(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),i=yield xe(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(U(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,r){return he(this,void 0,void 0,function*(){try{let o=yield xe(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(U(o))return{data:null,error:o};throw o}})}download(e,n){return he(this,void 0,void 0,function*(){let o=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),s=i?`?${i}`:"";try{let a=this._getFinalPath(e);return{data:yield(yield Bn(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(U(a))return{data:null,error:a};throw a}})}getPublicUrl(e,n){let r=this._getFinalPath(e),o=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&o.push(i);let a=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&o.push(c);let l=o.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(e){return he(this,void 0,void 0,function*(){try{return{data:yield Vo(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}})}list(e,n,r){return he(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},xw),n),{prefix:e||""});return{data:yield xe(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(U(o))return{data:null,error:o};throw o}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}};var Jd="2.5.5";var Yd={"X-Client-Info":`storage-js/${Jd}`};var Zt=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},Ho=class{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},Yd),n),this.fetch=jo(r)}listBuckets(){return Zt(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(U(e))return{data:null,error:e};throw e}})}getBucket(e){return Zt(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Zt(this,void 0,void 0,function*(){try{return{data:yield xe(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Zt(this,void 0,void 0,function*(){try{return{data:yield zd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Zt(this,void 0,void 0,function*(){try{return{data:yield xe(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Zt(this,void 0,void 0,function*(){try{return{data:yield Vo(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}})}};var qn=class extends Ho{constructor(e,n={},r){super(e,n,r)}from(e){return new $o(this.url,this.headers,e,this.fetch)}};var Kd="2.39.7";var Wn="";typeof Deno<"u"?Wn="deno":typeof document<"u"?Wn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wn="react-native":Wn="node";var Dw={"X-Client-Info":`supabase-js-${Wn}/${Kd}`},Zd={headers:Dw},Xd={schema:"public"},ef={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tf={};var Cw=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},Tw=t=>{let e;return t?e=t:typeof fetch>"u"?e=Kn:e=fetch,(...n)=>e(...n)},Mw=()=>typeof Headers>"u"?Ra:Headers,nf=(t,e,n)=>{let r=Tw(n),o=Mw();return(i,s)=>Cw(void 0,void 0,void 0,function*(){var a;let c=(a=yield e())!==null&&a!==void 0?a:t,l=new o(s?.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},s),{headers:l}))})};function rf(t){return t.replace(/\/$/,"")}function of(t,e){let{db:n,auth:r,realtime:o,global:i}=t,{db:s,auth:a,realtime:c,global:l}=e;return{db:Object.assign(Object.assign({},s),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign({},l),i)}}function sf(t){return Math.round(Date.now()/1e3)+t}function af(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}var ye=()=>typeof document<"u",vt={tested:!1,writable:!1},We=()=>{if(!ye())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vt.tested)return vt.writable;let t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),vt.tested=!0,vt.writable=!0}catch{vt.tested=!0,vt.writable=!1}return vt.writable};function Uo(t){let e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{e[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{e[o]=r}),e}var Bo=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-2UTJ4IR6.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},cf=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ge=(t,e,n)=>p(void 0,null,function*(){yield t.setItem(e,JSON.stringify(n))}),zn=(t,e)=>p(void 0,null,function*(){let n=yield t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),qo=(t,e)=>p(void 0,null,function*(){yield t.removeItem(e)});function Sw(t){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="",r,o,i,s,a,c,l,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)s=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),r=s<<2|a>>4,o=(a&15)<<4|c>>2,i=(c&3)<<6|l,n=n+String.fromCharCode(r),c!=64&&o!=0&&(n=n+String.fromCharCode(o)),l!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}var Gn=class t{constructor(){this.promise=new t.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};Gn.promiseConstructor=Promise;function Na(t){let e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");let r=n[1];return JSON.parse(Sw(r))}function lf(t){return p(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),t)})})}function uf(t,e){return new Promise((r,o)=>{p(this,null,function*(){for(let i=0;i<1/0;i++)try{let s=yield t(i);if(!e(i,null,s)){r(s);return}}catch(s){if(!e(i,s)){o(s);return}}})})}function Nw(t){return("0"+t.toString(16)).substr(-2)}function yt(){let e=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,Nw).join("")}function Ow(t){return p(this,null,function*(){let n=new TextEncoder().encode(t),r=yield crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")})}function Aw(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function wt(t){return p(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;let n=yield Ow(t);return Aw(n)})}var Qn=class extends Error{constructor(e,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n}};function x(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}var Wo=class extends Qn{constructor(e,n){super(e,n),this.name="AuthApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}};function df(t){return x(t)&&t.name==="AuthApiError"}var Xt=class extends Qn{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}},Oe=class extends Qn{constructor(e,n,r){super(e),this.name=n,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Ae=class extends Oe{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}},en=class extends Oe{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}},_t=class extends Oe{constructor(e){super(e,"AuthInvalidCredentialsError",400)}},bt=class extends Oe{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Jn=class extends Oe{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},tn=class extends Oe{constructor(e,n){super(e,"AuthRetryableFetchError",n)}};function zo(t){return x(t)&&t.name==="AuthRetryableFetchError"}var Go=class extends Oe{constructor(e,n,r){super(e,"AuthWeakPasswordError",n),this.reasons=r}};var kw=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},nn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Pw=[502,503,504];function ff(t){return p(this,null,function*(){if(!cf(t))throw new tn(nn(t),0);if(Pw.includes(t.status))throw new tn(nn(t),t.status);let e;try{e=yield t.json()}catch(n){throw new Xt(nn(n),n)}throw typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)?new Go(nn(e),t.status,e.weak_password.reasons):new Wo(nn(e),t.status||500)})}var Rw=(t,e,n,r)=>{let o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};function T(t,e,n,r){return p(this,null,function*(){var o;let i=Object.assign({},r?.headers);r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield Lw(t,e,n+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function Lw(t,e,n,r,o,i){return p(this,null,function*(){let s=Rw(e,r,o,i),a;try{a=yield t(n,s)}catch(c){throw console.error(c),new tn(nn(c),0)}if(a.ok||(yield ff(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield ff(c)}})}function ze(t){var e;let n=null;jw(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=sf(t.expires_in)));let r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Oa(t){let e=ze(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function De(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function hf(t){return{data:t,error:null}}function pf(t){let{action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=t,s=kw(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function mf(t){return t}function jw(t){return t.access_token&&t.refresh_token&&t.expires_in}var Fw=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},rn=class{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Bo(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(e,n="global"){return p(this,null,function*(){try{return yield T(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(x(r))return{data:null,error:r};throw r}})}inviteUserByEmail(r){return p(this,arguments,function*(e,n={}){try{return yield T(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:De})}catch(o){if(x(o))return{data:{user:null},error:o};throw o}})}generateLink(e){return p(this,null,function*(){try{let{options:n}=e,r=Fw(e,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),yield T(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:pf,redirectTo:n?.redirectTo})}catch(n){if(x(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(e){return p(this,null,function*(){try{return yield T(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:De})}catch(n){if(x(n))return{data:{user:null},error:n};throw n}})}listUsers(e){return p(this,null,function*(){var n,r,o,i,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield T(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:mf});if(u.error)throw u.error;let d=yield u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(m=>{let g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);l[`${v}Page`]=g}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(x(l))return{data:{users:[]},error:l};throw l}})}getUserById(e){return p(this,null,function*(){try{return yield T(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:De})}catch(n){if(x(n))return{data:{user:null},error:n};throw n}})}updateUserById(e,n){return p(this,null,function*(){try{return yield T(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:De})}catch(r){if(x(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,n=!1){return p(this,null,function*(){try{return yield T(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:De})}catch(r){if(x(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return p(this,null,function*(){try{let{data:n,error:r}=yield T(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(x(n))return{data:null,error:n};throw n}})}_deleteFactor(e){return p(this,null,function*(){try{return{data:yield T(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(x(n))return{data:null,error:n};throw n}})}};var Qo="2.61.0";var gf="http://localhost:9999",vf="supabase.auth.token";var yf={"X-Client-Info":`gotrue-js/${Qo}`},Aa=10;var wf={getItem:t=>We()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{We()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{We()&&globalThis.localStorage.removeItem(t)}};function ka(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function _f(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var Vw={debug:!!(globalThis&&We()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Jo=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}};_f();var $w={url:gf,storageKey:vf,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yf,flowType:"implicit",debug:!1},Yn=30*1e3,bf=3;function Hw(t,e,n){return p(this,null,function*(){return yield n()})}var Yo=(()=>{class t{constructor(n){var r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=t.nextInstanceID,t.nextInstanceID+=1,this.instanceID>0&&ye()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},$w),n);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new rn({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Bo(o.fetch),this.lock=o.lock||Hw,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:We()?this.storage=wf:(this.memoryStorage={},this.storage=ka(this.memoryStorage)):(this.memoryStorage={},this.storage=ka(this.memoryStorage)),ye()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",i=>p(this,null,function*(){this._debug("received broadcast notification from other tab or client",i),yield this._notifyAllSubscribers(i.data.event,i.data.session,!1)}))}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Qo}) ${new Date().toISOString()}`,...n),this}initialize(){return p(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=p(this,null,function*(){return yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return p(this,null,function*(){try{let n=ye()?yield this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",n),n||this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:r,error:o}=yield this._getSessionFromURL(n);if(o)return this._debug("#_initialize()","error detecting session from URL",o),o?.message==="Identity is already linked"||o?.message==="Identity is already linked to another user"?{error:o}:(yield this._removeSession(),{error:o});let{session:i,redirectType:s}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),yield this._saveSession(i),setTimeout(()=>p(this,null,function*(){s==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",i):yield this._notifyAllSubscribers("SIGNED_IN",i)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(n){return x(n)?{error:n}:{error:new Xt("Unexpected error during initialization",n)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signUp(n){return p(this,null,function*(){var r,o,i;try{yield this._removeSession();let s;if("email"in n){let{email:d,password:h,options:f}=n,m=null,g=null;if(this.flowType==="pkce"){let v=yt();yield Ge(this.storage,`${this.storageKey}-code-verifier`,v),m=yield wt(v),g=v===m?"plain":"s256"}s=yield T(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:m,code_challenge_method:g},xform:ze})}else if("phone"in n){let{phone:d,password:h,options:f}=n;s=yield T(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:ze})}else throw new _t("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(x(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(n){return p(this,null,function*(){try{yield this._removeSession();let r;if("email"in n){let{email:s,password:a,options:c}=n;r=yield T(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Oa})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=yield T(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Oa})}else throw new _t("You must provide either an email or phone number and a password");let{data:o,error:i}=r;return i?{data:{user:null,session:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new en}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(x(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(n){return p(this,null,function*(){var r,o,i,s;return yield this._removeSession(),yield this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=n.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(n){return p(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return this._exchangeCodeForSession(n)}))})}_exchangeCodeForSession(n){return p(this,null,function*(){let r=yield zn(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/"),{data:s,error:a}=yield T(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:ze});return yield qo(this.storage,`${this.storageKey}-code-verifier`),a?{data:{user:null,session:null,redirectType:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new en}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})})}signInWithIdToken(n){return p(this,null,function*(){yield this._removeSession();try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=n,c=yield T(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:ze}),{data:l,error:u}=c;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new en}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(x(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(n){return p(this,null,function*(){var r,o,i,s,a;try{if(yield this._removeSession(),"email"in n){let{email:c,options:l}=n,u=null,d=null;if(this.flowType==="pkce"){let f=yt();yield Ge(this.storage,`${this.storageKey}-code-verifier`,f),u=yield wt(f),d=f===u?"plain":"s256"}let{error:h}=yield T(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in n){let{phone:c,options:l}=n,{data:u,error:d}=yield T(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new _t("You must provide either an email or phone number.")}catch(c){if(x(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(n){return p(this,null,function*(){var r,o;try{n.type!=="email_change"&&n.type!=="phone_change"&&(yield this._removeSession());let i,s;"options"in n&&(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(o=n.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=yield T(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:ze});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(x(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithSSO(n){return p(this,null,function*(){var r,o,i;try{yield this._removeSession();let s=null,a=null;if(this.flowType==="pkce"){let c=yt();yield Ge(this.storage,`${this.storageKey}-code-verifier`,c),s=yield wt(c),a=c===s?"plain":"s256"}return yield T(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=n?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:hf})}catch(s){if(x(s))return{data:null,error:s};throw s}})}reauthenticate(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return p(this,null,function*(){try{return yield this._useSession(n=>p(this,null,function*(){let{data:{session:r},error:o}=n;if(o)throw o;if(!r)throw new Ae;let{error:i}=yield T(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}}))}catch(n){if(x(n))return{data:{user:null,session:null},error:n};throw n}})}resend(n){return p(this,null,function*(){try{n.type!="email_change"&&n.type!="phone_change"&&(yield this._removeSession());let r=`${this.url}/resend`;if("email"in n){let{email:o,type:i,options:s}=n,{error:a}=yield T(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in n){let{phone:o,type:i,options:s}=n,{data:a,error:c}=yield T(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new _t("You must provide either an email or phone number and a type")}catch(r){if(x(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return p(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return this._useSession(n=>p(this,null,function*(){return n}))}))})}_acquireLock(n,r){return p(this,null,function*(){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=p(this,null,function*(){return yield o,yield r()});return this.pendingInLock.push(p(this,null,function*(){try{yield i}catch{}})),i}return yield this.lock(`lock:${this.storageKey}`,n,()=>p(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push(p(this,null,function*(){try{yield o}catch{}})),yield o;this.pendingInLock.length;){let i=[...this.pendingInLock];yield Promise.all(i),this.pendingInLock.splice(0,i.length)}return yield o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(n){return p(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield n(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return p(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=yield zn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!n)return{data:{session:null},error:null};let o=n.expires_at?n.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o)return{data:{session:n},error:null};let{session:i,error:s}=yield this._callRefreshToken(n.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(n){return p(this,null,function*(){return n?yield this._getUser(n):(yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return yield this._getUser()})))})}_getUser(n){return p(this,null,function*(){try{return n?yield T(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:De}):yield this._useSession(r=>p(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)throw a;return yield T(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0,xform:De})}))}catch(r){if(x(r))return{data:{user:null},error:r};throw r}})}updateUser(o){return p(this,arguments,function*(n,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._updateUser(n,r)}))})}_updateUser(o){return p(this,arguments,function*(n,r={}){try{return yield this._useSession(i=>p(this,null,function*(){let{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new Ae;let c=s.session,l=null,u=null;if(this.flowType==="pkce"&&n.email!=null){let f=yt();yield Ge(this.storage,`${this.storageKey}-code-verifier`,f),l=yield wt(f),u=f===l?"plain":"s256"}let{data:d,error:h}=yield T(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:l,code_challenge_method:u}),jwt:c.access_token,xform:De});if(h)throw h;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(i){if(x(i))return{data:{user:null},error:i};throw i}})}_decodeJWT(n){return Na(n)}setSession(n){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._setSession(n)}))})}_setSession(n){return p(this,null,function*(){try{if(!n.access_token||!n.refresh_token)throw new Ae;let r=Date.now()/1e3,o=r,i=!0,s=null,a=Na(n.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{session:c,error:l}=yield this._callRefreshToken(n.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=yield this._getUser(n.access_token);if(l)throw l;s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(x(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(n){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._refreshSession(n)}))})}_refreshSession(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(o=a.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new Ae;let{session:i,error:s}=yield this._callRefreshToken(n.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(x(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(n){return p(this,null,function*(){try{if(!ye())throw new bt("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new bt("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!n)throw new Jn("Not a valid PKCE flow url.");let r=Uo(window.location.href);if(n){if(!r.code)throw new Jn("No code detected.");let{data:R,error:k}=yield this._exchangeCodeForSession(r.code);if(k)throw k;let J=new URL(window.location.href);return J.searchParams.delete("code"),window.history.replaceState(window.history.state,"",J.toString()),{data:{session:R.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new bt(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=r;if(!s||!c||!a||!u)throw new bt("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;l&&(f=parseInt(l));let m=f-d;m*1e3<=Yn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);let g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",g,f,d);let{data:v,error:b}=yield this._getUser(s);if(b)throw b;let B={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:B,redirectType:r.type},error:null}}catch(r){if(x(r))return{data:{session:null,redirectType:null},error:r};throw r}})}_isImplicitGrantFlow(){let n=Uo(window.location.href);return!!(ye()&&(n.access_token||n.error_description))}_isPKCEFlow(){return p(this,null,function*(){let n=Uo(window.location.href),r=yield zn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)})}signOut(){return p(this,arguments,function*(n={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._signOut(n)}))})}_signOut(){return p(this,arguments,function*({scope:n}={scope:"global"}){return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{error:s};let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=yield this.admin.signOut(a,n);if(c&&!(df(c)&&(c.status===404||c.status===401)))return{error:c}}return n!=="others"&&(yield this._removeSession(),yield qo(this.storage,`${this.storageKey}-code-verifier`),yield this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}}))})}onAuthStateChange(n){let r=af(),o={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),p(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:o}}}_emitInitialSession(n){return p(this,null,function*(){return yield this._useSession(r=>p(this,null,function*(){var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){yield(i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}}))})}resetPasswordForEmail(o){return p(this,arguments,function*(n,r={}){let i=null,s=null;if(this.flowType==="pkce"){let a=yt();yield Ge(this.storage,`${this.storageKey}-code-verifier`,`${a}/PASSWORD_RECOVERY`),i=yield wt(a),s=a===i?"plain":"s256"}try{return yield T(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(x(a))return{data:null,error:a};throw a}})}getUserIdentities(){return p(this,null,function*(){var n;try{let{data:r,error:o}=yield this.getUser();if(o)throw o;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(x(r))return{data:null,error:r};throw r}})}linkIdentity(n){return p(this,null,function*(){var r;try{let{data:o,error:i}=yield this._useSession(s=>p(this,null,function*(){var a,c,l,u,d;let{data:h,error:f}=s;if(f)throw f;let m=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield T(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(i)throw i;return ye()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:n.provider,url:o?.url},error:null}}catch(o){if(x(o))return{data:{provider:n.provider,url:null},error:o};throw o}})}unlinkIdentity(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)throw a;return yield T(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})}))}catch(r){if(x(r))return{data:null,error:r};throw r}})}_refreshAccessToken(n){return p(this,null,function*(){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return yield uf(i=>p(this,null,function*(){return yield lf(i*200),this._debug(r,"refreshing attempt",i),yield T(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:ze})}),(i,s,a)=>a&&a.error&&zo(a.error)&&Date.now()+(i+1)*200-o<Yn)}catch(o){if(this._debug(r,"error",o),x(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,r){return p(this,null,function*(){let o=yield this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",o),ye()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}})}_recoverAndRefresh(){return p(this,null,function*(){var n;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let o=yield zn(this.storage,this.storageKey);if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&(yield this._removeSession());return}let i=Math.round(Date.now()/1e3),s=((n=o.expires_at)!==null&&n!==void 0?n:1/0)<i+Aa;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Aa}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),zo(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}})}_callRefreshToken(n){return p(this,null,function*(){var r,o;if(!n)throw new Ae;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Gn;let{data:s,error:a}=yield this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new Ae;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={session:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),x(s)){let a={session:null,error:s};return zo(s)||(yield this._removeSession(),yield this._notifyAllSubscribers("SIGNED_OUT",null)),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}})}_notifyAllSubscribers(n,r,o=!0){return p(this,null,function*(){let i=`#_notifyAllSubscribers(${n})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>p(this,null,function*(){try{yield c.callback(n,r)}catch(l){s.push(l)}}));if(yield Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}})}_saveSession(n){return p(this,null,function*(){this._debug("#_saveSession()",n),yield Ge(this.storage,this.storageKey,n)})}_removeSession(){return p(this,null,function*(){this._debug("#_removeSession()"),yield qo(this.storage,this.storageKey)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ye()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return p(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Yn);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(()=>p(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return p(this,null,function*(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)})}startAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return p(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>p(this,null,function*(){try{let n=Date.now();try{return yield this._useSession(r=>p(this,null,function*(){let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-n)/Yn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Yn}ms, refresh threshold is ${bf} ticks`),i<=bf&&(yield this._callRefreshToken(o.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(n){if(n.isAcquireTimeout||n instanceof Jo)this._debug("auto refresh token tick lock not available");else throw n}})}_handleVisibilityChange(){return p(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!ye()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>p(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return p(this,null,function*(){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,r,o){return p(this,null,function*(){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let s=yt();yield Ge(this.storage,`${this.storageKey}-code-verifier`,s);let a=yield wt(s),c=s===a?"plain":"s256";this._debug("PKCE","code verifier",`${s.substring(0,5)}...`,"code challenge",a,"method",c);let l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(l.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${i.join("&")}`})}_unenroll(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield T(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(x(r))return{data:null,error:r};throw r}})}_enroll(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)return{data:null,error:a};let{data:c,error:l}=yield T(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:n.friendlyName,factor_type:n.factorType,issuer:n.issuer},headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return l?{data:null,error:l}:(!((i=c?.totp)===null||i===void 0)&&i.qr_code&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(r){if(x(r))return{data:null,error:r};throw r}})}_verify(n){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:c}=yield T(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})}))}catch(r){if(x(r))return{data:null,error:r};throw r}}))})}_challenge(n){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield T(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(x(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(n){return p(this,null,function*(){let{data:r,error:o}=yield this._challenge({factorId:n.factorId});return o?{data:null,error:o}:yield this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})})}_listFactors(){return p(this,null,function*(){let{data:{user:n},error:r}=yield this.getUser();if(r)return{data:null,error:r};let o=n?.factors||[],i=o.filter(s=>s.factor_type==="totp"&&s.status==="verified");return{data:{all:o,totp:i},error:null}})}_getAuthenticatorAssuranceLevel(){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){return yield this._useSession(n=>p(this,null,function*(){var r,o;let{data:{session:i},error:s}=n;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(i.access_token),c=null;a.aal&&(c=a.aal);let l=c;((o=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(l="aal2");let d=a.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}))})}}return t.nextInstanceID=0,t})();var Ko=class extends Yo{constructor(e){super(e)}};var Uw=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},Zo=class{constructor(e,n,r){var o,i,s,a,c,l,u,d;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");let h=rf(e);this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`,this.functionsUrl=`${h}/functions/v1`;let f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,m={db:Xd,realtime:tf,auth:Object.assign(Object.assign({},ef),{storageKey:f}),global:Zd},g=of(r??{},m);this.storageKey=(i=(o=g.auth)===null||o===void 0?void 0:o.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=(s=g.global)===null||s===void 0?void 0:s.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((c=g.auth)!==null&&c!==void 0?c:{},this.headers,(l=g.global)===null||l===void 0?void 0:l.fetch),this.fetch=nf(n,this._getAccessToken.bind(this),(u=g.global)===null||u===void 0?void 0:u.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},g.realtime)),this.rest=new Fn(`${h}/rest/v1`,{headers:this.headers,schema:(d=g.db)===null||d===void 0?void 0:d.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new Pn(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new qn(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Uw(this,void 0,void 0,function*(){let{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,storageKey:i,flowType:s,debug:a},c,l){let u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ko({url:this.authUrl,headers:Object.assign(Object.assign({},u),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,flowType:s,debug:a,fetch:l})}_initRealtimeClient(e){return new Hn(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var If=(t,e,n)=>new Zo(t,e,n);var Pa={production:!0,supabaseUrl:"https://righgbrlcduncufxrtmn.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJpZ2hnYnJsY2R1bmN1ZnhydG1uIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDg5NjY2NDgsImV4cCI6MjAyNDU0MjY0OH0.ngcDEtc1fieTvdm2Fc7KH2sDRaEsATYKZezpYCQDXCs"};var MS=(()=>{let e=class e{constructor(){this._session=null,this.sessionSignal=Ia(null),this.user=new Ye(null),this.supabase=If(Pa.supabaseUrl,Pa.supabaseKey),this.supabase.auth.onAuthStateChange((r,o)=>{if(console.log(r),console.log(o),this.sessionSignal.set(o),r==="SIGNED_IN"||r==="TOKEN_REFRESHED"){if(this.user.next(o.user),r==="SIGNED_IN"){console.log("save user to db");let i=o.user;console.log(i),this.updateProfile({id:i?.id,avatar_url:i?.user_metadata.avatar_url,username:i?.user_metadata.name,website:"",provider_refresh_token:o?.provider_refresh_token}).then(a=>{console.log("completed"),console.log(a)})}}else this.user.next(null)})}get session(){return this.supabase.auth.getSession().then(({data:r})=>{this._session=r.session}),this._session}getUser(){return p(this,null,function*(){return yield this.supabase.auth.getUser()})}profile(r){return this.supabase.from("profiles").select("username, website, avatar_url, provider_refresh_token").eq("id",r.id).single()}authChanges(r){return this.supabase.auth.onAuthStateChange(r)}signInGoogle(){return p(this,null,function*(){return this.supabase.auth.signInWithOAuth({provider:"google",options:{scopes:"https://www.googleapis.com/auth/calendar",queryParams:{access_type:"offline",prompt:"consent"}}})})}signIn(r){return this.supabase.auth.signInWithOtp({email:r})}signOut(){return this.supabase.auth.signOut()}updateProfile(r){let o=le(ce({},r),{updated_at:new Date});return this.supabase.from("profiles").upsert(o)}downLoadImage(r){return this.supabase.storage.from("avatars").download(r)}uploadAvatar(r,o){return this.supabase.storage.from("avatars").upload(r,o)}updateShift(r){let o=le(ce({},r),{updated_at:new Date});return this.supabase.from("shifts").upsert(o)}getShifts(){return this.supabase.from("shifts").select().returns()}updateEvent(r){let o=le(ce({},r),{updated_at:new Date,owner_id:r.owner_id??this._session?.user.id});return this.supabase.from("events").upsert(o)}getEvents(){return this.supabase.from("events").select().returns()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();export{q as a,Rf as b,O as c,pi as d,mi as e,Mt as f,Ye as g,fn as h,Re as i,Wf as j,Gf as k,zf as l,Ze as m,Ce as n,th as o,Xe as p,Dr as q,rh as r,oh as s,hn as t,wc as u,ih as v,pn as w,gi as x,sh as y,ch as z,bc as A,vi as B,lh as C,uh as D,dh as E,Ic as F,fh as G,hh as H,C as I,mn as J,OD as K,S as L,oe as M,vn as N,Rt as O,AD as P,kD as Q,PD as R,RD as S,LD as T,jD as U,mo as V,FD as W,G as X,VD as Y,$D as Z,F as _,HD as $,bp as aa,UD as ba,BD as ca,Gl as da,Ve as ea,H as fa,Fp as ga,su as ha,$e as ia,qD as ja,Yp as ka,Zp as la,WD as ma,GD as na,oa,ut as pa,Im as qa,zD as ra,Ki as sa,QD as ta,Eo as ua,Kr as va,is as wa,KD as xa,ld as ya,Ie as za,wa as Aa,Ia as Ba,XD as Ca,eC as Da,Sv as Ea,tC as Fa,ms as Ga,Rv as Ha,Ea as Ia,ys as Ja,Hv as Ka,Jv as La,Yv as Ma,Kv as Na,nC as Oa,rC as Pa,oC as Qa,iC as Ra,Dd as Sa,Cd as Ta,dy as Ua,py as Va,sC as Wa,yy as Xa,Iy as Ya,aC as Za,cC as _a,lC as $a,uC as ab,dC as bb,fC as cb,hC as db,pC as eb,mC as fb,gC as gb,Ty as hb,Nd as ib,My as jb,vC as kb,Sy as lb,yC as mb,wC as nb,_C as ob,bC as pb,IC as qb,EC as rb,xC as sb,DC as tb,kd as ub,Hy as vb,Rd as wb,CC as xb,Ld as yb,tw as zb,iw as Ab,sw as Bb,TC as Cb,MC as Db,SC as Eb,lw as Fb,MS as Gb};
