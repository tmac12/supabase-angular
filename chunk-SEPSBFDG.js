import{b as Yn,c as Aa}from"./chunk-JENGY3ED.js";import{a as ae,b as ce,d as p}from"./chunk-PYQTE2ZK.js";function ka(t,e){return Object.is(t,e)}var H=null,rn=!1,Kn=1,X=Symbol("SIGNAL");function B(t){let e=H;return H=t,e}function If(){return rn}var sn={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function an(t){if(rn)throw new Error("");if(H===null)return;H.consumerOnSignalRead(t);let e=H.nextProducerIndex++;if(bt(H),e<H.producerNode.length&&H.producerNode[e]!==t&&on(H)){let n=H.producerNode[e];nr(n,H.producerIndexOfThis[e])}H.producerNode[e]!==t&&(H.producerNode[e]=t,H.producerIndexOfThis[e]=on(H)?Fa(t,H,e):0),H.producerLastReadVersion[e]=t.version}function Ef(){Kn++}function Pa(t){if(!(on(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Kn)){if(!t.producerMustRecompute(t)&&!tr(t)){t.dirty=!1,t.lastCleanEpoch=Kn;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Kn}}function Ra(t){if(t.liveConsumerNode===void 0)return;let e=rn;rn=!0;try{for(let n of t.liveConsumerNode)n.dirty||ja(n)}finally{rn=e}}function La(){return H?.consumerAllowSignalWrites!==!1}function ja(t){t.dirty=!0,Ra(t),t.consumerMarkedDirty?.(t)}function Xn(t){return t&&(t.nextProducerIndex=0),B(t)}function er(t,e){if(B(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(on(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)nr(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function tr(t){bt(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Pa(n),r!==n.version))return!0}return!1}function ti(t){if(bt(t),on(t))for(let e=0;e<t.producerNode.length;e++)nr(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Fa(t,e,n){if(Va(t),bt(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Fa(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function nr(t,e){if(Va(t),bt(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)nr(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],o=t.liveConsumerNode[e];bt(o),o.producerIndexOfThis[r]=e}}function on(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function bt(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Va(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function ni(t){let e=Object.create(xf);e.computation=t;let n=()=>{if(Pa(e),an(e),e.value===Zn)throw e.error;return e.value};return n[X]=e,n}var Zo=Symbol("UNSET"),Xo=Symbol("COMPUTING"),Zn=Symbol("ERRORED"),xf=ce(ae({},sn),{value:Zo,dirty:!0,error:null,equal:ka,producerMustRecompute(t){return t.value===Zo||t.value===Xo},producerRecomputeValue(t){if(t.value===Xo)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Xo;let n=Xn(t),r;try{r=t.computation()}catch(o){r=Zn,t.error=o}finally{er(t,n)}if(e!==Zo&&e!==Zn&&r!==Zn&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function Df(){throw new Error}var $a=Df;function Ha(){$a()}function Ua(t){$a=t}var Cf=null;function Ba(t){let e=Object.create(ri);e.value=t;let n=()=>(an(e),e.value);return n[X]=e,n}function cn(t,e){La()||Ha(),t.equal(t.value,e)||(t.value=e,Tf(t))}function qa(t,e){La()||Ha(),cn(t,e(t.value))}var ri=ce(ae({},sn),{equal:ka,value:void 0});function Tf(t){t.version++,Ef(),Ra(t),Cf?.()}function Wa(t,e,n){let r=Object.create(Mf);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let o=c=>{r.cleanupFn=c};function i(c){return c.fn===null&&c.schedule===null}function s(c){i(c)||(ti(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=ei)}let a=()=>{if(r.fn===null)return;if(If())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!tr(r))return;r.hasRun=!0;let c=Xn(r);try{r.cleanupFn(),r.cleanupFn=ei,r.fn(o)}finally{er(r,c)}};return r.ref={notify:()=>ja(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>s(r),[X]:r},r.ref}var ei=()=>{},Mf=ce(ae({},sn),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:ei});function b(t){return typeof t=="function"}function It(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var rr=It(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ln(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var q=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(b(r))try{r()}catch(i){e=i instanceof rr?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{Ga(i)}catch(s){e=e??[],s instanceof rr?e=[...e,...s.errors]:e.push(s)}}if(e)throw new rr(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Ga(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ln(n,e)}remove(e){let{_finalizers:n}=this;n&&ln(n,e),e instanceof t&&e._removeParent(this)}};q.EMPTY=(()=>{let t=new q;return t.closed=!0,t})();var oi=q.EMPTY;function or(t){return t instanceof q||t&&"closed"in t&&b(t.remove)&&b(t.add)&&b(t.unsubscribe)}function Ga(t){b(t)?t():t.unsubscribe()}var he={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Et={setTimeout(t,e,...n){let{delegate:r}=Et;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Et;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ir(t){Et.setTimeout(()=>{let{onUnhandledError:e}=he;if(e)e(t);else throw t})}function un(){}var za=ii("C",void 0,void 0);function Qa(t){return ii("E",void 0,t)}function Ja(t){return ii("N",t,void 0)}function ii(t,e,n){return{kind:t,value:e,error:n}}var ze=null;function xt(t){if(he.useDeprecatedSynchronousErrorHandling){let e=!ze;if(e&&(ze={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ze;if(ze=null,n)throw r}}else t()}function Ya(t){he.useDeprecatedSynchronousErrorHandling&&ze&&(ze.errorThrown=!0,ze.error=t)}var Qe=class extends q{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,or(e)&&e.add(this)):this.destination=Of}static create(e,n,r){return new Dt(e,n,r)}next(e){this.isStopped?ai(Ja(e),this):this._next(e)}error(e){this.isStopped?ai(Qa(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ai(za,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Sf=Function.prototype.bind;function si(t,e){return Sf.call(t,e)}var ci=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){sr(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){sr(r)}else sr(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){sr(n)}}},Dt=class extends Qe{constructor(e,n,r){super();let o;if(b(e)||!e)o={next:e??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&he.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&si(e.next,i),error:e.error&&si(e.error,i),complete:e.complete&&si(e.complete,i)}):o=e}this.destination=new ci(o)}};function sr(t){he.useDeprecatedSynchronousErrorHandling?Ya(t):ir(t)}function Nf(t){throw t}function ai(t,e){let{onStoppedNotification:n}=he;n&&Et.setTimeout(()=>n(t,e))}var Of={closed:!0,next:un,error:Nf,complete:un};var Ct=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ne(t){return t}function Af(...t){return li(t)}function li(t){return t.length===0?ne:t.length===1?t[0]:function(n){return t.reduce((r,o)=>o(r),n)}}var N=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=Pf(n)?n:new Dt(n,r,o);return xt(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Ka(r),new r((o,i)=>{let s=new Dt({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ct](){return this}pipe(...n){return li(n)(this)}toPromise(n){return n=Ka(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=e=>new t(e),t})();function Ka(t){var e;return(e=t??he.Promise)!==null&&e!==void 0?e:Promise}function kf(t){return t&&b(t.next)&&b(t.error)&&b(t.complete)}function Pf(t){return t&&t instanceof Qe||kf(t)&&or(t)}function ui(t){return b(t?.lift)}function S(t){return e=>{if(ui(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function D(t,e,n,r,o){return new di(t,e,n,r,o)}var di=class extends Qe{constructor(e,n,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function fi(){return S((t,e)=>{let n=null;t._refCount++;let r=D(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let o=t._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var hi=class extends N{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ui(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new q;let n=this.getSubject();e.add(this.source.subscribe(D(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=q.EMPTY)}return e}refCount(){return fi()(this)}};var Za=It(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Tt=(()=>{class t extends N{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ar(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Za}next(n){xt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){xt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){xt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?oi:(this.currentObservers=null,i.push(n),new q(()=>{this.currentObservers=null,ln(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new N;return n.source=this,n}}return t.create=(e,n)=>new ar(e,n),t})(),ar=class extends Tt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:oi}};var Je=class extends Tt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var dn=new N(t=>t.complete());function Xa(t){return t&&b(t.schedule)}function ec(t){return t[t.length-1]}function cr(t){return b(ec(t))?t.pop():void 0}function ke(t){return Xa(ec(t))?t.pop():void 0}function nc(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function tc(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ye(t){return this instanceof Ye?(this.v=t,this):new Ye(t)}function rc(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(f){r[f]&&(o[f]=function(h){return new Promise(function(m,g){i.push([f,h,m,g])>1||a(f,h)})})}function a(f,h){try{c(r[f](h))}catch(m){d(i[0][3],m)}}function c(f){f.value instanceof Ye?Promise.resolve(f.value.v).then(l,u):d(i[0][2],f)}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),i.shift(),i.length&&a(i[0][0],i[0][1])}}function oc(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof tc=="function"?tc(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(s){return new Promise(function(a,c){s=t[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},s)}}var lr=t=>t&&typeof t.length=="number"&&typeof t!="function";function ur(t){return b(t?.then)}function dr(t){return b(t[Ct])}function fr(t){return Symbol.asyncIterator&&b(t?.[Symbol.asyncIterator])}function hr(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Rf(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var pr=Rf();function mr(t){return b(t?.[pr])}function gr(t){return rc(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:o}=yield Ye(n.read());if(o)return yield Ye(void 0);yield yield Ye(r)}}finally{n.releaseLock()}})}function vr(t){return b(t?.getReader)}function L(t){if(t instanceof N)return t;if(t!=null){if(dr(t))return Lf(t);if(lr(t))return jf(t);if(ur(t))return Ff(t);if(fr(t))return ic(t);if(mr(t))return Vf(t);if(vr(t))return $f(t)}throw hr(t)}function Lf(t){return new N(e=>{let n=t[Ct]();if(b(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function jf(t){return new N(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Ff(t){return new N(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ir)})}function Vf(t){return new N(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function ic(t){return new N(e=>{Hf(t,e).catch(n=>e.error(n))})}function $f(t){return ic(gr(t))}function Hf(t,e){var n,r,o,i;return nc(this,void 0,void 0,function*(){try{for(n=oc(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}e.complete()})}function ee(t,e,n,r=0,o=!1){let i=e.schedule(function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function yr(t,e=0){return S((n,r)=>{n.subscribe(D(r,o=>ee(r,t,()=>r.next(o),e),()=>ee(r,t,()=>r.complete(),e),o=>ee(r,t,()=>r.error(o),e)))})}function wr(t,e=0){return S((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function sc(t,e){return L(t).pipe(wr(e),yr(e))}function ac(t,e){return L(t).pipe(wr(e),yr(e))}function cc(t,e){return new N(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function lc(t,e){return new N(n=>{let r;return ee(n,e,()=>{r=t[pr](),ee(n,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>b(r?.return)&&r.return()})}function _r(t,e){if(!t)throw new Error("Iterable cannot be null");return new N(n=>{ee(n,e,()=>{let r=t[Symbol.asyncIterator]();ee(n,e,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function uc(t,e){return _r(gr(t),e)}function dc(t,e){if(t!=null){if(dr(t))return sc(t,e);if(lr(t))return cc(t,e);if(ur(t))return ac(t,e);if(fr(t))return _r(t,e);if(mr(t))return lc(t,e);if(vr(t))return uc(t,e)}throw hr(t)}function Pe(t,e){return e?dc(t,e):L(t)}function Uf(...t){let e=ke(t);return Pe(t,e)}function Bf(t,e){let n=b(t)?t:()=>t,r=o=>o.error(n());return new N(e?o=>e.schedule(r,0,o):r)}function qf(t){return!!t&&(t instanceof N||b(t.lift)&&b(t.subscribe))}var Ke=It(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ce(t,e){return S((n,r)=>{let o=0;n.subscribe(D(r,i=>{r.next(t.call(e,i,o++))}))})}var{isArray:Wf}=Array;function Gf(t,e){return Wf(e)?t(...e):t(e)}function br(t){return Ce(e=>Gf(t,e))}var{isArray:zf}=Array,{getPrototypeOf:Qf,prototype:Jf,keys:Yf}=Object;function Ir(t){if(t.length===1){let e=t[0];if(zf(e))return{args:e,keys:null};if(Kf(e)){let n=Yf(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Kf(t){return t&&typeof t=="object"&&Qf(t)===Jf}function Er(t,e){return t.reduce((n,r,o)=>(n[r]=e[o],n),{})}function Zf(...t){let e=ke(t),n=cr(t),{args:r,keys:o}=Ir(t);if(r.length===0)return Pe([],e);let i=new N(Xf(r,e,o?s=>Er(o,s):ne));return n?i.pipe(br(n)):i}function Xf(t,e,n=ne){return r=>{fc(e,()=>{let{length:o}=t,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)fc(e,()=>{let l=Pe(t[c],e),u=!1;l.subscribe(D(r,d=>{i[c]=d,u||(u=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function fc(t,e,n){t?ee(n,t,e):e()}function hc(t,e,n,r,o,i,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&e.complete()},h=g=>l<r?m(g):c.push(g),m=g=>{i&&e.next(g),l++;let v=!1;L(n(g,u++)).subscribe(D(e,_=>{o?.(_),i?h(_):e.next(_)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<r;){let _=c.shift();s?ee(e,s,()=>m(_)):m(_)}f()}catch(_){e.error(_)}}))};return t.subscribe(D(e,h,()=>{d=!0,f()})),()=>{a?.()}}function Ze(t,e,n=1/0){return b(e)?Ze((r,o)=>Ce((i,s)=>e(r,i,o,s))(L(t(r,o))),n):(typeof e=="number"&&(n=e),S((r,o)=>hc(r,o,t,n)))}function pc(t=1/0){return Ze(ne,t)}function mc(){return pc(1)}function xr(...t){return mc()(Pe(t,ke(t)))}function eh(t){return new N(e=>{L(t()).subscribe(e)})}function th(...t){let e=cr(t),{args:n,keys:r}=Ir(t),o=new N(i=>{let{length:s}=n;if(!s){i.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;L(n[u]).subscribe(D(i,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||i.next(r?Er(r,a):a),i.complete())}))}});return e?o.pipe(br(e)):o}function fn(t,e){return S((n,r)=>{let o=0;n.subscribe(D(r,i=>t.call(e,i,o++)&&r.next(i)))})}function gc(t){return S((e,n)=>{let r=null,o=!1,i;r=e.subscribe(D(n,void 0,void 0,s=>{i=L(t(s,gc(t)(e))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function vc(t,e,n,r,o){return(i,s)=>{let a=n,c=e,l=0;i.subscribe(D(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function nh(t,e){return b(e)?Ze(t,e,1):Ze(t,1)}function hn(t){return S((e,n)=>{let r=!1;e.subscribe(D(n,o=>{r=!0,n.next(o)},()=>{r||n.next(t),n.complete()}))})}function pi(t){return t<=0?()=>dn:S((e,n)=>{let r=0;e.subscribe(D(n,o=>{++r<=t&&(n.next(o),t<=r&&n.complete())}))})}function rh(t){return Ce(()=>t)}function Dr(t=oh){return S((e,n)=>{let r=!1;e.subscribe(D(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(t())))})}function oh(){return new Ke}function ih(t){return S((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function yc(t,e){let n=arguments.length>=2;return r=>r.pipe(t?fn((o,i)=>t(o,i,r)):ne,pi(1),n?hn(e):Dr(()=>new Ke))}function mi(t){return t<=0?()=>dn:S((e,n)=>{let r=[];e.subscribe(D(n,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function sh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?fn((o,i)=>t(o,i,r)):ne,mi(1),n?hn(e):Dr(()=>new Ke))}function ah(t,e){return S(vc(t,e,arguments.length>=2,!0))}function ch(...t){let e=ke(t);return S((n,r)=>{(e?xr(t,n,e):xr(t,n)).subscribe(r)})}function lh(t,e){return S((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(D(r,c=>{o?.unsubscribe();let l=0,u=i++;L(t(c,u)).subscribe(o=D(r,d=>r.next(e?e(c,d,u,l++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function uh(t){return S((e,n)=>{L(t).subscribe(D(n,()=>n.complete(),un)),!n.closed&&e.subscribe(n)})}function dh(t,e,n){let r=b(t)||e||n?{next:t,error:e,complete:n}:t;return r?S((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(D(i,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),i.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):ne}var ll="https://g.co/ng/security#xss",C=class extends Error{constructor(e,n){super(fh(e,n)),this.code=e}};function fh(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var so=Symbol("InputSignalNode#UNSET"),ul=ce(ae({},ri),{transformFn:void 0,applyValueToInputSignal(t,e){cn(t,e)}});function dl(t,e){let n=Object.create(ul);n.value=t,n.transformFn=e?.transform;function r(){if(an(n),n.value===so)throw new C(-950,!1);return n.value}return r[X]=n,r}var Ai=class extends Tt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let o=e,i=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=gi(i),o&&(o=gi(o)),s&&(s=gi(s)));let a=super.subscribe({next:o,error:i,complete:s});return e instanceof q&&e.add(a),a}};function gi(t){return e=>{setTimeout(t,void 0,e)}}var pn=Ai;function wc(t,e){return dl(t,e)}function hh(t){return dl(so,t)}var SD=(wc.required=hh,wc),M=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(M||{});function oe(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(oe).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function _c(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var fl=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(fl||{}),gn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(gn||{});function Sn(t){return{toString:t}.toString()}var we=globalThis;var kt={},re=[];function A(t){for(let e in t)if(t[e]===A)return e;throw Error("Could not find renamed property on target object.")}function ph(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var mh=A({\u0275cmp:A}),gh=A({\u0275dir:A}),vh=A({\u0275pipe:A}),yh=A({\u0275mod:A}),jr=A({\u0275fac:A}),mn=A({__NG_ELEMENT_ID__:A}),bc=A({__NG_ENV_ID__:A}),Pt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Pt||{});function hl(t,e,n){let r=t.length;for(;;){let o=t.indexOf(e,n);if(o===-1)return o;if(o===0||t.charCodeAt(o-1)<=32){let i=e.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}n=o+1}}function ki(t,e,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,i)}else{let i=o,s=n[++r];wh(i)?t.setProperty(e,i,s):t.setAttribute(e,i,s),r++}}return r}function pl(t){return t===3||t===4||t===6}function wh(t){return t.charCodeAt(0)===64}function vn(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let o=e[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?Ic(t,n,o,null,e[++r]):Ic(t,n,o,null,null))}}return t}function Ic(t,e,n,r,o){let i=0,s=t.length;if(e===-1)s=-1;else for(;i<t.length;){let a=t[i++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=i-1;break}}}for(;i<t.length;){let a=t[i];if(typeof a=="number")break;if(a===n){if(r===null){o!==null&&(t[i+1]=o);return}else if(r===t[i+1]){t[i+2]=o;return}}i++,r!==null&&i++,o!==null&&i++}s!==-1&&(t.splice(s,0,e),i=s+1),t.splice(i++,0,n),r!==null&&t.splice(i++,0,r),o!==null&&t.splice(i++,0,o)}var ml="ng-template";function _h(t,e,n){let r=0,o=!0;for(;r<t.length;){let i=t[r++];if(typeof i=="string"&&o){let s=t[r++];if(n&&i==="class"&&hl(s.toLowerCase(),e,0)!==-1)return!0}else if(i===1){for(;r<t.length&&typeof(i=t[r++])=="string";)if(i.toLowerCase()===e)return!0;return!1}else typeof i=="number"&&(o=!1)}return!1}function gl(t){return t.type===4&&t.value!==ml}function bh(t,e,n){let r=t.type===4&&!n?ml:t.value;return e===r}function Ih(t,e,n){let r=4,o=t.attrs||[],i=Dh(o),s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!pe(r)&&!pe(c))return!1;if(s&&pe(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!bh(t,c,n)||c===""&&e.length===1){if(pe(r))return!1;s=!0}}else{let l=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!_h(t.attrs,l,n)){if(pe(r))return!1;s=!0}continue}let u=r&8?"class":c,d=Eh(u,o,gl(t),n);if(d===-1){if(pe(r))return!1;s=!0;continue}if(l!==""){let f;d>i?f="":f=o[d+1].toLowerCase();let h=r&8?f:null;if(h&&hl(h,l,0)!==-1||r&2&&l!==f){if(pe(r))return!1;s=!0}}}}return pe(r)||s}function pe(t){return(t&1)===0}function Eh(t,e,n,r){if(e===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<e.length;){let s=e[o];if(s===t)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=e[++o];for(;typeof a=="string";)a=e[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return Ch(e,t)}function vl(t,e,n=!1){for(let r=0;r<e.length;r++)if(Ih(t,e[r],n))return!0;return!1}function xh(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function Dh(t){for(let e=0;e<t.length;e++){let n=t[e];if(pl(n))return e}return t.length}function Ch(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Th(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let o=0;o<t.length;o++)if(t[o]!==r[o])continue e;return!0}}return!1}function Ec(t,e){return t?":not("+e.trim()+")":e}function Mh(t){let e=t[0],n=1,r=2,o="",i=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!pe(s)&&(e+=Ec(i,o),o=""),r=s,i=i||!pe(r);n++}return o!==""&&(e+=Ec(i,o)),e}function Sh(t){return t.map(Mh).join(",")}function Nh(t){let e=[],n=[],r=1,o=2;for(;r<t.length;){let i=t[r];if(typeof i=="string")o===2?i!==""&&e.push(i,t[++r]):o===8&&n.push(i);else{if(!pe(o))break;o=i}r++}return{attrs:e,classes:n}}function ND(t){return Sn(()=>{let e=bl(t),n=ce(ae({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===fl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||gn.Emulated,styles:t.styles||re,_:null,schemas:t.schemas||null,tView:null,id:""});Il(n);let r=t.dependencies;return n.directiveDefs=Dc(r,!1),n.pipeDefs=Dc(r,!0),n.id=Ph(n),n})}function Oh(t){return nt(t)||yl(t)}function Ah(t){return t!==null}function OD(t){return Sn(()=>({type:t.type,bootstrap:t.bootstrap||re,declarations:t.declarations||re,imports:t.imports||re,exports:t.exports||re,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function xc(t,e){if(t==null)return kt;let n={};for(let r in t)if(t.hasOwnProperty(r)){let o=t[r],i,s,a=Pt.None;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i):(i=o,s=o),e?(n[i]=a!==Pt.None?[r,a]:r,e[i]=s):n[i]=r}return n}function AD(t){return Sn(()=>{let e=bl(t);return Il(e),e})}function kD(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function nt(t){return t[mh]||null}function yl(t){return t[gh]||null}function wl(t){return t[vh]||null}function kh(t){let e=nt(t)||yl(t)||wl(t);return e!==null?e.standalone:!1}function _l(t,e){let n=t[yh]||null;if(!n&&e===!0)throw new Error(`Type ${oe(t)} does not have '\u0275mod' property.`);return n}function bl(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||kt,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||re,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xc(t.inputs,e),outputs:xc(t.outputs),debugInfo:null}}function Il(t){t.features?.forEach(e=>e(t))}function Dc(t,e){if(!t)return null;let n=e?wl:Oh;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Ah)}function Ph(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let o of n)e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var Se=0,w=1,y=2,G=3,me=4,ie=5,Rt=6,yn=7,K=8,Lt=9,Te=10,R=11,wn=12,Cc=13,Ht=14,le=15,Nn=16,Mt=17,Me=18,ao=19,El=20,Le=21,Nr=22,rt=23,Z=25,xl=1;var ot=7,Fr=8,jt=9,Q=10,js=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(js||{});function et(t){return Array.isArray(t)&&typeof t[xl]=="object"}function Ne(t){return Array.isArray(t)&&t[xl]===!0}function Fs(t){return(t.flags&4)!==0}function co(t){return t.componentOffset>-1}function lo(t){return(t.flags&1)===1}function je(t){return!!t.template}function Rh(t){return(t[y]&512)!==0}var Dl="svg",Lh="math",jh=!1;function Fh(){return jh}function Ee(t){for(;Array.isArray(t);)t=t[Se];return t}function Cl(t,e){return Ee(e[t])}function ue(t,e){return Ee(e[t.index])}function Vs(t,e){return t.data[e]}function Vh(t,e){return t[e]}function He(t,e){let n=e[t];return et(n)?n:n[Se]}function $h(t){return(t[y]&4)===4}function $s(t){return(t[y]&128)===128}function Hh(t){return Ne(t[G])}function Ft(t,e){return e==null?null:t[e]}function Tl(t){t[Mt]=0}function Uh(t){t[y]&1024||(t[y]|=1024,$s(t)&&_n(t))}function Bh(t,e){for(;t>0;)e=e[Ht],t--;return e}function Hs(t){return!!(t[y]&9216||t[rt]?.dirty)}function Pi(t){Hs(t)?_n(t):t[y]&64&&(Fh()?(t[y]|=1024,_n(t)):t[Te].changeDetectionScheduler?.notify())}function _n(t){t[Te].changeDetectionScheduler?.notify();let e=bn(t);for(;e!==null&&!(e[y]&8192||(e[y]|=8192,!$s(e)));)e=bn(e)}function Ml(t,e){if((t[y]&256)===256)throw new C(911,!1);t[Le]===null&&(t[Le]=[]),t[Le].push(e)}function qh(t,e){if(t[Le]===null)return;let n=t[Le].indexOf(e);n!==-1&&t[Le].splice(n,1)}function bn(t){let e=t[G];return Ne(e)?e[G]:e}var E={lFrame:Pl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Wh(){return E.lFrame.elementDepthCount}function Gh(){E.lFrame.elementDepthCount++}function zh(){E.lFrame.elementDepthCount--}function Sl(){return E.bindingsEnabled}function Nl(){return E.skipHydrationRootTNode!==null}function Qh(t){return E.skipHydrationRootTNode===t}function Jh(){E.skipHydrationRootTNode=null}function I(){return E.lFrame.lView}function F(){return E.lFrame.tView}function J(){let t=Ol();for(;t!==null&&t.type===64;)t=t.parent;return t}function Ol(){return E.lFrame.currentTNode}function Yh(){let t=E.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ht(t,e){let n=E.lFrame;n.currentTNode=t,n.isParent=e}function Us(){return E.lFrame.isParent}function Bs(){E.lFrame.isParent=!1}function qs(){let t=E.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Kh(t){return E.lFrame.bindingIndex=t}function Ut(){return E.lFrame.bindingIndex++}function Zh(t){let e=E.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Xh(){return E.lFrame.inI18n}function ep(t,e){let n=E.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ri(e)}function tp(){return E.lFrame.currentDirectiveIndex}function Ri(t){E.lFrame.currentDirectiveIndex=t}function np(t){let e=E.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Ws(){return E.lFrame.currentQueryIndex}function uo(t){E.lFrame.currentQueryIndex=t}function rp(t){let e=t[w];return e.type===2?e.declTNode:e.type===1?t[ie]:null}function Al(t,e,n){if(n&M.SkipSelf){let o=e,i=t;for(;o=o.parent,o===null&&!(n&M.Host);)if(o=rp(i),o===null||(i=i[Ht],o.type&10))break;if(o===null)return!1;e=o,t=i}let r=E.lFrame=kl();return r.currentTNode=e,r.lView=t,!0}function Gs(t){let e=kl(),n=t[w];E.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function kl(){let t=E.lFrame,e=t===null?null:t.child;return e===null?Pl(t):e}function Pl(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Rl(){let t=E.lFrame;return E.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Ll=Rl;function zs(){let t=Rl();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function op(t){return(E.lFrame.contextLView=Bh(t,E.lFrame.contextLView))[K]}function pt(){return E.lFrame.selectedIndex}function it(t){E.lFrame.selectedIndex=t}function Qs(){let t=E.lFrame;return Vs(t.tView,t.selectedIndex)}function PD(){E.lFrame.currentNamespace=Dl}function RD(){ip()}function ip(){E.lFrame.currentNamespace=null}function sp(){return E.lFrame.currentNamespace}var jl=!0;function fo(){return jl}function ho(t){jl=t}function ap(){return Bt(J(),I())}function Bt(t,e){return new po(ue(t,e))}var po=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=ap;let t=e;return t})();function Fl(t){return t instanceof po?t.nativeElement:t}function cp(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let o=t[r],i=e[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}function lp(t){return t.flat(Number.POSITIVE_INFINITY)}function Js(t,e){t.forEach(n=>Array.isArray(n)?Js(n,e):e(n))}function Vl(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Vr(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function up(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function dp(t,e,n,r){let o=t.length;if(o==e)t.push(n,r);else if(o===1)t.push(r,t[0]),t[0]=n;else{for(o--,t.push(t[o-1],t[o]);o>e;){let i=o-2;t[o]=t[i],o--}t[e]=n,t[e+1]=r}}function fp(t,e,n){let r=On(t,e);return r>=0?t[r|1]=n:(r=~r,dp(t,r,e,n)),r}function vi(t,e){let n=On(t,e);if(n>=0)return t[n|1]}function On(t,e){return hp(t,e,1)}function hp(t,e,n){let r=0,o=t.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=t[i<<n];if(e===s)return i<<n;s>e?o=i:r=i+1}return~(o<<n)}function pp(){return this._results[Symbol.iterator]()}var Li=class t{get changes(){return this._changes??=new pn}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=pp)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=lp(e);(this._changesDetected=!cp(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function $l(t){return(t.flags&128)===128}var ji;function LD(t){ji=t}function mp(){if(ji!==void 0)return ji;if(typeof document<"u")return document;throw new C(210,!1)}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function jD(t){return{providers:t.providers||[],imports:t.imports||[]}}function mo(t){return Tc(t,Hl)||Tc(t,Ul)}function FD(t){return mo(t)!==null}function Tc(t,e){return t.hasOwnProperty(e)?t[e]:null}function gp(t){let e=t&&(t[Hl]||t[Ul]);return e||null}function Mc(t){return t&&(t.hasOwnProperty(Sc)||t.hasOwnProperty(vp))?t[Sc]:null}var Hl=A({\u0275prov:A}),Sc=A({\u0275inj:A}),Ul=A({ngInjectableDef:A}),vp=A({ngInjectorDef:A}),j=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},VD=new j("",{providedIn:"root",factory:()=>yp}),yp="ng",wp=new j(""),$D=new j("",{providedIn:"platform",factory:()=>"unknown"});var HD=new j("",{providedIn:"root",factory:()=>mp().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var _p=A({__forward_ref__:A});function Bl(t){return t.__forward_ref__=Bl,t.toString=function(){return oe(this())},t}function Y(t){return ql(t)?t():t}function ql(t){return typeof t=="function"&&t.hasOwnProperty(_p)&&t.__forward_ref__===Bl}function Wl(t){return t&&!!t.\u0275providers}function go(t){return typeof t=="string"?t:t==null?"":String(t)}function bp(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():go(t)}function Ip(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new C(-200,t)}function Ys(t,e){throw new C(-201,!1)}var Fi;function Gl(){return Fi}function te(t){let e=Fi;return Fi=t,e}function zl(t,e,n){let r=mo(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&M.Optional)return null;if(e!==void 0)return e;Ys(t,"Injector")}var Ep={},In=Ep,Vi="__NG_DI_FLAG__",$r="ngTempTokenPath",xp="ngTokenPath",Dp=/\n/gm,Cp="\u0275",Nc="__source",Ot;function Tp(){return Ot}function Re(t){let e=Ot;return Ot=t,e}function Mp(t,e=M.Default){if(Ot===void 0)throw new C(-203,!1);return Ot===null?zl(t,void 0,e):Ot.get(t,e&M.Optional?null:void 0,e)}function Fe(t,e=M.Default){return(Gl()||Mp)(Y(t),e)}function W(t,e=M.Default){return Fe(t,vo(e))}function vo(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function $i(t){let e=[];for(let n=0;n<t.length;n++){let r=Y(t[n]);if(Array.isArray(r)){if(r.length===0)throw new C(900,!1);let o,i=M.Default;for(let s=0;s<r.length;s++){let a=r[s],c=Sp(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}e.push(Fe(o,i))}else e.push(Fe(r))}return e}function Ql(t,e){return t[Vi]=e,t.prototype[Vi]=e,t}function Sp(t){return t[Vi]}function Np(t,e,n,r){let o=t[$r];throw e[Nc]&&o.unshift(e[Nc]),t.message=Op(`
`+t.message,o,n,r),t[xp]=o,t[$r]=null,t}function Op(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Cp?t.slice(2):t;let o=oe(e);if(Array.isArray(e))o=e.map(oe).join(" -> ");else if(typeof e=="object"){let i=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];i.push(s+":"+(typeof a=="string"?JSON.stringify(a):oe(a)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${t.replace(Dp,`
  `)}`}var Ap="h",kp="b";var Pp=()=>null;function Ks(t,e,n=!1){return Pp(t,e,n)}var Cr="__parameters__";function Rp(t){return function(...n){if(t){let r=t(...n);for(let o in r)this[o]=r[o]}}}function Jl(t,e,n){return Sn(()=>{let r=Rp(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;let s=new o(...i);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Cr)?c[Cr]:Object.defineProperty(c,Cr,{value:[]})[Cr];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}var Yl=Ql(Jl("Optional"),8);var Kl=Ql(Jl("SkipSelf"),4);function st(t,e){let n=t.hasOwnProperty(jr);return n?t[jr]:null}var Hr=new j(""),Zl=new j("",-1),Xl=new j(""),Ur=class{get(e,n=In){if(n===In){let r=new Error(`NullInjectorError: No provider for ${oe(e)}!`);throw r.name="NullInjectorError",r}return n}};function Lp(t){return{\u0275providers:t}}function jp(...t){return{\u0275providers:eu(!0,t),\u0275fromNgModule:!0}}function eu(t,...e){let n=[],r=new Set,o,i=s=>{n.push(s)};return Js(e,s=>{let a=s;Hi(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&tu(o,i),n}function tu(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:o}=t[n];Zs(o,i=>{e(i,r)})}}function Hi(t,e,n,r){if(t=Y(t),!t)return!1;let o=null,i=Mc(t),s=!i&&nt(t);if(!i&&!s){let c=t.ngModule;if(i=Mc(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=t}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Hi(l,e,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let l;try{Js(i.imports,u=>{Hi(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&tu(l,e)}if(!a){let l=st(o)||(()=>new o);e({provide:o,useFactory:l,deps:re},o),e({provide:Xl,useValue:o,multi:!0},o),e({provide:Hr,useValue:()=>Fe(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let l=t;Zs(c,u=>{e(u,l)})}}else return!1;return o!==t&&t.providers!==void 0}function Zs(t,e){for(let n of t)Wl(n)&&(n=n.\u0275providers),Array.isArray(n)?Zs(n,e):e(n)}var Fp=A({provide:String,useValue:A});function nu(t){return t!==null&&typeof t=="object"&&Fp in t}function Vp(t){return!!(t&&t.useExisting)}function $p(t){return!!(t&&t.useFactory)}function Vt(t){return typeof t=="function"}function Hp(t){return!!t.useClass}var ru=new j(""),Or={},Up={},yi;function Xs(){return yi===void 0&&(yi=new Ur),yi}var Ve=class{},En=class extends Ve{get destroyed(){return this._destroyed}constructor(e,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Bi(e,s=>this.processProvider(s)),this.records.set(Zl,St(void 0,this)),o.has("environment")&&this.records.set(Ve,St(void 0,this));let i=this.records.get(ru);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Xl,re,M.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Re(this),r=te(void 0),o;try{return e()}finally{Re(n),te(r)}}get(e,n=In,r=M.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(bc))return e[bc](this);r=vo(r);let o,i=Re(this),s=te(void 0);try{if(!(r&M.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=zp(e)&&mo(e);l&&this.injectableDefInScope(l)?c=St(Ui(e),Or):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&M.Self?Xs():this.parent;return n=r&M.Optional&&n===In?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[$r]=a[$r]||[]).unshift(oe(e)),i)throw a;return Np(a,e,"R3InjectorError",this.source)}else throw a}finally{te(s),Re(i)}}resolveInjectorInitializers(){let e=Re(this),n=te(void 0),r;try{let o=this.get(Hr,re,M.Self);for(let i of o)i()}finally{Re(e),te(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(oe(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new C(205,!1)}processProvider(e){e=Y(e);let n=Vt(e)?e:Y(e&&e.provide),r=qp(e);if(!Vt(e)&&e.multi===!0){let o=this.records.get(n);o||(o=St(void 0,Or,!0),o.factory=()=>$i(o.multi),this.records.set(n,o)),n=e,o.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Or&&(n.value=Up,n.value=n.factory()),typeof n.value=="object"&&n.value&&Gp(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Y(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ui(t){let e=mo(t),n=e!==null?e.factory:st(t);if(n!==null)return n;if(t instanceof j)throw new C(204,!1);if(t instanceof Function)return Bp(t);throw new C(204,!1)}function Bp(t){if(t.length>0)throw new C(204,!1);let n=gp(t);return n!==null?()=>n.factory(t):()=>new t}function qp(t){if(nu(t))return St(void 0,t.useValue);{let e=ou(t);return St(e,Or)}}function ou(t,e,n){let r;if(Vt(t)){let o=Y(t);return st(o)||Ui(o)}else if(nu(t))r=()=>Y(t.useValue);else if($p(t))r=()=>t.useFactory(...$i(t.deps||[]));else if(Vp(t))r=()=>Fe(Y(t.useExisting));else{let o=Y(t&&(t.useClass||t.provide));if(Wp(t))r=()=>new o(...$i(t.deps));else return st(o)||Ui(o)}return r}function St(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Wp(t){return!!t.deps}function Gp(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function zp(t){return typeof t=="function"||typeof t=="object"&&t instanceof j}function Bi(t,e){for(let n of t)Array.isArray(n)?Bi(n,e):n&&Wl(n)?Bi(n.\u0275providers,e):e(n)}function UD(t,e){t instanceof En&&t.assertNotDestroyed();let n,r=Re(t),o=te(void 0);try{return e()}finally{Re(r),te(o)}}function Qp(t){if(!Gl()&&!Tp())throw new C(-203,!1)}function Jp(t){return typeof t=="function"}var qi=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function iu(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Yp(){return su}function su(t){return t.type.prototype.ngOnChanges&&(t.setInput=Zp),Kp}Yp.ngInherit=!0;function Kp(){let t=cu(this),e=t?.current;if(e){let n=t.previous;if(n===kt)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Zp(t,e,n,r,o){let i=this.declaredInputs[r],s=cu(t)||Xp(t,{previous:kt,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[i];a[i]=new qi(l&&l.currentValue,n,c===kt),iu(t,e,o,n)}var au="__ngSimpleChanges__";function cu(t){return t[au]||null}function Xp(t,e){return t[au]=e}var Oc=null;var _e=function(t,e,n){Oc?.(t,e,n)};function em(t,e,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){let s=su(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}o&&(n.preOrderHooks??=[]).push(0-t,o),i&&((n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i))}function yo(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let i=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=i;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Ar(t,e,n){lu(t,e,3,n)}function kr(t,e,n,r){(t[y]&3)===n&&lu(t,e,n,r)}function wi(t,e){let n=t[y];(n&3)===e&&(n&=16383,n+=1,t[y]=n)}function lu(t,e,n,r){let o=r!==void 0?t[Mt]&65535:0,i=r??-1,s=e.length-1,a=0;for(let c=o;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Mt]+=65536),(a<i||i==-1)&&(tm(t,n,e,c),t[Mt]=(t[Mt]&4294901760)+c+2),c++}function Ac(t,e){_e(4,t,e);let n=B(null);try{e.call(t)}finally{B(n),_e(5,t,e)}}function tm(t,e,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=t[s];o?t[y]>>14<t[Mt]>>16&&(t[y]&3)===e&&(t[y]+=16384,Ac(a,i)):Ac(a,i)}var At=-1,at=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function nm(t){return t instanceof at}function rm(t){return(t.flags&8)!==0}function om(t){return(t.flags&16)!==0}function uu(t){return t!==At}function Br(t){return t&32767}function im(t){return t>>16}function qr(t,e){let n=im(t),r=e;for(;n>0;)r=r[Ht],n--;return r}var Wi=!0;function Wr(t){let e=Wi;return Wi=t,e}var sm=256,du=sm-1,fu=5,am=0,be={};function cm(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(mn)&&(r=n[mn]),r==null&&(r=n[mn]=am++);let o=r&du,i=1<<o;e.data[t+(o>>fu)]|=i}function Gr(t,e){let n=hu(t,e);if(n!==-1)return n;let r=e[w];r.firstCreatePass&&(t.injectorIndex=e.length,_i(r.data,t),_i(e,null),_i(r.blueprint,null));let o=ea(t,e),i=t.injectorIndex;if(uu(o)){let s=Br(o),a=qr(o,e),c=a[w].data;for(let l=0;l<8;l++)e[i+l]=a[s+l]|c[s+l]}return e[i+8]=o,i}function _i(t,e){t.push(0,0,0,0,0,0,0,0,e)}function hu(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function ea(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,o=e;for(;o!==null;){if(r=yu(o),r===null)return At;if(n++,o=o[Ht],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return At}function Gi(t,e,n){cm(t,e,n)}function lm(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,o=0;for(;o<r;){let i=n[o];if(pl(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof n[o]=="string";)o++;else{if(i===e)return n[o+1];o=o+2}}}return null}function pu(t,e,n){if(n&M.Optional||t!==void 0)return t;Ys(e,"NodeInjector")}function mu(t,e,n,r){if(n&M.Optional&&r===void 0&&(r=null),!(n&(M.Self|M.Host))){let o=t[Lt],i=te(void 0);try{return o?o.get(e,r,n&M.Optional):zl(e,r,n&M.Optional)}finally{te(i)}}return pu(r,e,n)}function gu(t,e,n,r=M.Default,o){if(t!==null){if(e[y]&2048&&!(r&M.Self)){let s=hm(t,e,n,r,be);if(s!==be)return s}let i=vu(t,e,n,r,be);if(i!==be)return i}return mu(e,n,r,o)}function vu(t,e,n,r,o){let i=dm(n);if(typeof i=="function"){if(!Al(e,t,r))return r&M.Host?pu(o,n,r):mu(e,n,r,o);try{let s;if(s=i(r),s==null&&!(r&M.Optional))Ys(n);else return s}finally{Ll()}}else if(typeof i=="number"){let s=null,a=hu(t,e),c=At,l=r&M.Host?e[le][ie]:null;for((a===-1||r&M.SkipSelf)&&(c=a===-1?ea(t,e):e[a+8],c===At||!Pc(r,!1)?a=-1:(s=e[w],a=Br(c),e=qr(c,e)));a!==-1;){let u=e[w];if(kc(i,a,u.data)){let d=um(a,e,n,s,r,l);if(d!==be)return d}c=e[a+8],c!==At&&Pc(r,e[w].data[a+8]===l)&&kc(i,a,e)?(s=u,a=Br(c),e=qr(c,e)):a=-1}}return o}function um(t,e,n,r,o,i){let s=e[w],a=s.data[t+8],c=r==null?co(a)&&Wi:r!=s&&(a.type&3)!==0,l=o&M.Host&&i===a,u=Pr(a,s,n,c,l);return u!==null?ct(e,s,u,a):be}function Pr(t,e,n,r,o){let i=t.providerIndexes,s=e.data,a=i&1048575,c=t.directiveStart,l=t.directiveEnd,u=i>>20,d=r?a:a+u,f=o?a+u:l;for(let h=d;h<f;h++){let m=s[h];if(h<c&&n===m||h>=c&&m.type===n)return h}if(o){let h=s[c];if(h&&je(h)&&h.type===n)return c}return null}function ct(t,e,n,r){let o=t[n],i=e.data;if(nm(o)){let s=o;s.resolving&&Ip(bp(i[n]));let a=Wr(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?te(s.injectImpl):null,u=Al(t,r,M.Default);try{o=t[n]=s.factory(void 0,i,t,r),e.firstCreatePass&&n>=r.directiveStart&&em(n,i[n],e)}finally{l!==null&&te(l),Wr(a),s.resolving=!1,Ll()}}return o}function dm(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(mn)?t[mn]:void 0;return typeof e=="number"?e>=0?e&du:fm:e}function kc(t,e,n){let r=1<<t;return!!(n[e+(t>>fu)]&r)}function Pc(t,e){return!(t&M.Self)&&!(t&M.Host&&e)}var tt=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return gu(this._tNode,this._lView,e,vo(r),n)}};function fm(){return new tt(J(),I())}function BD(t){return Sn(()=>{let e=t.prototype.constructor,n=e[jr]||zi(e),r=Object.prototype,o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){let i=o[jr]||zi(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function zi(t){return ql(t)?()=>{let e=zi(Y(t));return e&&e()}:st(t)}function hm(t,e,n,r,o){let i=t,s=e;for(;i!==null&&s!==null&&s[y]&2048&&!(s[y]&512);){let a=vu(i,s,n,r|M.Self,be);if(a!==be)return a;let c=i.parent;if(!c){let l=s[El];if(l){let u=l.get(n,be,r);if(u!==be)return u}c=yu(s),s=s[Ht]}i=c}return o}function yu(t){let e=t[w],n=e.type;return n===2?e.declTNode:n===1?t[ie]:null}function qD(t){return lm(J(),t)}function Rc(t,e=null,n=null,r){let o=wu(t,e,n,r);return o.resolveInjectorInitializers(),o}function wu(t,e=null,n=null,r,o=new Set){let i=[n||re,jp(t)];return r=r||(typeof t=="object"?void 0:oe(t)),new En(i,e||Xs(),r||null,o)}var ta=(()=>{let e=class e{static create(r,o){if(Array.isArray(r))return Rc({name:""},o,r,"");{let i=r.name??"";return Rc({name:i},r.parent,r.providers,i)}}};e.THROW_IF_NOT_FOUND=In,e.NULL=new Ur,e.\u0275prov=z({token:e,providedIn:"any",factory:()=>Fe(Zl)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),pm="ngOriginalError";function bi(t){return t[pm]}var lt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&bi(e);for(;n&&bi(n);)n=bi(n);return n||null}},_u=new j("",{providedIn:"root",factory:()=>W(lt).handleError.bind(void 0)});var bu=!1,mm=new j("",{providedIn:"root",factory:()=>bu});var Tr;function gm(){if(Tr===void 0&&(Tr=null,we.trustedTypes))try{Tr=we.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Tr}function Lc(t){return gm()?.createScriptURL(t)||t}var zr=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ll})`}};function na(t){return t instanceof zr?t.changingThisBreaksApplicationSecurity:t}function Iu(t,e){let n=vm(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${ll})`)}return n===e}function vm(t){return t instanceof zr&&t.getTypeName()||null}var ym=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function wm(t){return t=String(t),t.match(ym)?t:"unsafe:"+t}var ra=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ra||{});function _m(t){let e=Eu();return e?e.sanitize(ra.URL,t)||"":Iu(t,"URL")?na(t):wm(go(t))}function bm(t){let e=Eu();if(e)return Lc(e.sanitize(ra.RESOURCE_URL,t)||"");if(Iu(t,"ResourceURL"))return Lc(na(t));throw new C(904,!1)}function Im(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?bm:_m}function WD(t,e,n){return Im(e,n)(t)}function Eu(){let t=I();return t&&t[Te].sanitizer}var Em=/^>|^->|<!--|-->|--!>|<!-$/g,xm=/(<|>)/g,Dm="\u200B$1\u200B";function Cm(t){return t.replace(Em,e=>e.replace(xm,Dm))}var xu=new Map,Tm=0;function Mm(){return Tm++}function Sm(t){xu.set(t[ao],t)}function Nm(t){xu.delete(t[ao])}var jc="__ngContext__";function $e(t,e){et(e)?(t[jc]=e[ao],Sm(e)):t[jc]=e}function Du(t){return t instanceof Function?t():t}var Qi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Qi||{}),Om;function oa(t,e){return Om(t,e)}function Nt(t,e,n,r,o){if(r!=null){let i,s=!1;Ne(r)?i=r:et(r)&&(s=!0,r=r[Se]);let a=Ee(r);t===0&&n!==null?o==null?Nu(e,n,a):Qr(e,n,a,o||null,!0):t===1&&n!==null?Qr(e,n,a,o||null,!0):t===2?zm(e,a,s):t===3&&e.destroyNode(a),i!=null&&Jm(e,t,i,n,o)}}function Am(t,e){return t.createText(e)}function km(t,e,n){t.setValue(e,n)}function Pm(t,e){return t.createComment(Cm(e))}function Cu(t,e,n){return t.createElement(e,n)}function Rm(t,e){Tu(t,e),e[Se]=null,e[ie]=null}function Lm(t,e,n,r,o,i){r[Se]=o,r[ie]=e,bo(t,r,n,1,o,i)}function Tu(t,e){bo(t,e,e[R],2,null,null)}function jm(t){let e=t[wn];if(!e)return Ii(t[w],t);for(;e;){let n=null;if(et(e))n=e[wn];else{let r=e[Q];r&&(n=r)}if(!n){for(;e&&!e[me]&&e!==t;)et(e)&&Ii(e[w],e),e=e[G];e===null&&(e=t),et(e)&&Ii(e[w],e),n=e&&e[me]}e=n}}function Fm(t,e,n,r){let o=Q+r,i=n.length;r>0&&(n[o-1][me]=e),r<i-Q?(e[me]=n[o],Vl(n,Q+r,e)):(n.push(e),e[me]=null),e[G]=n;let s=e[Nn];s!==null&&n!==s&&Vm(s,e);let a=e[Me];a!==null&&a.insertView(t),Pi(e),e[y]|=128}function Vm(t,e){let n=t[jt],o=e[G][G][le];e[le]!==o&&(t[y]|=js.HasTransplantedViews),n===null?t[jt]=[e]:n.push(e)}function Mu(t,e){let n=t[jt],r=n.indexOf(e);n.splice(r,1)}function xn(t,e){if(t.length<=Q)return;let n=Q+e,r=t[n];if(r){let o=r[Nn];o!==null&&o!==t&&Mu(o,r),e>0&&(t[n-1][me]=r[me]);let i=Vr(t,Q+e);Rm(r[w],r);let s=i[Me];s!==null&&s.detachView(i[w]),r[G]=null,r[me]=null,r[y]&=-129}return r}function wo(t,e){if(!(e[y]&256)){let n=e[R];n.destroyNode&&bo(t,e,n,3,null,null),jm(e)}}function Ii(t,e){if(!(e[y]&256)){e[y]&=-129,e[y]|=256,e[rt]&&ti(e[rt]),Hm(t,e),$m(t,e),e[w].type===1&&e[R].destroy();let n=e[Nn];if(n!==null&&Ne(e[G])){n!==e[G]&&Mu(n,e);let r=e[Me];r!==null&&r.detachView(t)}Nm(e)}}function $m(t,e){let n=t.cleanup,r=e[yn];if(n!==null)for(let i=0;i<n.length-1;i+=2)if(typeof n[i]=="string"){let s=n[i+3];s>=0?r[s]():r[-s].unsubscribe(),i+=2}else{let s=r[n[i+1]];n[i].call(s)}r!==null&&(e[yn]=null);let o=e[Le];if(o!==null){e[Le]=null;for(let i=0;i<o.length;i++){let s=o[i];s()}}}function Hm(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=e[n[r]];if(!(o instanceof at)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];_e(4,a,c);try{c.call(a)}finally{_e(5,a,c)}}else{_e(4,o,i);try{i.call(o)}finally{_e(5,o,i)}}}}}function Su(t,e,n){return Um(t,e.parent,n)}function Um(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Se];{let{componentOffset:o}=r;if(o>-1){let{encapsulation:i}=t.data[r.directiveStart+o];if(i===gn.None||i===gn.Emulated)return null}return ue(r,n)}}function Qr(t,e,n,r,o){t.insertBefore(e,n,r,o)}function Nu(t,e,n){t.appendChild(e,n)}function Fc(t,e,n,r,o){r!==null?Qr(t,e,n,r,o):Nu(t,e,n)}function Bm(t,e,n,r){t.removeChild(e,n,r)}function ia(t,e){return t.parentNode(e)}function qm(t,e){return t.nextSibling(e)}function Ou(t,e,n){return Gm(t,e,n)}function Wm(t,e,n){return t.type&40?ue(t,n):null}var Gm=Wm,Vc;function _o(t,e,n,r){let o=Su(t,r,e),i=e[R],s=r.parent||e[ie],a=Ou(s,r,e);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Fc(i,o,n[c],a,!1);else Fc(i,o,n,a,!1);Vc!==void 0&&Vc(i,r,e,n,o)}function Rr(t,e){if(e!==null){let n=e.type;if(n&3)return ue(e,t);if(n&4)return Ji(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Rr(t,r);{let o=t[e.index];return Ne(o)?Ji(-1,o):Ee(o)}}else{if(n&32)return oa(e,t)()||Ee(t[e.index]);{let r=Au(t,e);if(r!==null){if(Array.isArray(r))return r[0];let o=bn(t[le]);return Rr(o,r)}else return Rr(t,e.next)}}}return null}function Au(t,e){if(e!==null){let r=t[le][ie],o=e.projection;return r.projection[o]}return null}function Ji(t,e){let n=Q+t+1;if(n<e.length){let r=e[n],o=r[w].firstChild;if(o!==null)return Rr(r,o)}return e[ot]}function zm(t,e,n){let r=ia(t,e);r&&Bm(t,r,e,n)}function sa(t,e,n,r,o,i,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&$e(Ee(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)sa(t,e,n.child,r,o,i,!1),Nt(e,t,o,a,i);else if(c&32){let l=oa(n,r),u;for(;u=l();)Nt(e,t,o,u,i);Nt(e,t,o,a,i)}else c&16?ku(t,e,r,n,o,i):Nt(e,t,o,a,i);n=s?n.projectionNext:n.next}}function bo(t,e,n,r,o,i){sa(n,r,t.firstChild,e,o,i,!1)}function Qm(t,e,n){let r=e[R],o=Su(t,n,e),i=n.parent||e[ie],s=Ou(i,n,e);ku(r,0,e,n,o,s)}function ku(t,e,n,r,o,i){let s=n[le],c=s[ie].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Nt(e,t,o,u,i)}else{let l=c,u=s[G];$l(r)&&(l.flags|=128),sa(t,e,l,u,o,i,!0)}}function Jm(t,e,n,r,o){let i=n[ot],s=Ee(n);i!==s&&Nt(e,t,r,i,o);for(let a=Q;a<n.length;a++){let c=n[a];bo(c[w],c,t,e,r,i)}}function Ym(t,e,n,r,o){if(e)o?t.addClass(n,r):t.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:Qi.DashCase;o==null?t.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Qi.Important),t.setStyle(n,r,o,i))}}function Km(t,e,n){t.setAttribute(e,"style",n)}function Pu(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Ru(t,e,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&ki(t,e,r),o!==null&&Pu(t,e,o),i!==null&&Km(t,e,i)}var Ue={};function GD(t=1){Lu(F(),I(),pt()+t,!1)}function Lu(t,e,n,r){if(!r)if((e[y]&3)===3){let i=t.preOrderCheckHooks;i!==null&&Ar(e,i,n)}else{let i=t.preOrderHooks;i!==null&&kr(e,i,0,n)}it(n)}function Io(t,e=M.Default){let n=I();if(n===null)return Fe(t,e);let r=J();return gu(r,n,Y(t),e)}function ju(t,e,n,r,o,i){let s=B(null);try{let a=null;o&Pt.SignalBased&&(a=e[r][X]),a!==null&&a.transformFn!==void 0&&(i=a.transformFn(i)),o&Pt.HasDecoratorInputTransform&&(i=t.inputTransforms[r].call(e,i)),t.setInput!==null?t.setInput(e,a,i,n,r):iu(e,a,r,i)}finally{B(s)}}function Zm(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)it(~o);else{let i=o,s=n[++r],a=n[++r];ep(s,i);let c=e[i];a(2,c)}}}finally{it(-1)}}function Eo(t,e,n,r,o,i,s,a,c,l,u){let d=e.blueprint.slice();return d[Se]=o,d[y]=r|4|128|8|64,(l!==null||t&&t[y]&2048)&&(d[y]|=2048),Tl(d),d[G]=d[Ht]=t,d[K]=n,d[Te]=s||t&&t[Te],d[R]=a||t&&t[R],d[Lt]=c||t&&t[Lt]||null,d[ie]=i,d[ao]=Mm(),d[Rt]=u,d[El]=l,d[le]=e.type==2?t[le]:d,d}function qt(t,e,n,r,o){let i=t.data[e];if(i===null)i=Xm(t,e,n,r,o),Xh()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=Yh();i.injectorIndex=s===null?-1:s.injectorIndex}return ht(i,!0),i}function Xm(t,e,n,r,o){let i=Ol(),s=Us(),a=s?i:i&&i.parent,c=t.data[e]=ig(t,a,n,e,r,o);return t.firstChild===null&&(t.firstChild=c),i!==null&&(s?i.child==null&&c.parent!==null&&(i.child=c):i.next===null&&(i.next=c,c.prev=i)),c}function Fu(t,e,n,r){if(n===0)return-1;let o=e.length;for(let i=0;i<n;i++)e.push(r),t.blueprint.push(r),t.data.push(null);return o}function Vu(t,e,n,r,o){let i=pt(),s=r&2;try{it(-1),s&&e.length>Z&&Lu(t,e,Z,!1),_e(s?2:0,o),n(r,o)}finally{it(i),_e(s?3:1,o)}}function aa(t,e,n){if(Fs(e)){let r=B(null);try{let o=e.directiveStart,i=e.directiveEnd;for(let s=o;s<i;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{B(r)}}}function ca(t,e,n){Sl()&&(dg(t,e,n,ue(n,e)),(n.flags&64)===64&&Bu(t,e,n))}function la(t,e,n=ue){let r=e.localNames;if(r!==null){let o=e.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(e,t):t[s];t[o++]=a}}}function $u(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=ua(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function ua(t,e,n,r,o,i,s,a,c,l,u){let d=Z+r,f=d+o,h=eg(d,f),m=typeof l=="function"?l():l;return h[w]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:u}}function eg(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ue);return n}function tg(t,e,n,r){let i=r.get(mm,bu)||n===gn.ShadowDom,s=t.selectRootElement(e,i);return ng(s),s}function ng(t){rg(t)}var rg=()=>null;function og(t,e,n,r){let o=Gu(e);o.push(n),t.firstCreatePass&&zu(t).push(r,o.length-1)}function ig(t,e,n,r,o,i){let s=e?e.injectorIndex:-1,a=0;return Nl()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function $c(t,e,n,r,o){for(let i in e){if(!e.hasOwnProperty(i))continue;let s=e[i];if(s===void 0)continue;r??={};let a,c=Pt.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=i;if(o!==null){if(!o.hasOwnProperty(i))continue;l=o[i]}t===0?Hc(r,n,l,a,c):Hc(r,n,l,a)}return r}function Hc(t,e,n,r,o){let i;t.hasOwnProperty(n)?(i=t[n]).push(e,r):i=t[n]=[e,r],o!==void 0&&i.push(o)}function sg(t,e,n){let r=e.directiveStart,o=e.directiveEnd,i=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<o;u++){let d=i[u],f=n?n.get(d):null,h=f?f.inputs:null,m=f?f.outputs:null;c=$c(0,d.inputs,u,c,h),l=$c(1,d.outputs,u,l,m);let g=c!==null&&s!==null&&!gl(e)?Ig(c,u,s):null;a.push(g)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function ag(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Hu(t,e,n,r,o,i,s,a){let c=ue(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(fa(t,n,u,r,o),co(e)&&cg(n,e.index)):e.type&3?(r=ag(r),o=s!=null?s(o,e.value||"",r):o,i.setProperty(c,r,o)):e.type&12}function cg(t,e){let n=He(e,t);n[y]&16||(n[y]|=64)}function da(t,e,n,r){if(Sl()){let o=r===null?null:{"":-1},i=hg(t,n),s,a;i===null?s=a=null:[s,a]=i,s!==null&&Uu(t,e,n,s,o,a),o&&pg(n,r,o)}n.mergedAttrs=vn(n.mergedAttrs,n.attrs)}function Uu(t,e,n,r,o,i){for(let l=0;l<r.length;l++)Gi(Gr(n,e),t,r[l].type);gg(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=Fu(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=vn(n.mergedAttrs,u.hostAttrs),vg(t,n,e,c,u),mg(c,u,o),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}sg(t,n,i)}function lg(t,e,n,r,o){let i=o.hostBindings;if(i){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;ug(s)!=a&&s.push(a),s.push(n,r,i)}}function ug(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function dg(t,e,n,r){let o=n.directiveStart,i=n.directiveEnd;co(n)&&yg(e,n,t.data[o+n.componentOffset]),t.firstCreatePass||Gr(n,e),$e(r,e);let s=n.initialInputs;for(let a=o;a<i;a++){let c=t.data[a],l=ct(e,t,a,n);if($e(l,e),s!==null&&bg(e,a-o,l,c,n,s),je(c)){let u=He(n.index,e);u[K]=ct(e,t,a,n)}}}function Bu(t,e,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=tp();try{it(i);for(let a=r;a<o;a++){let c=t.data[a],l=e[a];Ri(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&fg(c,l)}}finally{it(-1),Ri(s)}}function fg(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function hg(t,e){let n=t.directiveRegistry,r=null,o=null;if(n)for(let i=0;i<n.length;i++){let s=n[i];if(vl(e,s.selectors,!1))if(r||(r=[]),je(s))if(s.findHostDirectiveDefs!==null){let a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),r.unshift(...a,s);let c=a.length;Yi(t,e,c)}else r.unshift(s),Yi(t,e,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return r===null?null:[r,o]}function Yi(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function pg(t,e,n){if(e){let r=t.localNames=[];for(let o=0;o<e.length;o+=2){let i=n[e[o+1]];if(i==null)throw new C(-301,!1);r.push(e[o],i)}}}function mg(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;je(e)&&(n[""]=t)}}function gg(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function vg(t,e,n,r,o){t.data[r]=o;let i=o.factory||(o.factory=st(o.type,!0)),s=new at(i,je(o),Io);t.blueprint[r]=s,n[r]=s,lg(t,e,r,Fu(t,n,o.hostVars,Ue),o)}function yg(t,e,n){let r=ue(e,t),o=$u(n),i=t[Te].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=xo(t,Eo(t,o,null,s,r,e,null,i.createRenderer(r,n),null,null,null));t[e.index]=a}function wg(t,e,n,r,o,i){let s=ue(t,e);_g(e[R],s,i,t.value,n,r,o)}function _g(t,e,n,r,o,i,s){if(i==null)t.removeAttribute(e,o,n);else{let a=s==null?go(i):s(i,r||"",o);t.setAttribute(e,o,a,n)}}function bg(t,e,n,r,o,i){let s=i[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];ju(r,n,c,l,u,d)}}function Ig(t,e,n){let r=null,o=0;for(;o<n.length;){let i=n[o];if(i===0){o+=4;continue}else if(i===5){o+=2;continue}if(typeof i=="number")break;if(t.hasOwnProperty(i)){r===null&&(r=[]);let s=t[i];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(i,s[a+1],s[a+2],n[o+1]);break}}o+=2}return r}function qu(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Wu(t,e){let n=t.contentQueries;if(n!==null){let r=B(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=t.data[s];uo(i),a.contentQueries(2,e[s],s)}}}finally{B(r)}}}function xo(t,e){return t[wn]?t[Cc][me]=e:t[wn]=e,t[Cc]=e,e}function Ki(t,e,n){uo(0);let r=B(null);try{e(t,n)}finally{B(r)}}function Gu(t){return t[yn]||(t[yn]=[])}function zu(t){return t.cleanup||(t.cleanup=[])}function Qu(t,e){let n=t[Lt],r=n?n.get(lt,null):null;r&&r.handleError(e)}function fa(t,e,n,r,o){for(let i=0;i<n.length;){let s=n[i++],a=n[i++],c=n[i++],l=e[s],u=t.data[s];ju(u,l,r,a,c,o)}}function Eg(t,e,n){let r=Cl(e,t);km(t[R],r,n)}function xg(t,e){let n=He(e,t),r=n[w];Dg(r,n);let o=n[Se];o!==null&&n[Rt]===null&&(n[Rt]=Ks(o,n[Lt])),ha(r,n,n[K])}function Dg(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function ha(t,e,n){Gs(e);try{let r=t.viewQuery;r!==null&&Ki(1,r,n);let o=t.template;o!==null&&Vu(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Me]?.finishViewCreation(t),t.staticContentQueries&&Wu(t,e),t.staticViewQueries&&Ki(2,t.viewQuery,n);let i=t.components;i!==null&&Cg(e,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[y]&=-5,zs()}}function Cg(t,e){for(let n=0;n<e.length;n++)xg(t,e[n])}function Do(t,e,n,r){let o=e.tView,s=t[y]&4096?4096:16,a=Eo(t,o,n,s,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];a[Nn]=c;let l=t[Me];return l!==null&&(a[Me]=l.createEmbeddedView(o)),ha(o,a,n),a}function Ju(t,e){let n=Q+e;if(n<t.length)return t[n]}function Dn(t,e){return!e||e.firstChild===null||$l(t)}function Co(t,e,n,r=!0){let o=e[w];if(Fm(o,e,t,n),r){let s=Ji(n,t),a=e[R],c=ia(a,t[ot]);c!==null&&Lm(o,t[ie],a,e,c,s)}let i=e[Rt];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function Yu(t,e){let n=xn(t,e);return n!==void 0&&wo(n[w],n),n}function Jr(t,e,n,r,o=!1){for(;n!==null;){let i=e[n.index];i!==null&&r.push(Ee(i)),Ne(i)&&Tg(i,r);let s=n.type;if(s&8)Jr(t,e,n.child,r);else if(s&32){let a=oa(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=Au(e,n);if(Array.isArray(a))r.push(...a);else{let c=bn(e[le]);Jr(c[w],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function Tg(t,e){for(let n=Q;n<t.length;n++){let r=t[n],o=r[w].firstChild;o!==null&&Jr(r[w],r,o,e)}t[ot]!==t[Se]&&e.push(t[ot])}var Ku=[];function Mg(t){return t[rt]??Sg(t)}function Sg(t){let e=Ku.pop()??Object.create(Og);return e.lView=t,e}function Ng(t){t.lView[rt]!==t&&(t.lView=null,Ku.push(t))}var Og=ce(ae({},sn),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{_n(t.lView)},consumerOnSignalRead(){this.lView[rt]=this}});function Zu(t){return ed(t[wn])}function Xu(t){return ed(t[me])}function ed(t){for(;t!==null&&!Ne(t);)t=t[me];return t}var td=100;function nd(t,e=!0,n=0){let r=t[Te],o=r.rendererFactory,i=!1;i||o.begin?.();try{Ag(t,n)}catch(s){throw e&&Qu(t,s),s}finally{i||(o.end?.(),r.inlineEffectRunner?.flush())}}function Ag(t,e){Zi(t,e);let n=0;for(;Hs(t);){if(n===td)throw new C(103,!1);n++,Zi(t,1)}}function kg(t,e,n,r){let o=e[y];if((o&256)===256)return;let i=!1;!i&&e[Te].inlineEffectRunner?.flush(),Gs(e);let s=null,a=null;!i&&Pg(t)&&(a=Mg(e),s=Xn(a));try{Tl(e),Kh(t.bindingStartIndex),n!==null&&Vu(t,e,n,2,r);let c=(o&3)===3;if(!i)if(c){let d=t.preOrderCheckHooks;d!==null&&Ar(e,d,null)}else{let d=t.preOrderHooks;d!==null&&kr(e,d,0,null),wi(e,0)}if(Rg(e),rd(e,0),t.contentQueries!==null&&Wu(t,e),!i)if(c){let d=t.contentCheckHooks;d!==null&&Ar(e,d)}else{let d=t.contentHooks;d!==null&&kr(e,d,1),wi(e,1)}Zm(t,e);let l=t.components;l!==null&&id(e,l,0);let u=t.viewQuery;if(u!==null&&Ki(2,u,r),!i)if(c){let d=t.viewCheckHooks;d!==null&&Ar(e,d)}else{let d=t.viewHooks;d!==null&&kr(e,d,2),wi(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Nr]){for(let d of e[Nr])d();e[Nr]=null}i||(e[y]&=-73)}catch(c){throw _n(e),c}finally{a!==null&&(er(a,s),Ng(a)),zs()}}function Pg(t){return t.type!==2}function rd(t,e){for(let n=Zu(t);n!==null;n=Xu(n))for(let r=Q;r<n.length;r++){let o=n[r];od(o,e)}}function Rg(t){for(let e=Zu(t);e!==null;e=Xu(e)){if(!(e[y]&js.HasTransplantedViews))continue;let n=e[jt];for(let r=0;r<n.length;r++){let o=n[r],i=o[G];Uh(o)}}}function Lg(t,e,n){let r=He(e,t);od(r,n)}function od(t,e){$s(t)&&Zi(t,e)}function Zi(t,e){let r=t[w],o=t[y],i=t[rt],s=!!(e===0&&o&16);if(s||=!!(o&64&&e===0),s||=!!(o&1024),s||=!!(i?.dirty&&tr(i)),i&&(i.dirty=!1),t[y]&=-9217,s)kg(r,t,r.template,t[K]);else if(o&8192){rd(t,1);let a=r.components;a!==null&&id(t,a,1)}}function id(t,e,n){for(let r=0;r<e.length;r++)Lg(t,e[r],n)}function pa(t){for(t[Te].changeDetectionScheduler?.notify();t;){t[y]|=64;let e=bn(t);if(Rh(t)&&!e)return t;t=e}return null}var ut=class{get rootNodes(){let e=this._lView,n=e[w];return Jr(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[K]}set context(e){this._lView[K]=e}get destroyed(){return(this._lView[y]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[G];if(Ne(e)){let n=e[Fr],r=n?n.indexOf(this):-1;r>-1&&(xn(e,r),Vr(n,r))}this._attachedToViewContainer=!1}wo(this._lView[w],this._lView)}onDestroy(e){Ml(this._lView,e)}markForCheck(){pa(this._cdRefInjectingView||this._lView)}detach(){this._lView[y]&=-129}reattach(){Pi(this._lView),this._lView[y]|=128}detectChanges(){this._lView[y]|=1024,nd(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Tu(this._lView[w],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=e,Pi(this._lView)}},Yr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Vg;let t=e;return t})(),jg=Yr,Fg=class extends jg{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let o=Do(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new ut(o)}};function Vg(){return To(J(),I())}function To(t,e){return t.type&4?new Fg(e,t,Bt(t,e)):null}var QD=new RegExp(`^(\\d+)*(${kp}|${Ap})*(.*)`);var $g=()=>null;function Cn(t,e){return $g(t,e)}var Xi=class{},es=class{},Kr=class{};function Hg(t){let e=Error(`No component factory found for ${oe(t)}.`);return e[Ug]=t,e}var Ug="ngComponent";var ts=class{resolveComponentFactory(e){throw Hg(e)}},Mo=(()=>{let e=class e{};e.NULL=new ts;let t=e;return t})(),ns=class{},JD=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Bg();let t=e;return t})();function Bg(){let t=I(),e=J(),n=He(e.index,t);return(et(n)?n:t)[R]}var qg=(()=>{let e=class e{};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Ei={};function Wg(t){return typeof t=="function"&&t[X]!==void 0}function YD(t,e){let n=ni(t);return e?.equal&&(n[X].equal=e.equal),n}function ma(t,e){let n=Ba(t),r=n[X];return e?.equal&&(r.equal=e.equal),n.set=o=>cn(r,o),n.update=o=>qa(r,o),n.asReadonly=Gg.bind(n),n}function Gg(){let t=this[X];if(t.readonlyFn===void 0){let e=()=>this();e[X]=t,t.readonlyFn=e}return t.readonlyFn}function sd(t){return Wg(t)&&typeof t.set=="function"}function ad(t){return ga(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function zg(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function ga(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var rs=class{constructor(){}supports(e){return ad(e)}create(e){return new os(e)}},Qg=(t,e)=>e,os=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Qg}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){let s=!r||n&&n.currentIndex<Uc(r,o,i)?n:r,a=Uc(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)o++;else{i||(i=[]);let l=a-o,u=c-o;if(l!=u){for(let f=0;f<l;f++){let h=f<i.length?i[f]:i[f]=0,m=h+f;u<=m&&m<l&&(i[f]=h+1)}let d=s.previousIndex;i[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!ad(e))throw new C(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,o,i,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],s=this._trackByFn(a,i),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,i,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)),n=n._next}else o=0,zg(e,a=>{s=this._trackByFn(o,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,o),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,o){let i;return e===null?i=this._itTail:(i=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,i,o)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,o),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,i,o)):e=this._addAfter(new is(n,r),i,o)),e}_verifyReinsertion(e,n,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let o=e._prevRemoved,i=e._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let o=n===null?this._itHead:n._next;return e._next=o,e._prev=n,o===null?this._itTail=e:o._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Zr),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Zr),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},is=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},ss=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Zr=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new ss,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,o=this.map.get(r);return o?o.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Uc(t,e,n){let r=t.previousIndex;if(r===null)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+e+o}var as=class{constructor(){}supports(e){return e instanceof Map||ga(e)}create(){return new cs}},cs=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||ga(e)))throw new C(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,o)=>{if(n&&n.key===o)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let i=this._getOrCreateRecordForKey(o,r);n=this._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let o=this._records.get(e);this._maybeAddToChanges(o,n);let i=o._prev,s=o._next;return i&&(i._next=s),s&&(s._prev=i),o._next=null,o._prev=null,o}let r=new ls(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},ls=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function Bc(){return new Jg([new rs])}var Jg=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,o){if(o!=null){let i=o.factories.slice();r=r.concat(i)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||Bc()),deps:[[e,new Kl,new Yl]]}}find(r){let o=this.factories.find(i=>i.supports(r));if(o!=null)return o;throw new C(901,!1)}};e.\u0275prov=z({token:e,providedIn:"root",factory:Bc});let t=e;return t})();function qc(){return new Yg([new as])}var Yg=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,o){if(o){let i=o.factories.slice();r=r.concat(i)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||qc()),deps:[[e,new Kl,new Yl]]}}find(r){let o=this.factories.find(i=>i.supports(r));if(o)return o;throw new C(901,!1)}};e.\u0275prov=z({token:e,providedIn:"root",factory:qc});let t=e;return t})();var Kg=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Zg;let t=e;return t})();function Zg(t){return Xg(J(),I(),(t&16)===16)}function Xg(t,e,n){if(co(t)&&!n){let r=He(t.index,e);return new ut(r,r)}else if(t.type&47){let r=e[le];return new ut(r,e)}return null}var cd=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=ev,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),us=class extends cd{constructor(e){super(),this._lView=e}onDestroy(e){return Ml(this._lView,e),()=>qh(this._lView,e)}};function ev(){return new us(I())}var tv=new j("",{providedIn:"root",factory:()=>W(nv)}),nv=(()=>{let e=class e{};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>new ds});let t=e;return t})(),ds=class{constructor(){this.hasQueuedFlush=!1,this.queuedEffectCount=0,this.queues=new Map}scheduleEffect(e){this.enqueue(e),this.hasQueuedFlush||(queueMicrotask(()=>this.flush()),this.hasQueuedFlush=!1)}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},fs=class{constructor(e,n,r,o,i,s){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=i,this.watcher=Wa(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(lt,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function rv(t,e){!e?.injector&&Qp(rv);let n=e?.injector??W(ta),r=e?.manualCleanup!==!0?n.get(cd):null,o=new fs(n.get(tv),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),i=n.get(Kg,null,{optional:!0});return!i||!(i._lView[y]&8)?o.watcher.notify():(i._lView[Nr]??=[]).push(o.watcher.notify),o}var Wc=new Set;function va(t){Wc.has(t)||(Wc.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Gc(...t){}function ov(){let t=typeof we.requestAnimationFrame=="function",e=we[t?"requestAnimationFrame":"setTimeout"],n=we[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Ie=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pn(!1),this.onMicrotaskEmpty=new pn(!1),this.onStable=new pn(!1),this.onError=new pn(!1),typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=ov().nativeRequestAnimationFrame,av(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new C(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,iv,Gc,Gc);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},iv={};function ya(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function sv(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(we,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,hs(t),t.isCheckStableRunning=!0,ya(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),hs(t))}function av(t){let e=()=>{sv(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,i,s,a)=>{if(cv(a))return n.invokeTask(o,i,s,a);try{return zc(t),n.invokeTask(o,i,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&i.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Qc(t)}},onInvoke:(n,r,o,i,s,a,c)=>{try{return zc(t),n.invoke(o,i,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Qc(t)}},onHasTask:(n,r,o,i)=>{n.hasTask(o,i),r===o&&(i.change=="microTask"?(t._hasPendingMicrotasks=i.microTask,hs(t),ya(t)):i.change=="macroTask"&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(n,r,o,i)=>(n.handleError(o,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}function hs(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function zc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Qc(t){t._nesting--,ya(t)}function cv(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var ld=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let o of r)o();this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Xr(t,e,n){let r=n?t.styles:null,o=n?t.classes:null,i=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")i=a;else if(i==1)o=_c(o,a);else if(i==2){let c=a,l=e[++s];r=_c(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=o:t.classesWithoutHost=o}var eo=class extends Mo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=nt(e);return new Tn(n,this.ngModule)}};function Jc(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function lv(t){let e=t.toLowerCase();return e==="svg"?Dl:e==="math"?Lh:null}var ps=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=vo(r);let o=this.injector.get(e,Ei,r);return o!==Ei||n===Ei?o:this.parentInjector.get(e,n,r)}},Tn=class extends Kr{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Jc(e.inputs);if(n!==null)for(let o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return Jc(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Sh(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,o){o=o||this.ngModule;let i=o instanceof Ve?o:o?.injector;i&&this.componentDef.getStandaloneInjector!==null&&(i=this.componentDef.getStandaloneInjector(i)||i);let s=i?new ps(e,i):e,a=s.get(ns,null);if(a===null)throw new C(407,!1);let c=s.get(qg,null),l=s.get(ld,null),u=s.get(Xi,null),d={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:u},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",m=r?tg(f,r,this.componentDef.encapsulation,s):Cu(f,h,lv(h)),g=512;this.componentDef.signals?g|=4096:this.componentDef.onPush||(g|=16);let v=null;m!==null&&(v=Ks(m,s,!0));let _=ua(0,null,null,1,0,null,null,null,null,null,null),P=Eo(null,_,null,g,null,null,d,f,s,null,v);Gs(P);let V,O;try{let $=this.componentDef,ye,nn=null;$.findHostDirectiveDefs?(ye=[],nn=new Map,$.findHostDirectiveDefs($,ye,nn),ye.push($)):ye=[$];let _f=uv(P,m),bf=dv(_f,m,$,ye,P,d,f);O=Vs(_,Z),m&&pv(f,$,m,r),n!==void 0&&mv(O,this.ngContentSelectors,n),V=hv(bf,$,ye,nn,P,[gv]),ha(_,P,null)}finally{zs()}return new ms(this.componentType,V,Bt(O,P),P,O)}},ms=class extends es{constructor(e,n,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ut(o,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,o;if(r!==null&&(o=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView;fa(i[w],i,o,e,n),this.previousInputValues.set(e,n);let s=He(this._tNode.index,i);pa(s)}}get injector(){return new tt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function uv(t,e){let n=t[w],r=Z;return t[r]=e,qt(n,r,2,"#host",null)}function dv(t,e,n,r,o,i,s){let a=o[w];fv(r,t,e,s);let c=null;e!==null&&(c=Ks(e,o[Lt]));let l=i.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Eo(o,$u(n),null,u,o[t.index],t,i,l,null,null,c);return a.firstCreatePass&&Yi(a,t,r.length-1),xo(o,d),o[t.index]=d}function fv(t,e,n,r){for(let o of t)e.mergedAttrs=vn(e.mergedAttrs,o.hostAttrs);e.mergedAttrs!==null&&(Xr(e,e.mergedAttrs,!0),n!==null&&Ru(r,n,e))}function hv(t,e,n,r,o,i){let s=J(),a=o[w],c=ue(s,o);Uu(a,o,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,f=ct(o,a,d,s);$e(f,o)}Bu(a,o,s),c&&$e(c,o);let l=ct(o,a,s.directiveStart+s.componentOffset,s);if(t[K]=o[K]=l,i!==null)for(let u of i)u(l,e);return aa(a,s,o),l}function pv(t,e,n,r){if(r)ki(t,n,["ng-version","17.2.2"]);else{let{attrs:o,classes:i}=Nh(e.selectors[0]);o&&ki(t,n,o),i&&i.length>0&&Pu(t,n,i.join(" "))}}function mv(t,e,n){let r=t.projection=[];for(let o=0;o<e.length;o++){let i=n[o];r.push(i!=null?Array.from(i):null)}}function gv(){let t=J();yo(I()[w],t)}var wa=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=vv;let t=e;return t})();function vv(){let t=J();return dd(t,I())}var yv=wa,ud=class extends yv{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Bt(this._hostTNode,this._hostLView)}get injector(){return new tt(this._hostTNode,this._hostLView)}get parentInjector(){let e=ea(this._hostTNode,this._hostLView);if(uu(e)){let n=qr(e,this._hostLView),r=Br(e),o=n[w].data[r+8];return new tt(o,n)}else return new tt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Yc(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Q}createEmbeddedView(e,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=Cn(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,Dn(this._hostTNode,s)),a}createComponent(e,n,r,o,i){let s=e&&!Jp(e),a;if(s)a=n;else{let m=n||{};a=m.index,r=m.injector,o=m.projectableNodes,i=m.environmentInjector||m.ngModuleRef}let c=s?e:new Tn(nt(e)),l=r||this.parentInjector;if(!i&&c.ngModule==null){let g=(s?l:this.parentInjector).get(Ve,null);g&&(i=g)}let u=nt(c.componentType??{}),d=Cn(this._lContainer,u?.id??null),f=d?.firstChild??null,h=c.create(l,o,f,i);return this.insertImpl(h.hostView,a,Dn(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let o=e._lView;if(Hh(o)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=o[G],l=new ud(c,c[ie],c[G]);l.detach(l.indexOf(e))}}let i=this._adjustIndex(n),s=this._lContainer;return Co(s,o,i,r),e.attachToViewContainerRef(),Vl(xi(s),i,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Yc(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=xn(this._lContainer,n);r&&(Vr(xi(this._lContainer),n),wo(r[w],r))}detach(e){let n=this._adjustIndex(e,-1),r=xn(this._lContainer,n);return r&&Vr(xi(this._lContainer),n)!=null?new ut(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Yc(t){return t[Fr]}function xi(t){return t[Fr]||(t[Fr]=[])}function dd(t,e){let n,r=e[t.index];return Ne(r)?n=r:(n=qu(r,e,null,t),e[t.index]=n,xo(e,n)),_v(n,e,t,r),new ud(n,t,e)}function wv(t,e){let n=t[R],r=n.createComment(""),o=ue(e,t),i=ia(n,o);return Qr(n,i,r,qm(n,o),!1),r}var _v=Ev,bv=()=>!1;function Iv(t,e,n){return bv(t,e,n)}function Ev(t,e,n,r){if(t[ot])return;let o;n.type&8?o=Ee(r):o=wv(e,n),t[ot]=o}var gs=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},vs=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){let s=n.getByIndex(i),a=this.queries[s.indexInDeclarationView];o.push(a.clone())}return new t(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)ba(e,n).matches!==null&&this.queries[n].setDirty()}},to=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=Sv(e):this.predicate=e}},ys=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let o=n!==null?n.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,n!==null?n.push(i):n=[i])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},ws=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(e,n,xv(n,i)),this.matchTNodeWithReadOption(e,n,Pr(n,e,i,!1,!1))}else r===Yr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Pr(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===po||o===wa||o===Yr&&n.type&4)this.addMatch(n.index,-2);else{let i=Pr(n,e,o,!1,!1);i!==null&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function xv(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function Dv(t,e){return t.type&11?Bt(t,e):t.type&4?To(t,e):null}function Cv(t,e,n,r){return n===-1?Dv(e,t):n===-2?Tv(t,e,r):ct(t,t[w],n,e)}function Tv(t,e,n){if(n===po)return Bt(e,t);if(n===Yr)return To(e,t);if(n===wa)return dd(e,t)}function fd(t,e,n,r){let o=e[Me].queries[r];if(o.matches===null){let i=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=i[l];a.push(Cv(e,u,s[c+1],n.metadata.read))}}o.matches=a}return o.matches}function _s(t,e,n,r){let o=t.queries.getByIndex(n),i=o.matches;if(i!==null){let s=fd(t,e,o,n);for(let a=0;a<i.length;a+=2){let c=i[a];if(c>0)r.push(s[a/2]);else{let l=i[a+1],u=e[-c];for(let d=Q;d<u.length;d++){let f=u[d];f[Nn]===f[G]&&_s(f[w],f,l,r)}if(u[jt]!==null){let d=u[jt];for(let f=0;f<d.length;f++){let h=d[f];_s(h[w],h,l,r)}}}}}return r}function _a(t,e){return t[Me].queries[e].queryList}function hd(t,e,n){let r=new Li((n&4)===4);return og(t,e,r,r.destroy),(e[Me]??=new vs).queries.push(new gs(r))-1}function pd(t,e,n){let r=F();return r.firstCreatePass&&(md(r,new to(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),hd(r,I(),e)}function Mv(t,e,n,r){let o=F();if(o.firstCreatePass){let i=J();md(o,new to(e,n,r),i.index),Nv(o,t),(n&2)===2&&(o.staticContentQueries=!0)}return hd(o,I(),n)}function Sv(t){return t.split(",").map(e=>e.trim())}function md(t,e,n){t.queries===null&&(t.queries=new ys),t.queries.track(new ws(e,n))}function Nv(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function ba(t,e){return t.queries.getByIndex(e)}function gd(t,e){let n=t[w],r=ba(n,e);return r.crossesNgTemplate?_s(n,t,e,[]):fd(n,t,r,e)}function vd(t,e){let n,r=ni(()=>{n._dirtyCounter();let o=Pv(n,t);if(e&&o===void 0)throw new C(-951,!1);return o});return n=r[X],n._dirtyCounter=ma(0),n._flatValue=void 0,r}function Ov(){return vd(!0,!1)}function Av(){return vd(!0,!0)}function kv(t,e){let n=t[X];n._lView=I(),n._queryIndex=e,n._queryList=_a(n._lView,e),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function Pv(t,e){let n=t._lView,r=t._queryIndex;if(n===void 0||r===void 0||n[y]&4)return e?void 0:re;let o=_a(n,r),i=gd(n,r);return o.reset(i,Fl),e?o.first:o._changesDetected||t._flatValue===void 0?t._flatValue=o.toArray():t._flatValue}function Kc(t,e){return Ov()}function Rv(t,e){return Av()}var ZD=(Kc.required=Rv,Kc);function yd(t){let e=[],n=Object.create(ul);n.value=t;function r(){return an(n),Zc(n.value),n.value}function o(i){for(let s=0;s<e.length;s++)e[s](i)}return r[X]=n,r.asReadonly=()=>r(),r.set=i=>{n.equal(n.value,i)||(cn(n,i),o(i))},r.update=i=>{Zc(n.value),r.set(i(n.value))},r.subscribe=i=>(e.push(i),()=>{let s=e.indexOf(i);s>-1&&e.splice(s,1)}),r}function Zc(t){if(t===so)throw new C(-952,!1)}function Xc(t){return yd(t)}function Lv(){return yd(so)}var XD=(Xc.required=Lv,Xc);function jv(t){return Object.getPrototypeOf(t.prototype).constructor}function Fv(t){let e=jv(t.type),n=!0,r=[t];for(;e;){let o;if(je(t))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new C(903,!1);o=e.\u0275dir}if(o){if(n){r.push(o);let s=t;s.inputs=Mr(t.inputs),s.inputTransforms=Mr(t.inputTransforms),s.declaredInputs=Mr(t.declaredInputs),s.outputs=Mr(t.outputs);let a=o.hostBindings;a&&Bv(t,a);let c=o.viewQuery,l=o.contentQueries;if(c&&Hv(t,c),l&&Uv(t,l),Vv(t,o),ph(t.outputs,o.outputs),je(o)&&o.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(t),a===Fv&&(n=!1)}}e=Object.getPrototypeOf(e)}$v(r)}function Vv(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let o=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(o))continue;t.inputTransforms??={},t.inputTransforms[o]=e.inputTransforms[o]}}}function $v(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let o=t[r];o.hostVars=e+=o.hostVars,o.hostAttrs=vn(o.hostAttrs,n=vn(n,o.hostAttrs))}}function Mr(t){return t===kt?{}:t===re?[]:t}function Hv(t,e){let n=t.viewQuery;n?t.viewQuery=(r,o)=>{e(r,o),n(r,o)}:t.viewQuery=e}function Uv(t,e){let n=t.contentQueries;n?t.contentQueries=(r,o,i)=>{e(r,o,i),n(r,o,i)}:t.contentQueries=e}function Bv(t,e){let n=t.hostBindings;n?t.hostBindings=(r,o)=>{e(r,o),n(r,o)}:t.hostBindings=e}function eC(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)&&o[3]&&(n[r]=o[3])}t.inputTransforms=n}var dt=class{},bs=class{};var Is=class extends dt{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new eo(this);let o=_l(e);this._bootstrapComponents=Du(o.bootstrap),this._r3Injector=wu(e,n,[{provide:dt,useValue:this},{provide:Mo,useValue:this.componentFactoryResolver},...r],oe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Es=class extends bs{constructor(e){super(),this.moduleType=e}create(e){return new Is(this.moduleType,e,[])}};var no=class extends dt{constructor(e){super(),this.componentFactoryResolver=new eo(this),this.instance=null;let n=new En([...e.providers,{provide:dt,useValue:this},{provide:Mo,useValue:this.componentFactoryResolver}],e.parent||Xs(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function qv(t,e,n=null){return new no({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var wd=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Je(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _d(t,e,n){return t[e]=n}function Wv(t,e){return t[e]}function Be(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Gv(t,e,n,r,o,i,s,a,c){let l=e.consts,u=qt(e,t,4,s||null,Ft(l,a));da(e,n,u,Ft(l,c)),yo(e,u);let d=u.tView=ua(2,u,r,o,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function xs(t,e,n,r,o,i,s,a){let c=I(),l=F(),u=t+Z,d=l.firstCreatePass?Gv(u,l,c,e,n,r,o,i,s):l.data[u];ht(d,!1);let f=zv(l,c,d,t);fo()&&_o(l,c,f,d),$e(f,c);let h=qu(f,c,f,d);return c[u]=h,xo(c,h),Iv(h,d,c),lo(d)&&ca(l,c,d),s!=null&&la(c,d,a),xs}var zv=Qv;function Qv(t,e,n,r){return ho(!0),e[R].createComment("")}function Jv(t,e,n,r){let o=I(),i=Ut();if(Be(o,i,e)){let s=F(),a=Qs();wg(a,o,t,e,n,r)}return Jv}function Yv(t,e,n,r){return Be(t,Ut(),n)?e+go(n)+r:Ue}function Sr(t,e){return t<<17|e<<2}function ft(t){return t>>17&32767}function Kv(t){return(t&2)==2}function Zv(t,e){return t&131071|e<<17}function Ds(t){return t|2}function $t(t){return(t&131068)>>2}function Di(t,e){return t&-131069|e<<2}function Xv(t){return(t&1)===1}function Cs(t){return t|1}function ey(t,e,n,r,o,i){let s=i?e.classBindings:e.styleBindings,a=ft(s),c=$t(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||On(d,u)>0)&&(l=!0)}else u=n;if(o)if(c!==0){let f=ft(t[a+1]);t[r+1]=Sr(f,a),f!==0&&(t[f+1]=Di(t[f+1],r)),t[a+1]=Zv(t[a+1],r)}else t[r+1]=Sr(a,0),a!==0&&(t[a+1]=Di(t[a+1],r)),a=r;else t[r+1]=Sr(c,0),a===0?a=r:t[c+1]=Di(t[c+1],r),c=r;l&&(t[r+1]=Ds(t[r+1])),el(t,u,r,!0),el(t,u,r,!1),ty(e,u,t,r,i),s=Sr(a,c),i?e.classBindings=s:e.styleBindings=s}function ty(t,e,n,r,o){let i=o?t.residualClasses:t.residualStyles;i!=null&&typeof e=="string"&&On(i,e)>=0&&(n[r+1]=Cs(n[r+1]))}function el(t,e,n,r){let o=t[n+1],i=e===null,s=r?ft(o):$t(o),a=!1;for(;s!==0&&(a===!1||i);){let c=t[s],l=t[s+1];ny(c,e)&&(a=!0,t[s+1]=r?Cs(l):Ds(l)),s=r?ft(l):$t(l)}a&&(t[n+1]=r?Ds(o):Cs(o))}function ny(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?On(t,e)>=0:!1}function ry(t,e,n){let r=I(),o=Ut();if(Be(r,o,e)){let i=F(),s=Qs();Hu(i,s,r,t,e,r[R],n,!1)}return ry}function tl(t,e,n,r,o){let i=e.inputs,s=o?"class":"style";fa(t,n,i[s],s,r)}function oy(t,e,n){return bd(t,e,n,!1),oy}function iy(t,e){return bd(t,e,null,!0),iy}function bd(t,e,n,r){let o=I(),i=F(),s=Zh(2);if(i.firstUpdatePass&&ay(i,t,s,r),e!==Ue&&Be(o,s,e)){let a=i.data[pt()];fy(i,a,o,o[R],t,o[s+1]=hy(e,n),r,s)}}function sy(t,e){return e>=t.expandoStartIndex}function ay(t,e,n,r){let o=t.data;if(o[n+1]===null){let i=o[pt()],s=sy(t,n);py(i,r)&&e===null&&!s&&(e=!1),e=cy(o,i,e,r),ey(o,i,e,n,s,r)}}function cy(t,e,n,r){let o=np(t),i=r?e.residualClasses:e.residualStyles;if(o===null)(r?e.classBindings:e.styleBindings)===0&&(n=Ci(null,t,e,n,r),n=Mn(n,e.attrs,r),i=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==o)if(n=Ci(o,t,e,n,r),i===null){let c=ly(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Ci(null,t,e,c[1],r),c=Mn(c,e.attrs,r),uy(t,e,r,c))}else i=dy(t,e,r)}return i!==void 0&&(r?e.residualClasses=i:e.residualStyles=i),n}function ly(t,e,n){let r=n?e.classBindings:e.styleBindings;if($t(r)!==0)return t[ft(r)]}function uy(t,e,n,r){let o=n?e.classBindings:e.styleBindings;t[ft(o)]=r}function dy(t,e,n){let r,o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++){let s=t[i].hostAttrs;r=Mn(r,s,n)}return Mn(r,e.attrs,n)}function Ci(t,e,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=e[a],r=Mn(r,i.hostAttrs,o),i!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Mn(t,e,n){let r=n?1:2,o=-1;if(e!==null)for(let i=0;i<e.length;i++){let s=e[i];typeof s=="number"?o=s:o===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),fp(t,s,n?!0:e[++i]))}return t===void 0?null:t}function fy(t,e,n,r,o,i,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=Xv(l)?nl(c,e,n,o,$t(l),s):void 0;if(!ro(u)){ro(i)||Kv(l)&&(i=nl(c,null,n,o,a,s));let d=Cl(pt(),n);Ym(r,s,d,o,i)}}function nl(t,e,n,r,o,i){let s=e===null,a;for(;o>0;){let c=t[o],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=n[o+1];f===Ue&&(f=d?re:void 0);let h=d?vi(f,r):u===r?f:void 0;if(l&&!ro(h)&&(h=vi(c,r)),ro(h)&&(a=h,s))return a;let m=t[o+1];o=s?ft(m):$t(m)}if(e!==null){let c=i?e.residualClasses:e.residualStyles;c!=null&&(a=vi(c,r))}return a}function ro(t){return t!==void 0}function hy(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=oe(na(t)))),t}function py(t,e){return(t.flags&(e?8:16))!==0}var Ts=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),o=Math.max(e,n),i=this.detach(o);if(o-r>1){let s=this.detach(r);this.attach(r,i),this.attach(o,s)}else this.attach(r,i)}move(e,n){this.attach(n,this.detach(e))}};function Ti(t,e,n,r,o){return t===n&&Object.is(e,r)?1:Object.is(o(t,e),o(n,r))?-1:0}function my(t,e,n){let r,o,i=0,s=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;i<=s&&i<=a;){let c=t.at(i),l=e[i],u=Ti(i,c,i,l,n);if(u!==0){u<0&&t.updateValue(i,l),i++;continue}let d=t.at(s),f=e[a],h=Ti(s,d,a,f,n);if(h!==0){h<0&&t.updateValue(s,f),s--,a--;continue}let m=n(i,c),g=n(s,d),v=n(i,l);if(Object.is(v,g)){let _=n(a,f);Object.is(_,m)?(t.swap(i,s),t.updateValue(s,f),a--,s--):t.move(s,i),t.updateValue(i,l),i++;continue}if(r??=new oo,o??=ol(t,i,s,n),Ms(t,r,i,v))t.updateValue(i,l),i++,s++;else if(o.has(v))r.set(m,t.detach(i)),s--;else{let _=t.create(i,e[i]);t.attach(i,_),i++,s++}}for(;i<=a;)rl(t,r,n,i,e[i]),i++}else if(e!=null){let a=e[Symbol.iterator](),c=a.next();for(;!c.done&&i<=s;){let l=t.at(i),u=c.value,d=Ti(i,l,i,u,n);if(d!==0)d<0&&t.updateValue(i,u),i++,c=a.next();else{r??=new oo,o??=ol(t,i,s,n);let f=n(i,u);if(Ms(t,r,i,f))t.updateValue(i,u),i++,s++,c=a.next();else if(!o.has(f))t.attach(i,t.create(i,u)),i++,s++,c=a.next();else{let h=n(i,l);r.set(h,t.detach(i)),s--}}}for(;!c.done;)rl(t,r,n,t.length,c.value),c=a.next()}for(;i<=s;)t.destroy(t.detach(s--));r?.forEach(a=>{t.destroy(a)})}function Ms(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function rl(t,e,n,r,o){if(Ms(t,e,r,n(r,o)))t.updateValue(r,o);else{let i=t.create(r,o);t.attach(r,i)}}function ol(t,e,n,r){let o=new Set;for(let i=e;i<=n;i++)o.add(r(i,t.at(i)));return o}var oo=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(r);)r=o.get(r);o.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let o=this._vMap;for(;o.has(r);)r=o.get(r),e(r,n)}}};function tC(t,e,n){va("NgControlFlow");let r=I(),o=Ut(),i=As(r,Z+t),s=0;if(Be(r,o,e)){let a=B(null);try{if(Yu(i,s),e!==-1){let c=ks(r[w],Z+e),l=Cn(i,c.tView.ssrId),u=Do(r,c,n,{dehydratedView:l});Co(i,u,s,Dn(c,l))}}finally{B(a)}}else{let a=Ju(i,s);a!==void 0&&(a[K]=n)}}var Ss=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Q}};function nC(t){return t}var Ns=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function rC(t,e,n,r,o,i,s,a,c,l,u,d,f){va("NgControlFlow");let h=c!==void 0,m=I(),g=a?s.bind(m[le][K]):s,v=new Ns(h,g);m[Z+t]=v,xs(t+1,e,n,r,o,i),h&&xs(t+2,c,l,u,d,f)}var Os=class extends Ts{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Q}at(e){return this.getLView(e)[K].$implicit}attach(e,n){let r=n[Rt];this.needsIndexUpdate||=e!==this.length,Co(this.lContainer,n,e,Dn(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,gy(this.lContainer,e)}create(e,n){let r=Cn(this.lContainer,this.templateTNode.tView.ssrId);return Do(this.hostLView,this.templateTNode,new Ss(this.lContainer,n,e),{dehydratedView:r})}destroy(e){wo(e[w],e)}updateValue(e,n){this.getLView(e)[K].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[K].$index=e}getLView(e){return vy(this.lContainer,e)}};function oC(t){let e=B(null),n=pt();try{let r=I(),o=r[w],i=r[n];if(i.liveCollection===void 0){let a=n+1,c=As(r,a),l=ks(o,a);i.liveCollection=new Os(c,r,l)}else i.liveCollection.reset();let s=i.liveCollection;if(my(s,t,i.trackByFn),s.updateIndexes(),i.hasEmptyBlock){let a=Ut(),c=s.length===0;if(Be(r,a,c)){let l=n+2,u=As(r,l);if(c){let d=ks(o,l),f=Cn(u,d.tView.ssrId),h=Do(r,d,void 0,{dehydratedView:f});Co(u,h,0,Dn(d,f))}else Yu(u,0)}}}finally{B(e)}}function As(t,e){return t[e]}function gy(t,e){return xn(t,e)}function vy(t,e){return Ju(t,e)}function ks(t,e){return Vs(t,e)}function yy(t,e,n,r,o,i){let s=e.consts,a=Ft(s,o),c=qt(e,t,2,r,a);return da(e,n,c,Ft(s,i)),c.attrs!==null&&Xr(c,c.attrs,!1),c.mergedAttrs!==null&&Xr(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function Id(t,e,n,r){let o=I(),i=F(),s=Z+t,a=o[R],c=i.firstCreatePass?yy(s,i,o,e,n,r):i.data[s],l=_y(i,o,c,a,e,t);o[s]=l;let u=lo(c);return ht(c,!0),Ru(a,l,c),(c.flags&32)!==32&&fo()&&_o(i,o,l,c),Wh()===0&&$e(l,o),Gh(),u&&(ca(i,o,c),aa(i,c,o)),r!==null&&la(o,c),Id}function Ed(){let t=J();Us()?Bs():(t=t.parent,ht(t,!1));let e=t;Qh(e)&&Jh(),zh();let n=F();return n.firstCreatePass&&(yo(n,t),Fs(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&rm(e)&&tl(n,e,I(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&om(e)&&tl(n,e,I(),e.stylesWithoutHost,!1),Ed}function wy(t,e,n,r){return Id(t,e,n,r),Ed(),wy}var _y=(t,e,n,r,o,i)=>(ho(!0),Cu(r,o,sp()));function by(t,e,n,r,o){let i=e.consts,s=Ft(i,r),a=qt(e,t,8,"ng-container",s);s!==null&&Xr(a,s,!0);let c=Ft(i,o);return da(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function xd(t,e,n){let r=I(),o=F(),i=t+Z,s=o.firstCreatePass?by(i,o,r,e,n):o.data[i];ht(s,!0);let a=Ey(o,r,s,t);return r[i]=a,fo()&&_o(o,r,a,s),$e(a,r),lo(s)&&(ca(o,r,s),aa(o,s,r)),n!=null&&la(r,s),xd}function Dd(){let t=J(),e=F();return Us()?Bs():(t=t.parent,ht(t,!1)),e.firstCreatePass&&(yo(e,t),Fs(t)&&e.queries.elementEnd(t)),Dd}function Iy(t,e,n){return xd(t,e,n),Dd(),Iy}var Ey=(t,e,n,r)=>(ho(!0),Pm(e[R],""));var Xe=void 0;function xy(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var Dy=["en",[["a","p"],["AM","PM"],Xe],[["AM","PM"],Xe,Xe],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xe,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xe,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xe,"{1} 'at' {0}",Xe],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",xy],Mi={};function iC(t){let e=Ty(t),n=il(e);if(n)return n;let r=e.split("-")[0];if(n=il(r),n)return n;if(r==="en")return Dy;throw new C(701,!1)}function il(t){return t in Mi||(Mi[t]=we.ng&&we.ng.common&&we.ng.common.locales&&we.ng.common.locales[t]),Mi[t]}var Cy=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Cy||{});function Ty(t){return t.toLowerCase().replace(/_/g,"-")}var io="en-US";var My=io;function Sy(t){typeof t=="string"&&(My=t.toLowerCase().replace(/_/g,"-"))}function Ny(t,e,n,r){let o=I(),i=F(),s=J();return Cd(i,o,o[R],s,t,e,r),Ny}function Oy(t,e,n,r){let o=t.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=e[yn],c=o[i+2];return a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function Cd(t,e,n,r,o,i,s){let a=lo(r),l=t.firstCreatePass&&zu(t),u=e[K],d=Gu(e),f=!0;if(r.type&3||s){let g=ue(r,e),v=s?s(g):g,_=d.length,P=s?O=>s(Ee(O[r.index])):r.index,V=null;if(!s&&a&&(V=Oy(t,e,o,r.index)),V!==null){let O=V.__ngLastListenerFn__||V;O.__ngNextListenerFn__=i,V.__ngLastListenerFn__=i,f=!1}else{i=al(r,e,u,i,!1);let O=n.listen(v,o,i);d.push(i,O),l&&l.push(o,P,_,_+1)}}else i=al(r,e,u,i,!1);let h=r.outputs,m;if(f&&h!==null&&(m=h[o])){let g=m.length;if(g)for(let v=0;v<g;v+=2){let _=m[v],P=m[v+1],$=e[_][P].subscribe(i),ye=d.length;if(d.push(i,$),l){let nn=typeof $=="function"?ye+1:-(ye+1);l.push(o,r.index,ye,nn)}}}}function sl(t,e,n,r){try{return _e(6,e,n),n(r)!==!1}catch(o){return Qu(t,o),!1}finally{_e(7,e,n)}}function al(t,e,n,r,o){return function i(s){if(s===Function)return r;let a=t.componentOffset>-1?He(t.index,e):e;pa(a);let c=sl(e,n,r,s),l=i.__ngNextListenerFn__;for(;l;)c=sl(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return o&&c===!1&&s.preventDefault(),c}}function sC(t=1){return op(t)}function Ay(t,e){let n=null,r=xh(t);for(let o=0;o<e.length;o++){let i=e[o];if(i==="*"){n=o;continue}if(r===null?vl(t,i,!0):Th(r,i))return o}return n}function aC(t){let e=I()[le][ie];if(!e.projection){let n=t?t.length:1,r=e.projection=up(n,null),o=r.slice(),i=e.child;for(;i!==null;){let s=t?Ay(i,t):0;s!==null&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i),i=i.next}}}function cC(t,e=0,n){let r=I(),o=F(),i=qt(o,Z+t,16,null,n||null);i.projection===null&&(i.projection=e),Bs(),(!r[Rt]||Nl())&&(i.flags&32)!==32&&Qm(o,r,i)}function lC(t,e,n,r){Mv(t,e,n,r)}function uC(t,e,n){pd(t,e,n)}function dC(t){let e=I(),n=F(),r=Ws();uo(r+1);let o=ba(n,r);if(t.dirty&&$h(e)===((o.metadata.flags&2)===2)){if(o.matches===null)t.reset([]);else{let i=gd(e,r);t.reset(i,Fl),t.notifyOnChanges()}return!0}return!1}function fC(){return _a(I(),Ws())}function hC(t,e,n,r){kv(t,pd(e,n,r))}function pC(t=1){uo(Ws()+t)}function ky(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function mC(t,e=""){let n=I(),r=F(),o=t+Z,i=r.firstCreatePass?qt(r,o,1,e,null):r.data[o],s=Py(r,n,i,e,t);n[o]=s,fo()&&_o(r,n,s,i),ht(i,!1)}var Py=(t,e,n,r,o)=>(ho(!0),Am(e[R],r));function Ry(t){return Td("",t,""),Ry}function Td(t,e,n){let r=I(),o=Yv(r,t,e,n);return o!==Ue&&Eg(r,pt(),o),Td}function Ly(t,e,n){sd(e)&&(e=e());let r=I(),o=Ut();if(Be(r,o,e)){let i=F(),s=Qs();Hu(i,s,r,t,e,r[R],n,!1)}return Ly}function gC(t,e){let n=sd(t);return n&&t.set(e),n}function jy(t,e){let n=I(),r=F(),o=J();return Cd(r,n,n[R],o,t,e),jy}function Fy(t,e,n){let r=F();if(r.firstCreatePass){let o=je(t);Ps(n,r.data,r.blueprint,o,!0),Ps(e,r.data,r.blueprint,o,!1)}}function Ps(t,e,n,r,o){if(t=Y(t),Array.isArray(t))for(let i=0;i<t.length;i++)Ps(t[i],e,n,r,o);else{let i=F(),s=I(),a=J(),c=Vt(t)?t:Y(t.provide),l=ou(t),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Vt(t)||!t.multi){let h=new at(l,o,Io),m=Ni(c,e,o?u:u+f,d);m===-1?(Gi(Gr(a,s),i,c),Si(i,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[m]=h,s[m]=h)}else{let h=Ni(c,e,u+f,d),m=Ni(c,e,u,u+f),g=h>=0&&n[h],v=m>=0&&n[m];if(o&&!v||!o&&!g){Gi(Gr(a,s),i,c);let _=Hy(o?$y:Vy,n.length,o,r,l);!o&&v&&(n[m].providerFactory=_),Si(i,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(_),s.push(_)}else{let _=Md(n[o?m:h],l,!o&&r);Si(i,t,h>-1?h:m,_)}!o&&r&&v&&n[m].componentProviders++}}}function Si(t,e,n,r){let o=Vt(e),i=Hp(e);if(o||i){let c=(i?Y(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!o&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function Md(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ni(t,e,n,r){for(let o=n;o<r;o++)if(e[o]===t)return o;return-1}function Vy(t,e,n,r){return Rs(this.multi,[])}function $y(t,e,n,r){let o=this.multi,i;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ct(n,n[w],this.providerFactory.index,r);i=a.slice(0,s),Rs(o,i);for(let c=s;c<a.length;c++)i.push(a[c])}else i=[],Rs(o,i);return i}function Rs(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Hy(t,e,n,r,o){let i=new at(t,n,Io);return i.multi=[],i.index=e,i.componentProviders=0,Md(i,o,r&&!n),i}function vC(t,e=[]){return n=>{n.providersResolver=(r,o)=>Fy(r,o?o(t):t,e)}}var Uy=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let o=eu(!1,r.type),i=o.length>0?qv([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,i)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=z({token:e,providedIn:"environment",factory:()=>new e(Fe(Ve))});let t=e;return t})();function yC(t){va("NgStandalone"),t.getStandaloneInjector=e=>e.get(Uy).getOrCreateStandaloneInjector(t)}function wC(t,e,n){let r=qs()+t,o=I();return o[r]===Ue?_d(o,r,n?e.call(n):e()):Wv(o,r)}function _C(t,e,n,r){return Sd(I(),qs(),t,e,n,r)}function By(t,e){let n=t[e];return n===Ue?void 0:n}function Sd(t,e,n,r,o,i){let s=e+n;return Be(t,s,o)?_d(t,s+1,i?r.call(i,o):r(o)):By(t,s+1)}function bC(t,e){let n=F(),r,o=t+Z;n.firstCreatePass?(r=qy(e,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];let i=r.factory||(r.factory=st(r.type,!0)),s,a=te(Io);try{let c=Wr(!1),l=i();return Wr(c),ky(n,I(),o,l),l}finally{te(a)}}function qy(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function IC(t,e,n){let r=t+Z,o=I(),i=Vh(o,r);return Wy(o,r)?Sd(o,qs(),e,i.transform,n,i):i.transform(n)}function Wy(t,e){return t[w].data[e].pure}function EC(t,e){return To(t,e)}var xC=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Gy=new j("");function Nd(t){return!!t&&typeof t.then=="function"}function zy(t){return!!t&&typeof t.subscribe=="function"}var Qy=new j(""),Od=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o}),this.appInits=W(Qy,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let i of this.appInits){let s=i();if(Nd(s))r.push(s);else if(zy(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}let o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(i=>{this.reject(i)}),r.length===0&&o(),this.initialized=!0}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Jy=new j("");function Yy(){Ua(()=>{throw new C(600,!1)})}function Ky(t){return t.isBoundToModule}function Zy(t,e,n){try{let r=n();return Nd(r)?r.catch(o=>{throw e.runOutsideAngular(()=>t.handleError(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Ad=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=W(_u),this.afterRenderEffectManager=W(ld),this.componentTypes=[],this.components=[],this.isStable=W(wd).hasPendingTasks.pipe(Ce(r=>!r)),this._injector=W(Ve)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,o){let i=r instanceof Kr;if(!this._injector.get(Od).done){let h=!i&&kh(r),m=!1;throw new C(405,m)}let a;i?a=r:a=this._injector.get(Mo).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=Ky(a)?void 0:this._injector.get(dt),l=o||a.selector,u=a.create(ta.NULL,[],l,c),d=u.location.nativeElement,f=u.injector.get(Gy,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Oi(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new C(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let r=0;do{if(r===td)throw new C(103,!1);let o=r===0;for(let{_lView:i,notifyErrorHandler:s}of this._views)!o&&!cl(i)||this.detectChangesInView(i,s,o);this.afterRenderEffectManager.execute(),r++}while(this._views.some(({_lView:o})=>cl(o)))}detectChangesInView(r,o,i){let s;i?(s=0,r[y]|=1024):r[y]&64?s=0:s=1,nd(r,o,s)}attachView(r){let o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){let o=r;Oi(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let o=this._injector.get(Jy,[]);[...this._bootstrapListeners,...o].forEach(i=>i(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Oi(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new C(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Oi(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function cl(t){return Hs(t)}var Ls=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},DC=(()=>{let e=class e{compileModuleSync(r){return new Es(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let o=this.compileModuleSync(r),i=_l(r),s=Du(i.declarations).reduce((a,c)=>{let l=nt(c);return l&&a.push(new Tn(l)),a},[]);return new Ls(o,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Xy=(()=>{let e=class e{constructor(){this.zone=W(Ie),this.applicationRef=W(Ad)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ew(t){return[{provide:Ie,useFactory:t},{provide:Hr,multi:!0,useFactory:()=>{let e=W(Xy,{optional:!0});return()=>e.initialize()}},{provide:Hr,multi:!0,useFactory:()=>{let e=W(ow);return()=>{e.initialize()}}},{provide:_u,useFactory:tw}]}function tw(){let t=W(Ie),e=W(lt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function nw(t){let e=ew(()=>new Ie(rw(t)));return Lp([[],e])}function rw(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var ow=(()=>{let e=class e{constructor(){this.subscription=new q,this.initialized=!1,this.zone=W(Ie),this.pendingTasks=W(wd)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function iw(){return typeof $localize<"u"&&$localize.locale||io}var kd=new j("",{providedIn:"root",factory:()=>W(kd,M.Optional|M.SkipSelf)||iw()});var Pd=new j("");var Lr=null;function sw(t=[],e){return ta.create({name:e,providers:[{provide:ru,useValue:"platform"},{provide:Pd,useValue:new Set([()=>Lr=null])},...t]})}function aw(t=[]){if(Lr)return Lr;let e=sw(t);return Lr=e,Yy(),cw(e),e}function cw(t){t.get(wp,null)?.forEach(n=>n())}function CC(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,o=aw(r),i=[nw(),...n||[]],a=new no({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Ie);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(lt,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:h=>{l.handleError(h)}})});let d=()=>a.destroy(),f=o.get(Pd);return f.add(d),a.onDestroy(()=>{u.unsubscribe(),f.delete(d)}),Zy(l,c,()=>{let h=a.get(Od);return h.runInitializers(),h.donePromise.then(()=>{let m=a.get(kd,io);Sy(m||io);let g=a.get(Ad);return e!==void 0&&g.bootstrap(e),g})})})}catch(e){return Promise.reject(e)}}function TC(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var Rd=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-2UTJ4IR6.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};var An=class extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}},So=class extends An{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},No=class extends An{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Oo=class extends An{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var uw=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},kn=class{constructor(e,{headers:n={},customFetch:r}={}){this.url=e,this.headers=n,this.fetch=Rd(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return uw(this,void 0,void 0,function*(){try{let{headers:o,method:i,body:s}=n,a={},c;s&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(a["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(a["Content-Type"]="application/json",c=JSON.stringify(s)));let l=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),o),body:c}).catch(h=>{throw new So(h)}),u=l.headers.get("x-relay-error");if(u&&u==="true")throw new No(l);if(!l.ok)throw new Oo(l);let d=((r=l.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return d==="application/json"?f=yield l.json():d==="application/octet-stream"?f=yield l.blob():d==="multipart/form-data"?f=yield l.formData():f=yield l.text(),{data:f,error:null}}catch(o){return{data:null,error:o}}})}};var Ao=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};var Pn=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Yn:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(i=>p(this,null,function*(){var s,a,c;let l=null,u=null,d=null,f=i.status,h=i.statusText;if(i.ok){if(this.method!=="HEAD"){let _=yield i.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=_:u=JSON.parse(_))}let g=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),v=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&v&&v.length>1&&(d=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,h="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let g=yield i.text();try{l=JSON.parse(g),Array.isArray(l)&&i.status===404&&(u=[],l=null,f=200,h="OK")}catch{i.status===404&&g===""?(f=204,h="No Content"):l={message:g}}if(l&&this.isMaybeSingle&&(!((c=l?.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,f=200,h="OK"),l&&this.shouldThrowOnError)throw new Ao(l)}return{error:l,data:u,count:d,status:f,statusText:h}}));return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,c;return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:`${(a=i?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(e,n)}};var Rn=class extends Pn{select(e){let n=!1,r=(e??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;let c=[e?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${l}"; options=${c};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};var ge=class extends Rn{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){let r=n.map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${s}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};var Ln=class{constructor(e,{headers:n={},schema:r,fetch:o}){this.url=e,this.headers=n,this.schema=r,this.fetch=o}select(e,{head:n=!1,count:r}={}){let o=n?"HEAD":"GET",i=!1,s=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new ge({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){let o="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){let s=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new ge({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),o&&a.push(`count=${o}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){let c=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){let l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new ge({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){let r="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),this.headers.Prefer=o.join(","),new ge({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){let n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ge({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};var Ld="1.9.2";var jd={"X-Client-Info":`postgrest-js/${Ld}`};var jn=class t{constructor(e,{headers:n={},schema:r,fetch:o}={}){this.url=e,this.headers=Object.assign(Object.assign({},jd),n),this.schemaName=r,this.fetch=o}from(e){let n=new URL(`${this.url}/${e}`);return new Ln(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new t(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,count:o}={}){let i,s=new URL(`${this.url}/rpc/${e}`),a;r?(i="HEAD",Object.entries(n).forEach(([l,u])=>{s.searchParams.append(l,`${u}`)})):(i="POST",a=n);let c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new ge({method:i,url:s,headers:c,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};var Fd="2.9.3";var Vd={"X-Client-Info":`realtime-js/${Fd}`},$d="1.0.0",ko=1e4,Hd=1e3,Wt=function(t){return t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed",t}(Wt||{}),se=function(t){return t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving",t}(se||{}),de=function(t){return t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token",t}(de||{}),Ia=function(t){return t.websocket="websocket",t}(Ia||{}),mt=function(t){return t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed",t}(mt||{});var Gt=class{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Po=class{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){let n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){let o=n.getUint8(1),i=n.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(e.slice(s,s+o));s=s+o;let c=r.decode(e.slice(s,s+i));s=s+i;let l=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:a,event:c,payload:l}}};var zt=class{constructor(e,n,r={},o=ko){this.channel=e,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var Fn=class t{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=t.syncState(this.state,o,i,s),this.pendingDiffs.forEach(c=>{this.state=t.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=t.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,o){let i=this.cloneDeep(e),s=this.transformState(n),a={},c={};return this.map(i,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let d=i[l];if(d){let f=u.map(v=>v.presence_ref),h=d.map(v=>v.presence_ref),m=u.filter(v=>h.indexOf(v.presence_ref)<0),g=d.filter(v=>f.indexOf(v.presence_ref)<0);m.length>0&&(a[l]=m),g.length>0&&(c[l]=g)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},r,o)}static syncDiff(e,n,r,o){let{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,c)=>{var l;let u=(l=e[a])!==null&&l!==void 0?l:[];if(e[a]=this.cloneDeep(c),u.length>0){let d=e[a].map(h=>h.presence_ref),f=u.filter(h=>d.indexOf(h.presence_ref)<0);e[a].unshift(...f)}r(a,u,c)}),this.map(s,(a,c)=>{let l=e[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=l,o(a,l,c),l.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{let o=e[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var k=function(t){return t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange",t}(k||{}),xa=(t,e,n={})=>{var r;let o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,s)=>(i[s]=dw(s,t,e,o),i),{})},dw=(t,e,n,r)=>{let o=e.find(a=>a.name===t),i=o?.type,s=n[t];return i&&!r.includes(i)?Ud(i,s):Ea(s)},Ud=(t,e)=>{if(t.charAt(0)==="_"){let n=t.slice(1,t.length);return mw(e,n)}switch(t){case k.bool:return fw(e);case k.float4:case k.float8:case k.int2:case k.int4:case k.int8:case k.numeric:case k.oid:return hw(e);case k.json:case k.jsonb:return pw(e);case k.timestamp:return gw(e);case k.abstime:case k.date:case k.daterange:case k.int4range:case k.int8range:case k.money:case k.reltime:case k.text:case k.time:case k.timestamptz:case k.timetz:case k.tsrange:case k.tstzrange:return Ea(e);default:return Ea(e)}},Ea=t=>t,fw=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},hw=t=>{if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return e}return t},pw=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},mw=(t,e)=>{if(typeof t!="string")return t;let n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i,s=t.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>Ud(e,a))}return t},gw=t=>typeof t=="string"?t.replace(" ","T"):t;var Vn=class t{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=se.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},n.config),this.timeout=this.socket.timeout,this.joinPush=new zt(this,de.join,this.params,this.timeout),this.rejoinTimer=new Gt(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=se.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=se.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this._on(de.reply,{},(o,i)=>{this._trigger(this._replyEventName(i),o)}),this.presence=new Fn(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,n=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:i,presence:s}}=this.params;this._onError(l=>e&&e("CHANNEL_ERROR",l)),this._onClose(()=>e&&e("CLOSED"));let a={},c={broadcast:i,presence:s,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(l=>l.filter))!==null&&o!==void 0?o:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:l})=>{var u;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),l===void 0){e&&e("SUBSCRIBED");return}else{let d=this.bindings.postgres_changes,f=(u=d?.length)!==null&&u!==void 0?u:0,h=[];for(let m=0;m<f;m++){let g=d[m],{filter:{event:v,schema:_,table:P,filter:V}}=g,O=l&&l[m];if(O&&O.event===v&&O.schema===_&&O.table===P&&O.filter===V)h.push(Object.assign(Object.assign({},g),{id:O.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=h,e&&e("SUBSCRIBED");return}}).receive("error",l=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(l).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(r){return p(this,arguments,function*(e,n={}){return yield this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)})}untrack(){return p(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,n,r){return this._on(e,n,r)}send(r){return p(this,arguments,function*(e,n={}){var o,i;if(!this._canPush()&&e.type==="broadcast"){let{event:s,payload:a}=e,c={method:"POST",headers:{apikey:(o=this.socket.apiKey)!==null&&o!==void 0?o:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a}]})};try{return(yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=n.timeout)!==null&&i!==void 0?i:this.timeout)).ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,l;let u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=se.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(de.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let o=new zt(this,de.leave,{},e);o.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}_broadcastEndpointURL(){let e=this.socket.endPoint;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"}_fetchWithTimeout(e,n,r){return p(this,null,function*(){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=yield this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),s})}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new zt(this,e,n,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var o,i;let s=e.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=de;if(r&&[a,c,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let f=this._onMessage(s,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(h=>{var m,g,v;return((m=h.filter)===null||m===void 0?void 0:m.event)==="*"||((v=(g=h.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(h=>h.callback(f,r)):(i=this.bindings[s])===null||i===void 0||i.filter(h=>{var m,g,v,_,P,V;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){let O=h.id,$=(m=h.filter)===null||m===void 0?void 0:m.event;return O&&((g=n.ids)===null||g===void 0?void 0:g.includes(O))&&($==="*"||$?.toLocaleLowerCase()===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{let O=(P=(_=h?.filter)===null||_===void 0?void 0:_.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return O==="*"||O===((V=n?.event)===null||V===void 0?void 0:V.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof f=="object"&&"ids"in f){let m=f.data,{schema:g,table:v,commit_timestamp:_,type:P,errors:V}=m;f=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:_,eventType:P,new:{},old:{},errors:V}),this._getPayloadRecords(m))}h.callback(f,r)})}_isClosed(){return this.state===se.closed}_isJoined(){return this.state===se.joined}_isJoining(){return this.state===se.joining}_isLeaving(){return this.state===se.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){let o=e.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(e,n){let r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&t.isEqual(o.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(let r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(de.close,{},e)}_onError(e){this._on(de.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=se.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=xa(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=xa(e.columns,e.old_record)),n}};var yw=()=>{},ww=typeof WebSocket<"u",$n=class{constructor(e,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=Vd,this.params={},this.timeout=ko,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=yw,this.conn=null,this.sendBuffer=[],this.serializer=new Po,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>import("./chunk-2UTJ4IR6.js").then(({default:c})=>c(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${e}/${Ia.websocket}`,n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);let o=(r=n?.params)===null||r===void 0?void 0:r.apikey;o&&(this.accessToken=o,this.apiKey=o),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n?.encode?n.encode:(i,s)=>s(JSON.stringify(i)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Gt(()=>p(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(ww){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Da(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-7EJ4JCZP.js").then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(e){return p(this,null,function*(){let n=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return p(this,null,function*(){let e=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e})}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Wt.connecting:return mt.Connecting;case Wt.open:return mt.Open;case Wt.closing:return mt.Closing;default:return mt.Closed}}isConnected(){return this.connectionState()===mt.Open}channel(e,n={config:{}}){let r=new Vn(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){let{topic:n,event:r,payload:o,ref:i}=e,s=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(e){this.accessToken=e,this.channels.forEach(n=>{e&&n.updateJoinPayload({access_token:e}),n.joinedOnce&&n._isJoined()&&n._push(de.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$d}))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:o,payload:i,ref:s}=n;(s&&s===this.pendingHeartbeatRef||o===i?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${o} ${s&&"("+s+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(o,i,s)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(de.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;let r=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${r}${o}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Hd,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}};var Da=class{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Wt.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}};var Qt=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function U(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Ro=class extends Qt{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Hn=class extends Qt{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}};var _w=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},Lo=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-2UTJ4IR6.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Bd=()=>_w(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-2UTJ4IR6.js")).Response:Response});var Jt=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},Ca=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bw=(t,e)=>Jt(void 0,void 0,void 0,function*(){let n=yield Bd();t instanceof n?t.json().then(r=>{e(new Ro(Ca(r),t.status||500))}).catch(r=>{e(new Hn(Ca(r),r))}):e(new Hn(Ca(t),t))}),Iw=(t,e,n,r)=>{let o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};function jo(t,e,n,r,o,i){return Jt(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,Iw(e,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>bw(c,a))})})}function Un(t,e,n,r){return Jt(this,void 0,void 0,function*(){return jo(t,"GET",e,n,r)})}function xe(t,e,n,r,o){return Jt(this,void 0,void 0,function*(){return jo(t,"POST",e,r,o,n)})}function qd(t,e,n,r,o){return Jt(this,void 0,void 0,function*(){return jo(t,"PUT",e,r,o,n)})}function Fo(t,e,n,r,o){return Jt(this,void 0,void 0,function*(){return jo(t,"DELETE",e,r,o,n)})}var fe=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},Ew={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Vo=class{constructor(e,n={},r,o){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Lo(o)}uploadOrUpdate(e,n,r,o){return fe(this,void 0,void 0,function*(){try{let i,s=Object.assign(Object.assign({},Wd),o),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl)):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType);let c=this._removeEmptyFolders(n),l=this._getFinalPath(c),u=yield this.fetch(`${this.url}/object/${l}`,Object.assign({method:e,body:i,headers:a},s?.duplex?{duplex:s.duplex}:{})),d=yield u.json();return u.ok?{data:{path:c,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(i){if(U(i))return{data:null,error:i};throw i}})}upload(e,n,r){return fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,o){return fe(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(e),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let c,l=Object.assign({upsert:Wd.upsert},o),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);let d=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:u}),f=yield d.json();return d.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(U(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e){return fe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),r=yield xe(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:this.headers}),o=new URL(this.url+r.url),i=o.searchParams.get("token");if(!i)throw new Qt("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:i},error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}})}update(e,n,r){return fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n){return fe(this,void 0,void 0,function*(){try{return{data:yield xe(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n},{headers:this.headers}),error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}})}copy(e,n){return fe(this,void 0,void 0,function*(){try{return{data:{path:(yield xe(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n},{headers:this.headers})).Key},error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,r){return fe(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),i=yield xe(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(U(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,r){return fe(this,void 0,void 0,function*(){try{let o=yield xe(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(U(o))return{data:null,error:o};throw o}})}download(e,n){return fe(this,void 0,void 0,function*(){let o=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),s=i?`?${i}`:"";try{let a=this._getFinalPath(e);return{data:yield(yield Un(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(U(a))return{data:null,error:a};throw a}})}getPublicUrl(e,n){let r=this._getFinalPath(e),o=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&o.push(i);let a=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&o.push(c);let l=o.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(e){return fe(this,void 0,void 0,function*(){try{return{data:yield Fo(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}})}list(e,n,r){return fe(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},Ew),n),{prefix:e||""});return{data:yield xe(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(U(o))return{data:null,error:o};throw o}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}};var Gd="2.5.5";var zd={"X-Client-Info":`storage-js/${Gd}`};var Yt=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},$o=class{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},zd),n),this.fetch=Lo(r)}listBuckets(){return Yt(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(U(e))return{data:null,error:e};throw e}})}getBucket(e){return Yt(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Yt(this,void 0,void 0,function*(){try{return{data:yield xe(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Yt(this,void 0,void 0,function*(){try{return{data:yield qd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Yt(this,void 0,void 0,function*(){try{return{data:yield xe(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Yt(this,void 0,void 0,function*(){try{return{data:yield Fo(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}})}};var Bn=class extends $o{constructor(e,n={},r){super(e,n,r)}from(e){return new Vo(this.url,this.headers,e,this.fetch)}};var Qd="2.39.7";var qn="";typeof Deno<"u"?qn="deno":typeof document<"u"?qn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qn="react-native":qn="node";var xw={"X-Client-Info":`supabase-js-${qn}/${Qd}`},Jd={headers:xw},Yd={schema:"public"},Kd={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Zd={};var Dw=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},Cw=t=>{let e;return t?e=t:typeof fetch>"u"?e=Yn:e=fetch,(...n)=>e(...n)},Tw=()=>typeof Headers>"u"?Aa:Headers,Xd=(t,e,n)=>{let r=Cw(n),o=Tw();return(i,s)=>Dw(void 0,void 0,void 0,function*(){var a;let c=(a=yield e())!==null&&a!==void 0?a:t,l=new o(s?.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},s),{headers:l}))})};function ef(t){return t.replace(/\/$/,"")}function tf(t,e){let{db:n,auth:r,realtime:o,global:i}=t,{db:s,auth:a,realtime:c,global:l}=e;return{db:Object.assign(Object.assign({},s),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign({},l),i)}}function nf(t){return Math.round(Date.now()/1e3)+t}function rf(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}var ve=()=>typeof document<"u",gt={tested:!1,writable:!1},qe=()=>{if(!ve())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gt.tested)return gt.writable;let t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),gt.tested=!0,gt.writable=!0}catch{gt.tested=!0,gt.writable=!1}return gt.writable};function Ho(t){let e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{e[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{e[o]=r}),e}var Uo=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-2UTJ4IR6.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},of=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",We=(t,e,n)=>p(void 0,null,function*(){yield t.setItem(e,JSON.stringify(n))}),Gn=(t,e)=>p(void 0,null,function*(){let n=yield t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),Bo=(t,e)=>p(void 0,null,function*(){yield t.removeItem(e)});function Mw(t){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="",r,o,i,s,a,c,l,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)s=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),r=s<<2|a>>4,o=(a&15)<<4|c>>2,i=(c&3)<<6|l,n=n+String.fromCharCode(r),c!=64&&o!=0&&(n=n+String.fromCharCode(o)),l!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}var Wn=class t{constructor(){this.promise=new t.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};Wn.promiseConstructor=Promise;function Ta(t){let e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");let r=n[1];return JSON.parse(Mw(r))}function sf(t){return p(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),t)})})}function af(t,e){return new Promise((r,o)=>{p(this,null,function*(){for(let i=0;i<1/0;i++)try{let s=yield t(i);if(!e(i,null,s)){r(s);return}}catch(s){if(!e(i,s)){o(s);return}}})})}function Sw(t){return("0"+t.toString(16)).substr(-2)}function vt(){let e=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,Sw).join("")}function Nw(t){return p(this,null,function*(){let n=new TextEncoder().encode(t),r=yield crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")})}function Ow(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function yt(t){return p(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;let n=yield Nw(t);return Ow(n)})}var zn=class extends Error{constructor(e,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n}};function x(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}var qo=class extends zn{constructor(e,n){super(e,n),this.name="AuthApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}};function cf(t){return x(t)&&t.name==="AuthApiError"}var Kt=class extends zn{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}},Oe=class extends zn{constructor(e,n,r){super(e),this.name=n,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Ae=class extends Oe{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}},Zt=class extends Oe{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}},wt=class extends Oe{constructor(e){super(e,"AuthInvalidCredentialsError",400)}},_t=class extends Oe{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Qn=class extends Oe{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Xt=class extends Oe{constructor(e,n){super(e,"AuthRetryableFetchError",n)}};function Go(t){return x(t)&&t.name==="AuthRetryableFetchError"}var Wo=class extends Oe{constructor(e,n,r){super(e,"AuthWeakPasswordError",n),this.reasons=r}};var Aw=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},en=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kw=[502,503,504];function lf(t){return p(this,null,function*(){if(!of(t))throw new Xt(en(t),0);if(kw.includes(t.status))throw new Xt(en(t),t.status);let e;try{e=yield t.json()}catch(n){throw new Kt(en(n),n)}throw typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)?new Wo(en(e),t.status,e.weak_password.reasons):new qo(en(e),t.status||500)})}var Pw=(t,e,n,r)=>{let o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};function T(t,e,n,r){return p(this,null,function*(){var o;let i=Object.assign({},r?.headers);r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield Rw(t,e,n+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function Rw(t,e,n,r,o,i){return p(this,null,function*(){let s=Pw(e,r,o,i),a;try{a=yield t(n,s)}catch(c){throw console.error(c),new Xt(en(c),0)}if(a.ok||(yield lf(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield lf(c)}})}function Ge(t){var e;let n=null;Lw(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=nf(t.expires_in)));let r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Ma(t){let e=Ge(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function De(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function uf(t){return{data:t,error:null}}function df(t){let{action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=t,s=Aw(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function ff(t){return t}function Lw(t){return t.access_token&&t.refresh_token&&t.expires_in}var jw=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},tn=class{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Uo(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(e,n="global"){return p(this,null,function*(){try{return yield T(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(x(r))return{data:null,error:r};throw r}})}inviteUserByEmail(r){return p(this,arguments,function*(e,n={}){try{return yield T(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:De})}catch(o){if(x(o))return{data:{user:null},error:o};throw o}})}generateLink(e){return p(this,null,function*(){try{let{options:n}=e,r=jw(e,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),yield T(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:df,redirectTo:n?.redirectTo})}catch(n){if(x(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(e){return p(this,null,function*(){try{return yield T(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:De})}catch(n){if(x(n))return{data:{user:null},error:n};throw n}})}listUsers(e){return p(this,null,function*(){var n,r,o,i,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield T(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:ff});if(u.error)throw u.error;let d=yield u.json(),f=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(m=>{let g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);l[`${v}Page`]=g}),l.total=parseInt(f)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(x(l))return{data:{users:[]},error:l};throw l}})}getUserById(e){return p(this,null,function*(){try{return yield T(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:De})}catch(n){if(x(n))return{data:{user:null},error:n};throw n}})}updateUserById(e,n){return p(this,null,function*(){try{return yield T(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:De})}catch(r){if(x(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,n=!1){return p(this,null,function*(){try{return yield T(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:De})}catch(r){if(x(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return p(this,null,function*(){try{let{data:n,error:r}=yield T(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(x(n))return{data:null,error:n};throw n}})}_deleteFactor(e){return p(this,null,function*(){try{return{data:yield T(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(x(n))return{data:null,error:n};throw n}})}};var zo="2.61.0";var hf="http://localhost:9999",pf="supabase.auth.token";var mf={"X-Client-Info":`gotrue-js/${zo}`},Sa=10;var gf={getItem:t=>qe()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{qe()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{qe()&&globalThis.localStorage.removeItem(t)}};function Na(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function vf(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var Fw={debug:!!(globalThis&&qe()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Qo=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}};vf();var Vw={url:hf,storageKey:pf,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mf,flowType:"implicit",debug:!1},Jn=30*1e3,yf=3;function $w(t,e,n){return p(this,null,function*(){return yield n()})}var Jo=(()=>{class t{constructor(n){var r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=t.nextInstanceID,t.nextInstanceID+=1,this.instanceID>0&&ve()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},Vw),n);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new tn({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Uo(o.fetch),this.lock=o.lock||$w,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:qe()?this.storage=gf:(this.memoryStorage={},this.storage=Na(this.memoryStorage)):(this.memoryStorage={},this.storage=Na(this.memoryStorage)),ve()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",i=>p(this,null,function*(){this._debug("received broadcast notification from other tab or client",i),yield this._notifyAllSubscribers(i.data.event,i.data.session,!1)}))}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${zo}) ${new Date().toISOString()}`,...n),this}initialize(){return p(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=p(this,null,function*(){return yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return p(this,null,function*(){try{let n=ve()?yield this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",n),n||this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:r,error:o}=yield this._getSessionFromURL(n);if(o)return this._debug("#_initialize()","error detecting session from URL",o),o?.message==="Identity is already linked"||o?.message==="Identity is already linked to another user"?{error:o}:(yield this._removeSession(),{error:o});let{session:i,redirectType:s}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),yield this._saveSession(i),setTimeout(()=>p(this,null,function*(){s==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",i):yield this._notifyAllSubscribers("SIGNED_IN",i)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(n){return x(n)?{error:n}:{error:new Kt("Unexpected error during initialization",n)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signUp(n){return p(this,null,function*(){var r,o,i;try{yield this._removeSession();let s;if("email"in n){let{email:d,password:f,options:h}=n,m=null,g=null;if(this.flowType==="pkce"){let v=vt();yield We(this.storage,`${this.storageKey}-code-verifier`,v),m=yield yt(v),g=v===m?"plain":"s256"}s=yield T(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:d,password:f,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:g},xform:Ge})}else if("phone"in n){let{phone:d,password:f,options:h}=n;s=yield T(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(o=h?.data)!==null&&o!==void 0?o:{},channel:(i=h?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Ge})}else throw new wt("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(x(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(n){return p(this,null,function*(){try{yield this._removeSession();let r;if("email"in n){let{email:s,password:a,options:c}=n;r=yield T(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Ma})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=yield T(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Ma})}else throw new wt("You must provide either an email or phone number and a password");let{data:o,error:i}=r;return i?{data:{user:null,session:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Zt}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(x(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(n){return p(this,null,function*(){var r,o,i,s;return yield this._removeSession(),yield this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=n.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(n){return p(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return this._exchangeCodeForSession(n)}))})}_exchangeCodeForSession(n){return p(this,null,function*(){let r=yield Gn(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/"),{data:s,error:a}=yield T(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:Ge});return yield Bo(this.storage,`${this.storageKey}-code-verifier`),a?{data:{user:null,session:null,redirectType:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Zt}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})})}signInWithIdToken(n){return p(this,null,function*(){yield this._removeSession();try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=n,c=yield T(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ge}),{data:l,error:u}=c;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Zt}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(x(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(n){return p(this,null,function*(){var r,o,i,s,a;try{if(yield this._removeSession(),"email"in n){let{email:c,options:l}=n,u=null,d=null;if(this.flowType==="pkce"){let h=vt();yield We(this.storage,`${this.storageKey}-code-verifier`,h),u=yield yt(h),d=h===u?"plain":"s256"}let{error:f}=yield T(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in n){let{phone:c,options:l}=n,{data:u,error:d}=yield T(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new wt("You must provide either an email or phone number.")}catch(c){if(x(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(n){return p(this,null,function*(){var r,o;try{n.type!=="email_change"&&n.type!=="phone_change"&&(yield this._removeSession());let i,s;"options"in n&&(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(o=n.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=yield T(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Ge});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(x(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithSSO(n){return p(this,null,function*(){var r,o,i;try{yield this._removeSession();let s=null,a=null;if(this.flowType==="pkce"){let c=vt();yield We(this.storage,`${this.storageKey}-code-verifier`,c),s=yield yt(c),a=c===s?"plain":"s256"}return yield T(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=n?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:uf})}catch(s){if(x(s))return{data:null,error:s};throw s}})}reauthenticate(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return p(this,null,function*(){try{return yield this._useSession(n=>p(this,null,function*(){let{data:{session:r},error:o}=n;if(o)throw o;if(!r)throw new Ae;let{error:i}=yield T(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}}))}catch(n){if(x(n))return{data:{user:null,session:null},error:n};throw n}})}resend(n){return p(this,null,function*(){try{n.type!="email_change"&&n.type!="phone_change"&&(yield this._removeSession());let r=`${this.url}/resend`;if("email"in n){let{email:o,type:i,options:s}=n,{error:a}=yield T(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in n){let{phone:o,type:i,options:s}=n,{data:a,error:c}=yield T(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new wt("You must provide either an email or phone number and a type")}catch(r){if(x(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return p(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return this._useSession(n=>p(this,null,function*(){return n}))}))})}_acquireLock(n,r){return p(this,null,function*(){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=p(this,null,function*(){return yield o,yield r()});return this.pendingInLock.push(p(this,null,function*(){try{yield i}catch{}})),i}return yield this.lock(`lock:${this.storageKey}`,n,()=>p(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push(p(this,null,function*(){try{yield o}catch{}})),yield o;this.pendingInLock.length;){let i=[...this.pendingInLock];yield Promise.all(i),this.pendingInLock.splice(0,i.length)}return yield o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(n){return p(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield n(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return p(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=yield Gn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!n)return{data:{session:null},error:null};let o=n.expires_at?n.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o)return{data:{session:n},error:null};let{session:i,error:s}=yield this._callRefreshToken(n.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(n){return p(this,null,function*(){return n?yield this._getUser(n):(yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return yield this._getUser()})))})}_getUser(n){return p(this,null,function*(){try{return n?yield T(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:De}):yield this._useSession(r=>p(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)throw a;return yield T(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0,xform:De})}))}catch(r){if(x(r))return{data:{user:null},error:r};throw r}})}updateUser(o){return p(this,arguments,function*(n,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._updateUser(n,r)}))})}_updateUser(o){return p(this,arguments,function*(n,r={}){try{return yield this._useSession(i=>p(this,null,function*(){let{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new Ae;let c=s.session,l=null,u=null;if(this.flowType==="pkce"&&n.email!=null){let h=vt();yield We(this.storage,`${this.storageKey}-code-verifier`,h),l=yield yt(h),u=h===l?"plain":"s256"}let{data:d,error:f}=yield T(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:l,code_challenge_method:u}),jwt:c.access_token,xform:De});if(f)throw f;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(i){if(x(i))return{data:{user:null},error:i};throw i}})}_decodeJWT(n){return Ta(n)}setSession(n){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._setSession(n)}))})}_setSession(n){return p(this,null,function*(){try{if(!n.access_token||!n.refresh_token)throw new Ae;let r=Date.now()/1e3,o=r,i=!0,s=null,a=Ta(n.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{session:c,error:l}=yield this._callRefreshToken(n.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=yield this._getUser(n.access_token);if(l)throw l;s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(x(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(n){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._refreshSession(n)}))})}_refreshSession(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(o=a.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new Ae;let{session:i,error:s}=yield this._callRefreshToken(n.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(x(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(n){return p(this,null,function*(){try{if(!ve())throw new _t("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new _t("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!n)throw new Qn("Not a valid PKCE flow url.");let r=Ho(window.location.href);if(n){if(!r.code)throw new Qn("No code detected.");let{data:V,error:O}=yield this._exchangeCodeForSession(r.code);if(O)throw O;let $=new URL(window.location.href);return $.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$.toString()),{data:{session:V.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new _t(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=r;if(!s||!c||!a||!u)throw new _t("No session defined in URL");let d=Math.round(Date.now()/1e3),f=parseInt(c),h=d+f;l&&(h=parseInt(l));let m=h-d;m*1e3<=Jn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);let g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",g,h,d);let{data:v,error:_}=yield this._getUser(s);if(_)throw _;let P={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:P,redirectType:r.type},error:null}}catch(r){if(x(r))return{data:{session:null,redirectType:null},error:r};throw r}})}_isImplicitGrantFlow(){let n=Ho(window.location.href);return!!(ve()&&(n.access_token||n.error_description))}_isPKCEFlow(){return p(this,null,function*(){let n=Ho(window.location.href),r=yield Gn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)})}signOut(){return p(this,arguments,function*(n={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._signOut(n)}))})}_signOut(){return p(this,arguments,function*({scope:n}={scope:"global"}){return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{error:s};let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=yield this.admin.signOut(a,n);if(c&&!(cf(c)&&(c.status===404||c.status===401)))return{error:c}}return n!=="others"&&(yield this._removeSession(),yield Bo(this.storage,`${this.storageKey}-code-verifier`),yield this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}}))})}onAuthStateChange(n){let r=rf(),o={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),p(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:o}}}_emitInitialSession(n){return p(this,null,function*(){return yield this._useSession(r=>p(this,null,function*(){var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){yield(i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}}))})}resetPasswordForEmail(o){return p(this,arguments,function*(n,r={}){let i=null,s=null;if(this.flowType==="pkce"){let a=vt();yield We(this.storage,`${this.storageKey}-code-verifier`,`${a}/PASSWORD_RECOVERY`),i=yield yt(a),s=a===i?"plain":"s256"}try{return yield T(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(x(a))return{data:null,error:a};throw a}})}getUserIdentities(){return p(this,null,function*(){var n;try{let{data:r,error:o}=yield this.getUser();if(o)throw o;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(x(r))return{data:null,error:r};throw r}})}linkIdentity(n){return p(this,null,function*(){var r;try{let{data:o,error:i}=yield this._useSession(s=>p(this,null,function*(){var a,c,l,u,d;let{data:f,error:h}=s;if(h)throw h;let m=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield T(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(i)throw i;return ve()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:n.provider,url:o?.url},error:null}}catch(o){if(x(o))return{data:{provider:n.provider,url:null},error:o};throw o}})}unlinkIdentity(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)throw a;return yield T(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})}))}catch(r){if(x(r))return{data:null,error:r};throw r}})}_refreshAccessToken(n){return p(this,null,function*(){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return yield af(i=>p(this,null,function*(){return yield sf(i*200),this._debug(r,"refreshing attempt",i),yield T(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Ge})}),(i,s,a)=>a&&a.error&&Go(a.error)&&Date.now()+(i+1)*200-o<Jn)}catch(o){if(this._debug(r,"error",o),x(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,r){return p(this,null,function*(){let o=yield this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",o),ve()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}})}_recoverAndRefresh(){return p(this,null,function*(){var n;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let o=yield Gn(this.storage,this.storageKey);if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&(yield this._removeSession());return}let i=Math.round(Date.now()/1e3),s=((n=o.expires_at)!==null&&n!==void 0?n:1/0)<i+Sa;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Sa}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),Go(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}})}_callRefreshToken(n){return p(this,null,function*(){var r,o;if(!n)throw new Ae;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Wn;let{data:s,error:a}=yield this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new Ae;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={session:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),x(s)){let a={session:null,error:s};return Go(s)||(yield this._removeSession(),yield this._notifyAllSubscribers("SIGNED_OUT",null)),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}})}_notifyAllSubscribers(n,r,o=!0){return p(this,null,function*(){let i=`#_notifyAllSubscribers(${n})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>p(this,null,function*(){try{yield c.callback(n,r)}catch(l){s.push(l)}}));if(yield Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}})}_saveSession(n){return p(this,null,function*(){this._debug("#_saveSession()",n),yield We(this.storage,this.storageKey,n)})}_removeSession(){return p(this,null,function*(){this._debug("#_removeSession()"),yield Bo(this.storage,this.storageKey)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ve()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return p(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Jn);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(()=>p(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return p(this,null,function*(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)})}startAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return p(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>p(this,null,function*(){try{let n=Date.now();try{return yield this._useSession(r=>p(this,null,function*(){let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-n)/Jn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Jn}ms, refresh threshold is ${yf} ticks`),i<=yf&&(yield this._callRefreshToken(o.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(n){if(n.isAcquireTimeout||n instanceof Qo)this._debug("auto refresh token tick lock not available");else throw n}})}_handleVisibilityChange(){return p(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!ve()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>p(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return p(this,null,function*(){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,r,o){return p(this,null,function*(){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let s=vt();yield We(this.storage,`${this.storageKey}-code-verifier`,s);let a=yield yt(s),c=s===a?"plain":"s256";this._debug("PKCE","code verifier",`${s.substring(0,5)}...`,"code challenge",a,"method",c);let l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(l.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${i.join("&")}`})}_unenroll(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield T(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(x(r))return{data:null,error:r};throw r}})}_enroll(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)return{data:null,error:a};let{data:c,error:l}=yield T(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:n.friendlyName,factor_type:n.factorType,issuer:n.issuer},headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return l?{data:null,error:l}:(!((i=c?.totp)===null||i===void 0)&&i.qr_code&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(r){if(x(r))return{data:null,error:r};throw r}})}_verify(n){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:c}=yield T(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})}))}catch(r){if(x(r))return{data:null,error:r};throw r}}))})}_challenge(n){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield T(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(x(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(n){return p(this,null,function*(){let{data:r,error:o}=yield this._challenge({factorId:n.factorId});return o?{data:null,error:o}:yield this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})})}_listFactors(){return p(this,null,function*(){let{data:{user:n},error:r}=yield this.getUser();if(r)return{data:null,error:r};let o=n?.factors||[],i=o.filter(s=>s.factor_type==="totp"&&s.status==="verified");return{data:{all:o,totp:i},error:null}})}_getAuthenticatorAssuranceLevel(){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){return yield this._useSession(n=>p(this,null,function*(){var r,o;let{data:{session:i},error:s}=n;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(i.access_token),c=null;a.aal&&(c=a.aal);let l=c;((o=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(l="aal2");let d=a.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}))})}}return t.nextInstanceID=0,t})();var Yo=class extends Jo{constructor(e){super(e)}};var Hw=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},Ko=class{constructor(e,n,r){var o,i,s,a,c,l,u,d;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");let f=ef(e);this.realtimeUrl=`${f}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${f}/auth/v1`,this.storageUrl=`${f}/storage/v1`,this.functionsUrl=`${f}/functions/v1`;let h=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,m={db:Yd,realtime:Zd,auth:Object.assign(Object.assign({},Kd),{storageKey:h}),global:Jd},g=tf(r??{},m);this.storageKey=(i=(o=g.auth)===null||o===void 0?void 0:o.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=(s=g.global)===null||s===void 0?void 0:s.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((c=g.auth)!==null&&c!==void 0?c:{},this.headers,(l=g.global)===null||l===void 0?void 0:l.fetch),this.fetch=Xd(n,this._getAccessToken.bind(this),(u=g.global)===null||u===void 0?void 0:u.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},g.realtime)),this.rest=new jn(`${f}/rest/v1`,{headers:this.headers,schema:(d=g.db)===null||d===void 0?void 0:d.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new kn(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Bn(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Hw(this,void 0,void 0,function*(){let{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,storageKey:i,flowType:s,debug:a},c,l){let u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Yo({url:this.authUrl,headers:Object.assign(Object.assign({},u),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,flowType:s,debug:a,fetch:l})}_initRealtimeClient(e){return new $n(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var wf=(t,e,n)=>new Ko(t,e,n);var Oa={production:!0,supabaseUrl:"YOUR_SUPABASE_URL",supabaseKey:"YOUR_SUPABASE_KEY"};var CS=(()=>{let e=class e{constructor(){this._session=null,this.sessionSignal=ma(null),this.user=new Je(null),this.supabase=wf(Oa.supabaseUrl,Oa.supabaseKey),this.supabase.auth.onAuthStateChange((r,o)=>{if(console.log(r),console.log(o),this.sessionSignal.set(o),r==="SIGNED_IN"||r==="TOKEN_REFRESHED"){if(this.user.next(o.user),r==="SIGNED_IN"){console.log("save user to db");let i=o.user;console.log(i),this.updateProfile({id:i?.id,avatar_url:i?.user_metadata.avatar_url,username:i?.user_metadata.name,website:"",provider_refresh_token:o?.provider_refresh_token}).then(a=>{console.log("completed"),console.log(a)})}}else this.user.next(null)})}get session(){return this.supabase.auth.getSession().then(({data:r})=>{this._session=r.session}),this._session}getUser(){return p(this,null,function*(){return yield this.supabase.auth.getUser()})}profile(r){return this.supabase.from("profiles").select("username, website, avatar_url, provider_refresh_token").eq("id",r.id).single()}authChanges(r){return this.supabase.auth.onAuthStateChange(r)}signInGoogle(){return p(this,null,function*(){return this.supabase.auth.signInWithOAuth({provider:"google",options:{scopes:"https://www.googleapis.com/auth/calendar",queryParams:{access_type:"offline",prompt:"consent"}}})})}signIn(r){return this.supabase.auth.signInWithOtp({email:r})}signOut(){return this.supabase.auth.signOut()}updateProfile(r){let o=ce(ae({},r),{updated_at:new Date});return this.supabase.from("profiles").upsert(o)}downLoadImage(r){return this.supabase.storage.from("avatars").download(r)}uploadAvatar(r,o){return this.supabase.storage.from("avatars").upload(r,o)}updateShift(r){let o=ce(ae({},r),{updated_at:new Date});return this.supabase.from("shifts").upsert(o)}getShifts(){return this.supabase.from("shifts").select().returns()}updateEvent(r){let o=ce(ae({},r),{updated_at:new Date,owner_id:r.owner_id??this._session?.user.id});return this.supabase.from("events").upsert(o)}getEvents(){return this.supabase.from("events").select().returns()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();export{q as a,Af as b,N as c,fi as d,hi as e,Tt as f,Je as g,dn as h,Pe as i,Uf as j,Bf as k,qf as l,Ke as m,Ce as n,Zf as o,Ze as p,xr as q,eh as r,th as s,fn as t,gc as u,nh as v,hn as w,pi as x,rh as y,ih as z,yc as A,mi as B,sh as C,ah as D,ch as E,lh as F,uh as G,dh as H,C as I,pn as J,SD as K,M as L,oe as M,gn as N,Pt as O,ND as P,OD as Q,AD as R,kD as S,PD as T,RD as U,po as V,LD as W,z as X,jD as Y,FD as Z,j as _,VD as $,wp as aa,$D as ba,HD as ca,Bl as da,Fe as ea,W as fa,Lp as ga,ru as ha,Ve as ia,UD as ja,Qp as ka,Yp as la,BD as ma,qD as na,ta as oa,lt as pa,_m as qa,WD as ra,Qi as sa,GD as ta,Io as ua,Yr as va,ns as wa,JD as xa,YD as ya,ma as za,Jg as Aa,Yg as Ba,Kg as Ca,cd as Da,rv as Ea,Ie as Fa,wa as Ga,ZD as Ha,XD as Ia,Fv as Ja,eC as Ka,bs as La,qv as Ma,wd as Na,xs as Oa,Jv as Pa,ry as Qa,oy as Ra,iy as Sa,tC as Ta,nC as Ua,rC as Va,oC as Wa,Id as Xa,Ed as Ya,wy as Za,Iy as _a,iC as $a,Cy as ab,Ny as bb,sC as cb,aC as db,cC as eb,lC as fb,uC as gb,dC as hb,fC as ib,hC as jb,pC as kb,mC as lb,Ry as mb,Td as nb,Ly as ob,gC as pb,jy as qb,vC as rb,yC as sb,wC as tb,_C as ub,bC as vb,IC as wb,EC as xb,xC as yb,Nd as zb,Jy as Ab,Ad as Bb,DC as Cb,kd as Db,CC as Eb,TC as Fb,CS as Gb};
